{"ast":null,"code":"import React,{useState,useEffect,createContext,useContext}from'react';// --- Global Context for Cart Management ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();// --- Expanded Product Data ---\nconst products=[{id:'monopoly-3rd-edition',name:'Monopoly: 3rd Edition',description:'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',price:29.99,imageUrl:'https://placehold.co/300x300/F0F8FF/000000?text=Monopoly+3rd',category:'Games'},{id:'uno-card-game',name:'Uno Card Game',description:'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',price:9.99,imageUrl:'https://placehold.co/300x300/E6E6FA/000000?text=Uno+Cards',category:'Games'},{id:'special-facial-soap',name:'Special Facial Soap',description:'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',price:12.50,imageUrl:'https://placehold.co/300x300/F5F5DC/000000?text=Facial+Soap',category:'Beauty'},{id:'fancy-hairbrush',name:'Fancy Hairbrush',description:'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',price:18.00,imageUrl:'https://placehold.co/300x300/FFF0F5/000000?text=Hairbrush',category:'Beauty'},{id:'labubu-blind-box-series-8',name:'Labubu Blind Box Series 8',description:'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',price:16.99,imageUrl:'https://placehold.co/300x300/ADD8E6/000000?text=Labubu+Series+8',category:'Collectible'},{id:'labubu-ghost-hunter-plush',name:'Labubu Ghost Hunter Plush',description:'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',price:25.00,imageUrl:'https://placehold.co/300x300/B0E0E6/000000?text=Labubu+Ghost',category:'Collectible'},{id:'labubu-plush-keychain',name:'Labubu Plush Keychain',description:'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',price:9.50,imageUrl:'https://placehold.co/300x300/87CEEB/000000?text=Labubu+Keychain',category:'Collectible'},{id:'electric-pour-over-kettle',name:'Electric Pour-over Kettle',description:'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',price:59.99,imageUrl:'https://placehold.co/300x300/6495ED/000000?text=Pour-over+Kettle',category:'Kitchen'},{id:'retro-gaming-mousepad',name:'Retro Gaming Mousepad',description:'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',price:14.99,imageUrl:'https://placehold.co/300x300/4682B4/000000?text=Retro+Mousepad',category:'Electronics'},{id:'airpods-pro-3rd-gen',name:'AirPods Pro 3rd Gen',description:'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',price:249.00,imageUrl:'https://placehold.co/300x300/5F9EA0/000000?text=AirPods+Pro',category:'Electronics'},{id:'nintendo-switch-lite',name:'Nintendo Switch Lite',description:'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',price:199.99,imageUrl:'https://placehold.co/300x300/7FFFD4/000000?text=Switch+Lite',category:'Electronics'},{id:'collectible-ceramic-mug',name:'Collectible Ceramic Mug',description:'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',price:11.99,imageUrl:'https://placehold.co/300x300/AFEEEE/000000?text=Ceramic+Mug',category:'Collectible'// Changed to collectible for Popmart relevance\n},{id:'summer-splash-towel',name:'Summer Splash Towel',description:'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',price:19.99,imageUrl:'https://placehold.co/300x300/00CED1/000000?text=Splash+Towel',category:'Home Goods'},{id:'holiday-cookie-tin',name:'Holiday Cookie Tin',description:'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',price:15.00,imageUrl:'https://placehold.co/300x300/40E0D0/000000?text=Cookie+Tin',category:'Food'},{id:'wireless-pet-tracker',name:'Wireless Pet Tracker',description:'Keep track of your furry friend with this compact and reliable wireless pet tracker.',price:45.00,imageUrl:'https://placehold.co/300x300/20B2AA/000000?text=Pet+Tracker',category:'Pet Supplies'},{id:'smart-home-hub-mini',name:'Smart Home Hub Mini',description:'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',price:79.99,imageUrl:'https://placehold.co/300x300/3CB371/000000?text=Smart+Hub',category:'Smart Home'},{id:'mystery-snack-pack',name:'Mystery Snack Pack',description:'A surprise assortment of delicious and unique snacks from around the world. What will you get?',price:10.00,imageUrl:'https://placehold.co/300x300/98FB98/000000?text=Mystery+Snack',category:'Food'},{id:'stainless-steel-tumbler',name:'Stainless Steel Tumbler',description:'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',price:22.99,imageUrl:'https://placehold.co/300x300/ADFF2F/000000?text=Steel+Tumbler',category:'Home Goods'},{id:'rechargeable-hand-warmer',name:'Rechargeable Hand Warmer',description:'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',price:28.00,imageUrl:'https://placehold.co/300x300/7CFC00/000000?text=Hand+Warmer',category:'Outdoor'},{id:'super-soft-throw-blanket',name:'Super Soft Throw Blanket',description:'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',price:35.00,imageUrl:'https://placehold.co/300x300/00FF7F/000000?text=Throw+Blanket',category:'Home Goods'},{id:'labubu-golden-edition-figure',name:'Labubu Golden Edition Figure',description:'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',price:49.99,imageUrl:'https://placehold.co/300x300/32CD32/000000?text=Labubu+Golden',category:'Collectible'},{id:'wireless-earbuds-gen2',name:'Wireless Earbuds Gen2',description:'Second generation wireless earbuds with enhanced sound quality and longer battery life.',price:89.99,imageUrl:'https://placehold.co/300x300/228B22/000000?text=Earbuds+Gen2',category:'Electronics'},{id:'led-desk-lamp-pro',name:'LED Desk Lamp Pro',description:'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',price:49.00,imageUrl:'https://placehold.co/300x300/008000/000000?text=Desk+Lamp+Pro',category:'Home Office'},{id:'ergonomic-office-chair',name:'Ergonomic Office Chair',description:'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',price:199.00,imageUrl:'https://placehold.co/300x300/006400/000000?text=Office+Chair',category:'Home Office'},{id:'bluetooth-speaker-splash',name:'Bluetooth Speaker Splash',description:'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',price:65.00,imageUrl:'https://placehold.co/300x300/2E8B57/000000?text=Bluetooth+Speaker',category:'Electronics'},{id:'crystal-growing-kit',name:'Crystal Growing Kit',description:'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',price:20.00,imageUrl:'https://placehold.co/300x300/3CB371/000000?text=Crystal+Kit',category:'Toys & Hobbies'},{id:'build-your-own-robot-kit',name:'Build-Your-Own Robot Kit',description:'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',price:75.00,imageUrl:'https://placehold.co/300x300/66CDAA/000000?text=Robot+Kit',category:'Toys & Hobbies'},{id:'color-changing-mug',name:'Color-Changing Mug',description:'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',price:14.00,imageUrl:'https://placehold.co/300x300/8FBC8F/000000?text=Color+Mug',category:'Home Goods'},{id:'fashion-face-mask-3-pack',name:'Fashion Face Mask (3-pack)',description:'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',price:18.00,imageUrl:'https://placehold.co/300x300/90EE90/000000?text=Face+Masks',category:'Apparel'},{id:'mini-projector-hd',name:'Mini Projector HD',description:'Compact and portable HD projector for movies, presentations, or gaming on the go.',price:120.00,imageUrl:'https://placehold.co/300x300/9ACD32/000000?text=Mini+Projector',category:'Electronics'},{id:'doggo-deluxe-bed',name:'Doggo Deluxe Bed',description:'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',price:55.00,imageUrl:'https://placehold.co/300x300/6B8E23/000000?text=Dog+Bed',category:'Pet Supplies'},{id:'cat-castle-tower',name:'Cat Castle Tower',description:'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',price:85.00,imageUrl:'https://placehold.co/300x300/808000/000000?text=Cat+Tower',category:'Pet Supplies'},{id:'all-season-yoga-mat',name:'All-Season Yoga Mat',description:'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',price:29.99,imageUrl:'https://placehold.co/300x300/BDB76B/000000?text=Yoga+Mat',category:'Sports & Fitness'},{id:'travel-packing-cubes',name:'Travel Packing Cubes',description:'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',price:24.99,imageUrl:'https://placehold.co/300x300/DAA520/000000?text=Packing+Cubes',category:'Travel'},{id:'smart-plant-sensor',name:'Smart Plant Sensor',description:'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',price:39.99,imageUrl:'https://placehold.co/300x300/FFD700/000000?text=Plant+Sensor',category:'Smart Home'},{id:'pop-culture-puzzle-set',name:'Pop Culture Puzzle Set',description:'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',price:22.00,imageUrl:'https://placehold.co/300x300/FFA500/000000?text=Pop+Puzzle',category:'Games'},{id:'classic-denim-jacket',name:'Classic Denim Jacket',description:'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',price:69.00,imageUrl:'https://placehold.co/300x300/FF8C00/000000?text=Denim+Jacket',category:'Apparel'},{id:'pocket-blender-pro',name:'Pocket Blender Pro',description:'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',price:39.99,imageUrl:'https://placehold.co/300x300/FF4500/000000?text=Pocket+Blender',category:'Kitchen'},{id:'microfiber-cleaning-slippers',name:'Microfiber Cleaning Slippers',description:'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',price:15.00,imageUrl:'https://placehold.co/300x300/FF6347/000000?text=Cleaning+Slippers',category:'Home Goods'},{id:'personal-blender-bottle',name:'Personal Blender Bottle',description:'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',price:25.00,imageUrl:'https://placehold.co/300x300/CD5C5C/000000?text=Blender+Bottle',category:'Kitchen'},{id:'wireless-charging-pad',name:'Wireless Charging Pad',description:'Fast and efficient wireless charging pad for compatible smartphones and devices.',price:29.00,imageUrl:'https://placehold.co/300x300/DC143C/000000?text=Charging+Pad',category:'Electronics'},{id:'kitchen-chef-knife-set',name:'Kitchen Chef Set',description:'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',price:89.99,imageUrl:'https://placehold.co/300x300/B22222/000000?text=Knife+Set',category:'Kitchen'},{id:'instant-cold-brew-maker',name:'Instant Cold Brew Maker',description:'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',price:34.99,imageUrl:'https://placehold.co/300x300/8B0000/000000?text=Cold+Brew+Maker',category:'Kitchen'},{id:'uv-sanitizing-box',name:'UV Sanitizing Box',description:'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',price:49.99,imageUrl:'https://placehold.co/300x300/A52A2A/000000?text=UV+Sanitizer',category:'Health & Personal Care'},{id:'portable-fire-pit',name:'Portable Fire Pit',description:'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',price:79.00,imageUrl:'https://placehold.co/300x300/D2B48C/000000?text=Fire+Pit',category:'Outdoor'},{id:'commuter-insulated-backpack',name:'Commuter Insulated Backpack',description:'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',price:59.00,imageUrl:'https://placehold.co/300x300/F4A460/000000?text=Insulated+Backpack',category:'Travel'},{id:'labubu-vampire-bunny-plush',name:'Labubu Vampire Bunny Plush',description:'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',price:28.00,imageUrl:'https://placehold.co/300x300/FF7F50/000000?text=Labubu+Vampire',category:'Collectible'},{id:'labubu-sweet-dream-figure',name:'Labubu Sweet Dream Figure',description:'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',price:17.50,imageUrl:'https://placehold.co/300x300/FF69B4/000000?text=Labubu+Sweet+Dream',category:'Collectible'},{id:'labubu-trick-or-treat-series',name:'Labubu Trick-or-Treat Series',description:'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',price:16.99,imageUrl:'https://placehold.co/300x300/FF1493/000000?text=Labubu+Trick',category:'Collectible'},{id:'marvel-collector-keychain',name:'Marvel Collector Keychain',description:'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',price:7.99,imageUrl:'https://placehold.co/300x300/C71585/000000?text=Marvel+Keychain',category:'Collectible'},{id:'holiday-advent-calendar',name:'Holiday Advent Calendar',description:'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',price:25.00,imageUrl:'https://placehold.co/300x300/DB7093/000000?text=Advent+Calendar',category:'Holiday'}];// Define a subset of products for the \"Featured Products\" section on the Home Page\n// Filter for Labubu products and other items explicitly categorized as 'Collectible'\nconst featuredProducts=products.filter(product=>product.name.toLowerCase().includes('labubu')||product.category==='Collectible');// --- Components ---\nconst Header=_ref=>{let{navigate,cartItemCount}=_ref;return/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold font-inter cursor-pointer\",onClick:()=>navigate('home'),children:\"Brandazon\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:\"Home\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('products'),className:\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:\"Products\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('simulatedSearch')// New navigation button\n,className:\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:\"Simulate Ad\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('cart'),className:\"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:[\"Cart (\",cartItemCount,\")\",cartItemCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\",children:cartItemCount})]})]})]})});};// New Banner Component\nconst PartnershipBanner=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://placehold.co/150x150/FFFFFF/FF69B4?text=Labubu+x+Popmart\",alt:\"Labubu x Popmart Partnership\",className:\"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/150x150/CCCCCC/000000?text=Partnership`;}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block\",children:\"Brandazon x Labubu\"}),/*#__PURE__*/_jsx(\"span\",{className:\"block text-2xl md:text-3xl font-semibold mt-1\",children:\"Exclusive Partnership with Popmart!\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg md:text-xl font-medium opacity-90\",children:\"Discover the latest Labubu drops and limited editions, only here.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\",children:\"Shop Labubu Now!\"})]})]})});};const ProductCard=_ref2=>{let{product,navigate}=_ref2;const{cart,setCart}=useContext(CartContext);const handleAddToCart=()=>{const existingItem=cart.find(item=>item.id===product.id);if(existingItem){setCart(cart.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item));}else{setCart([...cart,{...product,quantity:1}]);}// You can add your 'added_to_cart' event tracking here\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name,className:\"w-full h-48 object-cover rounded-t-xl\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/300x300/CCCCCC/000000?text=Image+Not+Found`;}}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 flex-grow flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3 line-clamp-3\",children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-purple-700 mb-4\",children:[\"$\",product.price.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('productDetail',product.id),className:\"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Add to Cart\"})]})]})]});};const HomePage=_ref3=>{let{navigate}=_ref3;useEffect(()=>{// You can add your 'page_view' or 'viewed_home_screen' event tracking here\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(PartnershipBanner,{}),\" \",/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"Featured Labubu & Popmart Collectibles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",children:featuredProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,navigate:navigate},product.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-12\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('products'),className:\"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"View All Products\"})})]});};const ProductsPage=_ref4=>{let{navigate}=_ref4;useEffect(()=>{// You can add your 'page_view' or 'product_list_viewed' event tracking here\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"All Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",children:products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,navigate:navigate},product.id))})]});};const ProductDetailPage=_ref5=>{let{productId,navigate}=_ref5;// productId is now received as a prop\nconst[utmParams,setUtmParams]=useState(null);const{cart,setCart}=useContext(CartContext);// Find the product based on the productId prop\nconst product=products.find(p=>p.id===productId);useEffect(()=>{// Parse URL parameters from window.location.hash.split('?')[1]\nconst hashParts=window.location.hash.split('?');const queryString=hashParts.length>1?hashParts[1]:'';const params=new URLSearchParams(queryString);const parsedUtm={};for(let[key,value]of params.entries()){// Collect all parameters, especially UTM and Google Ads related ones\nif(key.startsWith('utm_')||key.startsWith('gad_')||key.startsWith('gclid')||key.startsWith('gbraid')){parsedUtm[key]=value;}}if(Object.keys(parsedUtm).length>0){setUtmParams(parsedUtm);}else{setUtmParams(null);// Clear if no UTMs are present\n}if(product){// You can add your 'page_view' or 'product_viewed' event tracking here\n// If UTM parameters are present, this is where you'd log your 'Campaign Attribution Recorded' event\nif(utmParams){// Example for Segment:\n// analytics.track('Campaign Attribution Recorded', {\n//   product_id: product.id,\n//   product_name: product.name,\n//   utm_source: utmParams.utm_source,\n//   utm_medium: utmParams.utm_medium,\n//   utm_campaign: utmParams.utm_campaign,\n//   utm_content: utmParams.utm_content,\n//   utm_term: utmParams.utm_term,\n//   gad_source: utmParams.gad_source,\n//   gad_campaignid: utmParams.gad_campaignid,\n//   gbraid: utmParams.gbraid,\n//   gclid: utmParams.gclid,\n//   // ... other relevant parameters\n// });\nconsole.log('Campaign Attribution Recorded (from URL parameters):',utmParams);}}},[productId,product,utmParams]);// Depend on productId, product, and utmParams to ensure tracking fires when they are resolved\nif(!product){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6 text-center text-red-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"Product Not Found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"mt-4 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\",children:\"Back to Home\"})]});}const handleAddToCart=()=>{const existingItem=cart.find(item=>item.id===product.id);if(existingItem){setCart(cart.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item));}else{setCart([...cart,{...product,quantity:1}]);}// You can add your 'added_to_cart' event tracking here\n};return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start gap-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name,className:\"w-full md:w-1/2 lg:w-1/3 h-auto object-cover rounded-lg shadow-md\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/400x400/CCCCCC/000000?text=Image+Not+Found`;}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-4\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-lg mb-6\",children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-4xl font-bold text-purple-700 mb-6\",children:[\"$\",product.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"bg-purple-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"ml-4 bg-gray-300 text-gray-800 py-3 px-8 rounded-lg text-xl font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"Back to Home\"})]})]})});};const CartPage=_ref6=>{let{navigate}=_ref6;const{cart,setCart}=useContext(CartContext);useEffect(()=>{// You can add your 'cart_viewed' event tracking here\n},[]);const updateQuantity=(id,delta)=>{const item=cart.find(i=>i.id===id);if(!item)return;const newQuantity=item.quantity+delta;if(newQuantity<=0){// Remove item if quantity is 0 or less\nsetCart(cart.filter(i=>i.id!==id));// You can add your 'removed_from_cart' event tracking here\n}else{setCart(cart.map(i=>i.id===id?{...i,quantity:newQuantity}:i));if(delta>0){// You can add your 'added_to_cart' event tracking here\n}else{// You can add your 'removed_from_cart' event tracking here\n}}};const removeItem=id=>{const itemToRemove=cart.find(item=>item.id===id);if(itemToRemove){setCart(cart.filter(item=>item.id!==id));// You can add your 'removed_from_cart' event tracking here\n}};const totalAmount=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);const handleCheckout=()=>{// You can add your 'checkout_started' event tracking here\nnavigate('checkout');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"Your Shopping Cart\"}),cart.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-600 text-xl\",children:[\"Your cart is empty. \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"text-blue-600 hover:underline\",children:\"Start shopping!\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.name,className:\"w-20 h-20 object-cover rounded-lg shadow-sm\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/80x80/CCCCCC/000000?text=Img`;}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"$\",item.price.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border border-gray-300 rounded-md\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,-1),className:\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-md\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 border-x border-gray-300\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,1),className:\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-md\",children:\"+\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-purple-700 w-24 text-right\",children:[\"$\",(item.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItem(item.id),className:\"text-red-500 hover:text-red-700 transition duration-300\",title:\"Remove item\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center mt-8 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 mr-4\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-extrabold text-purple-800\",children:[\"$\",totalAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end mt-6 space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Continue Shopping\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckout,className:\"bg-green-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-green-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Proceed to Checkout\"})]})]})]});};const CheckoutPage=_ref7=>{let{navigate}=_ref7;const{cart,setCart}=useContext(CartContext);const[orderPlaced,setOrderPlaced]=useState(false);const totalAmount=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);useEffect(()=>{// You can add your 'page_view' for 'Checkout Page' event tracking here\n},[]);const handlePlaceOrder=()=>{const orderId=`ORDER-${Date.now()}-${Math.floor(Math.random()*1000)}`;// You can add your 'order_completed' event tracking here\nsetOrderPlaced(true);setCart([]);// Clear cart after purchase\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"Checkout\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:orderPlaced?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-green-700 text-2xl font-semibold\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"\\uD83C\\uDF89 Your order has been placed successfully!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for shopping with Brandazon!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"mt-8 bg-purple-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Continue Shopping\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Order Summary\"}),cart.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Your cart is empty. Please add items before checking out.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between text-gray-700 text-lg\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" (x\",item.quantity,\")\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",(item.price*item.quantity).toFixed(2)]})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-6 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-extrabold text-purple-800\",children:[\"$\",totalAmount.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Shipping Information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullName\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"fullName\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"John Doe\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"123 Main St\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"Anytown\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zip\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Zip Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"zip\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"12345\",required:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Payment Information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cardNumber\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Card Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cardNumber\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"**** **** **** ****\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expiryDate\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Expiry Date (MM/YY)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"expiryDate\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"12/25\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cvv\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"CVV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cvv\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"123\",required:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('cart'),className:\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Back to Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePlaceOrder,disabled:cart.length===0,className:`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length===0?'bg-gray-400 text-gray-600 cursor-not-allowed':'bg-green-600 text-white hover:bg-green-700'}`,children:\"Place Order\"})]})]})})]});};// New Simulated Search Engine Page\nconst SimulatedSearchEnginePage=()=>{const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{// You can add your 'page_view' for 'Simulated Search Engine' here\n},[]);const handleAdClick=()=>{const lowerCaseSearchTerm=searchTerm.toLowerCase();let targetProductId='labubu-blind-box-series-8';// Default Labubu product\nconst matchedProduct=products.find(p=>p.name.toLowerCase().includes(lowerCaseSearchTerm)||p.description.toLowerCase().includes(lowerCaseSearchTerm)||p.category.toLowerCase().includes(lowerCaseSearchTerm));if(matchedProduct){targetProductId=matchedProduct.id;}// Construct the query parameters string\nconst queryParams=new URLSearchParams();queryParams.append('utm_source','google');queryParams.append('utm_medium','cpc');queryParams.append('utm_campaign','labubu_launch_q3');queryParams.append('utm_content','search_ad_banner');queryParams.append('utm_term',searchTerm.trim()||'default_search_term');queryParams.append('gad_source','1');queryParams.append('gad_campaignid','22690431292');queryParams.append('gbraid','0AAAAApZoGaVNZnuRe968aNy6x-Z4Y9TI6');queryParams.append('gclid','CjwKCAjw1ozEBhAdEiwAn9qbzT99fJagIv7foNLlQnHysh63ZqtvIRL_hVhVDsUw_948_5Hs1WQu-BoCZCYQAvD_BwE');// Example GCLID\n// Construct the full URL with hash routing for SPA and query parameters\nconst baseUrl=window.location.origin+window.location.pathname;const constructedUrl=`${baseUrl}#/product/${targetProductId}?${queryParams.toString()}`;// Simulate a full page redirect to update the URL in the browser\nwindow.location.href=constructedUrl;};return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-6 flex flex-col items-center justify-center min-h-[60vh]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8\",children:\"Simulate a Search Engine Ad\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-lg mb-6\",children:\"Type a search query below and click \\\"Simulate Ad Click\\\" to see how UTM parameters would be passed to Brandazon.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 mb-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"flex-grow shadow appearance-none border rounded-lg py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"e.g., Labubu, Earbuds, Monopoly\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onKeyPress:e=>{if(e.key==='Enter')handleAdClick();}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAdClick,className:\"bg-blue-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"Simulate Ad Click\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"(This will change the URL in your browser's address bar and navigate to the product page.)\"})]})});};// --- Main App Component ---\nconst App=()=>{// We'll manage routing based on window.location.hash directly\nconst[currentPage,setCurrentPage]=useState('home');const[selectedProductId,setSelectedProductId]=useState(null);const[cart,setCart]=useState([]);// Effect to listen for hash changes and update routing state\nuseEffect(()=>{const handleHashChange=()=>{const hash=window.location.hash;if(hash.startsWith('#/product/')){// Extract product ID from hash, ignoring query parameters for the ID itself\nconst productIdFromHash=hash.split('?')[0].replace('#/product/','');setCurrentPage('productDetail');setSelectedProductId(productIdFromHash);}else if(hash==='#/products'){setCurrentPage('products');setSelectedProductId(null);// Clear product ID when navigating to general products page\n}else if(hash==='#/simulatedSearch'){setCurrentPage('simulatedSearch');setSelectedProductId(null);}else if(hash==='#/cart'){setCurrentPage('cart');setSelectedProductId(null);}else if(hash==='#/checkout'){setCurrentPage('checkout');setSelectedProductId(null);}else{setCurrentPage('home');setSelectedProductId(null);}};// Set initial page based on current hash\nhandleHashChange();// Listen for hash changes\nwindow.addEventListener('hashchange',handleHashChange);// Cleanup listener\nreturn()=>{window.removeEventListener('hashchange',handleHashChange);};},[]);// Run once on mount\n// Internal navigation function (for internal app links)\nconst navigate=function(page){let productId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let newHash='';switch(page){case'home':newHash='';// Empty hash for home\nbreak;case'products':newHash='#/products';break;case'simulatedSearch':newHash='#/simulatedSearch';break;case'productDetail':newHash=`#/product/${productId}`;break;case'cart':newHash='#/cart';break;case'checkout':newHash='#/checkout';break;default:newHash='';}window.location.hash=newHash;// Update hash, which will trigger handleHashChange\n};const cartItemCount=cart.reduce((count,item)=>count+item.quantity,0);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,setCart},children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 font-inter antialiased\",children:[/*#__PURE__*/_jsx(\"style\",{children:`\n            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n          `}),/*#__PURE__*/_jsx(Header,{navigate:navigate,cartItemCount:cartItemCount}),/*#__PURE__*/_jsx(\"main\",{className:\"py-8\",children:(()=>{switch(currentPage){case'home':return/*#__PURE__*/_jsx(HomePage,{navigate:navigate});case'products':return/*#__PURE__*/_jsx(ProductsPage,{navigate:navigate});case'simulatedSearch':return/*#__PURE__*/_jsx(SimulatedSearchEnginePage,{});// No navigate prop needed here, it uses window.location\ncase'productDetail':// ProductDetailPage now reads its own productId and UTMs from the URL\nreturn/*#__PURE__*/_jsx(ProductDetailPage,{productId:selectedProductId,navigate:navigate});case'cart':return/*#__PURE__*/_jsx(CartPage,{navigate:navigate});case'checkout':return/*#__PURE__*/_jsx(CheckoutPage,{navigate:navigate});default:return/*#__PURE__*/_jsx(HomePage,{navigate:navigate});}})()})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartContext","products","id","name","description","price","imageUrl","category","featuredProducts","filter","product","toLowerCase","includes","Header","_ref","navigate","cartItemCount","className","children","onClick","PartnershipBanner","src","alt","onError","e","target","onerror","ProductCard","_ref2","cart","setCart","handleAddToCart","existingItem","find","item","map","quantity","toFixed","HomePage","_ref3","ProductsPage","_ref4","ProductDetailPage","_ref5","productId","utmParams","setUtmParams","p","hashParts","window","location","hash","split","queryString","length","params","URLSearchParams","parsedUtm","key","value","entries","startsWith","Object","keys","console","log","CartPage","_ref6","updateQuantity","delta","i","newQuantity","removeItem","itemToRemove","totalAmount","reduce","sum","handleCheckout","title","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","CheckoutPage","_ref7","orderPlaced","setOrderPlaced","handlePlaceOrder","orderId","Date","now","Math","floor","random","htmlFor","type","placeholder","required","disabled","SimulatedSearchEnginePage","searchTerm","setSearchTerm","handleAdClick","lowerCaseSearchTerm","targetProductId","matchedProduct","queryParams","append","trim","baseUrl","origin","pathname","constructedUrl","toString","href","onChange","onKeyPress","App","currentPage","setCurrentPage","selectedProductId","setSelectedProductId","handleHashChange","productIdFromHash","replace","addEventListener","removeEventListener","page","arguments","undefined","newHash","count","Provider"],"sources":["/Users/brandoncaudillo/Development/code/data_science_backup/Data-Science-Portfolio/brandazon-ecommerce/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\n\n// --- Global Context for Cart Management ---\nconst CartContext = createContext();\n\n// --- Expanded Product Data ---\nconst products = [\n  {\n    id: 'monopoly-3rd-edition',\n    name: 'Monopoly: 3rd Edition',\n    description: 'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',\n    price: 29.99,\n    imageUrl: 'https://placehold.co/300x300/F0F8FF/000000?text=Monopoly+3rd',\n    category: 'Games'\n  },\n  {\n    id: 'uno-card-game',\n    name: 'Uno Card Game',\n    description: 'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',\n    price: 9.99,\n    imageUrl: 'https://placehold.co/300x300/E6E6FA/000000?text=Uno+Cards',\n    category: 'Games'\n  },\n  {\n    id: 'special-facial-soap',\n    name: 'Special Facial Soap',\n    description: 'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',\n    price: 12.50,\n    imageUrl: 'https://placehold.co/300x300/F5F5DC/000000?text=Facial+Soap',\n    category: 'Beauty'\n  },\n  {\n    id: 'fancy-hairbrush',\n    name: 'Fancy Hairbrush',\n    description: 'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',\n    price: 18.00,\n    imageUrl: 'https://placehold.co/300x300/FFF0F5/000000?text=Hairbrush',\n    category: 'Beauty'\n  },\n  {\n    id: 'labubu-blind-box-series-8',\n    name: 'Labubu Blind Box Series 8',\n    description: 'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',\n    price: 16.99,\n    imageUrl: 'https://placehold.co/300x300/ADD8E6/000000?text=Labubu+Series+8',\n    category: 'Collectible'\n  },\n  {\n    id: 'labubu-ghost-hunter-plush',\n    name: 'Labubu Ghost Hunter Plush',\n    description: 'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/B0E0E6/000000?text=Labubu+Ghost',\n    category: 'Collectible'\n  },\n  {\n    id: 'labubu-plush-keychain',\n    name: 'Labubu Plush Keychain',\n    description: 'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',\n    price: 9.50,\n    imageUrl: 'https://placehold.co/300x300/87CEEB/000000?text=Labubu+Keychain',\n    category: 'Collectible'\n  },\n  {\n    id: 'electric-pour-over-kettle',\n    name: 'Electric Pour-over Kettle',\n    description: 'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',\n    price: 59.99,\n    imageUrl: 'https://placehold.co/300x300/6495ED/000000?text=Pour-over+Kettle',\n    category: 'Kitchen'\n  },\n  {\n    id: 'retro-gaming-mousepad',\n    name: 'Retro Gaming Mousepad',\n    description: 'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',\n    price: 14.99,\n    imageUrl: 'https://placehold.co/300x300/4682B4/000000?text=Retro+Mousepad',\n    category: 'Electronics'\n  },\n  {\n    id: 'airpods-pro-3rd-gen',\n    name: 'AirPods Pro 3rd Gen',\n    description: 'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',\n    price: 249.00,\n    imageUrl: 'https://placehold.co/300x300/5F9EA0/000000?text=AirPods+Pro',\n    category: 'Electronics'\n  },\n  {\n    id: 'nintendo-switch-lite',\n    name: 'Nintendo Switch Lite',\n    description: 'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',\n    price: 199.99,\n    imageUrl: 'https://placehold.co/300x300/7FFFD4/000000?text=Switch+Lite',\n    category: 'Electronics'\n  },\n  {\n    id: 'collectible-ceramic-mug',\n    name: 'Collectible Ceramic Mug',\n    description: 'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',\n    price: 11.99,\n    imageUrl: 'https://placehold.co/300x300/AFEEEE/000000?text=Ceramic+Mug',\n    category: 'Collectible' // Changed to collectible for Popmart relevance\n  },\n  {\n    id: 'summer-splash-towel',\n    name: 'Summer Splash Towel',\n    description: 'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',\n    price: 19.99,\n    imageUrl: 'https://placehold.co/300x300/00CED1/000000?text=Splash+Towel',\n    category: 'Home Goods'\n  },\n  {\n    id: 'holiday-cookie-tin',\n    name: 'Holiday Cookie Tin',\n    description: 'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',\n    price: 15.00,\n    imageUrl: 'https://placehold.co/300x300/40E0D0/000000?text=Cookie+Tin',\n    category: 'Food'\n  },\n  {\n    id: 'wireless-pet-tracker',\n    name: 'Wireless Pet Tracker',\n    description: 'Keep track of your furry friend with this compact and reliable wireless pet tracker.',\n    price: 45.00,\n    imageUrl: 'https://placehold.co/300x300/20B2AA/000000?text=Pet+Tracker',\n    category: 'Pet Supplies'\n  },\n  {\n    id: 'smart-home-hub-mini',\n    name: 'Smart Home Hub Mini',\n    description: 'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',\n    price: 79.99,\n    imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Smart+Hub',\n    category: 'Smart Home'\n  },\n  {\n    id: 'mystery-snack-pack',\n    name: 'Mystery Snack Pack',\n    description: 'A surprise assortment of delicious and unique snacks from around the world. What will you get?',\n    price: 10.00,\n    imageUrl: 'https://placehold.co/300x300/98FB98/000000?text=Mystery+Snack',\n    category: 'Food'\n  },\n  {\n    id: 'stainless-steel-tumbler',\n    name: 'Stainless Steel Tumbler',\n    description: 'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',\n    price: 22.99,\n    imageUrl: 'https://placehold.co/300x300/ADFF2F/000000?text=Steel+Tumbler',\n    category: 'Home Goods'\n  },\n  {\n    id: 'rechargeable-hand-warmer',\n    name: 'Rechargeable Hand Warmer',\n    description: 'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',\n    price: 28.00,\n    imageUrl: 'https://placehold.co/300x300/7CFC00/000000?text=Hand+Warmer',\n    category: 'Outdoor'\n  },\n  {\n    id: 'super-soft-throw-blanket',\n    name: 'Super Soft Throw Blanket',\n    description: 'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',\n    price: 35.00,\n    imageUrl: 'https://placehold.co/300x300/00FF7F/000000?text=Throw+Blanket',\n    category: 'Home Goods'\n  },\n  {\n    id: 'labubu-golden-edition-figure',\n    name: 'Labubu Golden Edition Figure',\n    description: 'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',\n    price: 49.99,\n    imageUrl: 'https://placehold.co/300x300/32CD32/000000?text=Labubu+Golden',\n    category: 'Collectible'\n  },\n  {\n    id: 'wireless-earbuds-gen2',\n    name: 'Wireless Earbuds Gen2',\n    description: 'Second generation wireless earbuds with enhanced sound quality and longer battery life.',\n    price: 89.99,\n    imageUrl: 'https://placehold.co/300x300/228B22/000000?text=Earbuds+Gen2',\n    category: 'Electronics'\n  },\n  {\n    id: 'led-desk-lamp-pro',\n    name: 'LED Desk Lamp Pro',\n    description: 'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',\n    price: 49.00,\n    imageUrl: 'https://placehold.co/300x300/008000/000000?text=Desk+Lamp+Pro',\n    category: 'Home Office'\n  },\n  {\n    id: 'ergonomic-office-chair',\n    name: 'Ergonomic Office Chair',\n    description: 'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',\n    price: 199.00,\n    imageUrl: 'https://placehold.co/300x300/006400/000000?text=Office+Chair',\n    category: 'Home Office'\n  },\n  {\n    id: 'bluetooth-speaker-splash',\n    name: 'Bluetooth Speaker Splash',\n    description: 'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',\n    price: 65.00,\n    imageUrl: 'https://placehold.co/300x300/2E8B57/000000?text=Bluetooth+Speaker',\n    category: 'Electronics'\n  },\n  {\n    id: 'crystal-growing-kit',\n    name: 'Crystal Growing Kit',\n    description: 'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',\n    price: 20.00,\n    imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Crystal+Kit',\n    category: 'Toys & Hobbies'\n  },\n  {\n    id: 'build-your-own-robot-kit',\n    name: 'Build-Your-Own Robot Kit',\n    description: 'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',\n    price: 75.00,\n    imageUrl: 'https://placehold.co/300x300/66CDAA/000000?text=Robot+Kit',\n    category: 'Toys & Hobbies'\n  },\n  {\n    id: 'color-changing-mug',\n    name: 'Color-Changing Mug',\n    description: 'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',\n    price: 14.00,\n    imageUrl: 'https://placehold.co/300x300/8FBC8F/000000?text=Color+Mug',\n    category: 'Home Goods'\n  },\n  {\n    id: 'fashion-face-mask-3-pack',\n    name: 'Fashion Face Mask (3-pack)',\n    description: 'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',\n    price: 18.00,\n    imageUrl: 'https://placehold.co/300x300/90EE90/000000?text=Face+Masks',\n    category: 'Apparel'\n  },\n  {\n    id: 'mini-projector-hd',\n    name: 'Mini Projector HD',\n    description: 'Compact and portable HD projector for movies, presentations, or gaming on the go.',\n    price: 120.00,\n    imageUrl: 'https://placehold.co/300x300/9ACD32/000000?text=Mini+Projector',\n    category: 'Electronics'\n  },\n  {\n    id: 'doggo-deluxe-bed',\n    name: 'Doggo Deluxe Bed',\n    description: 'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',\n    price: 55.00,\n    imageUrl: 'https://placehold.co/300x300/6B8E23/000000?text=Dog+Bed',\n    category: 'Pet Supplies'\n  },\n  {\n    id: 'cat-castle-tower',\n    name: 'Cat Castle Tower',\n    description: 'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',\n    price: 85.00,\n    imageUrl: 'https://placehold.co/300x300/808000/000000?text=Cat+Tower',\n    category: 'Pet Supplies'\n  },\n  {\n    id: 'all-season-yoga-mat',\n    name: 'All-Season Yoga Mat',\n    description: 'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',\n    price: 29.99,\n    imageUrl: 'https://placehold.co/300x300/BDB76B/000000?text=Yoga+Mat',\n    category: 'Sports & Fitness'\n  },\n  {\n    id: 'travel-packing-cubes',\n    name: 'Travel Packing Cubes',\n    description: 'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',\n    price: 24.99,\n    imageUrl: 'https://placehold.co/300x300/DAA520/000000?text=Packing+Cubes',\n    category: 'Travel'\n  },\n  {\n    id: 'smart-plant-sensor',\n    name: 'Smart Plant Sensor',\n    description: 'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',\n    price: 39.99,\n    imageUrl: 'https://placehold.co/300x300/FFD700/000000?text=Plant+Sensor',\n    category: 'Smart Home'\n  },\n  {\n    id: 'pop-culture-puzzle-set',\n    name: 'Pop Culture Puzzle Set',\n    description: 'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',\n    price: 22.00,\n    imageUrl: 'https://placehold.co/300x300/FFA500/000000?text=Pop+Puzzle',\n    category: 'Games'\n  },\n  {\n    id: 'classic-denim-jacket',\n    name: 'Classic Denim Jacket',\n    description: 'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',\n    price: 69.00,\n    imageUrl: 'https://placehold.co/300x300/FF8C00/000000?text=Denim+Jacket',\n    category: 'Apparel'\n  },\n  {\n    id: 'pocket-blender-pro',\n    name: 'Pocket Blender Pro',\n    description: 'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',\n    price: 39.99,\n    imageUrl: 'https://placehold.co/300x300/FF4500/000000?text=Pocket+Blender',\n    category: 'Kitchen'\n  },\n  {\n    id: 'microfiber-cleaning-slippers',\n    name: 'Microfiber Cleaning Slippers',\n    description: 'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',\n    price: 15.00,\n    imageUrl: 'https://placehold.co/300x300/FF6347/000000?text=Cleaning+Slippers',\n    category: 'Home Goods'\n  },\n  {\n    id: 'personal-blender-bottle',\n    name: 'Personal Blender Bottle',\n    description: 'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/CD5C5C/000000?text=Blender+Bottle',\n    category: 'Kitchen'\n  },\n  {\n    id: 'wireless-charging-pad',\n    name: 'Wireless Charging Pad',\n    description: 'Fast and efficient wireless charging pad for compatible smartphones and devices.',\n    price: 29.00,\n    imageUrl: 'https://placehold.co/300x300/DC143C/000000?text=Charging+Pad',\n    category: 'Electronics'\n  },\n  {\n    id: 'kitchen-chef-knife-set',\n    name: 'Kitchen Chef Set',\n    description: 'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',\n    price: 89.99,\n    imageUrl: 'https://placehold.co/300x300/B22222/000000?text=Knife+Set',\n    category: 'Kitchen'\n  },\n  {\n    id: 'instant-cold-brew-maker',\n    name: 'Instant Cold Brew Maker',\n    description: 'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',\n    price: 34.99,\n    imageUrl: 'https://placehold.co/300x300/8B0000/000000?text=Cold+Brew+Maker',\n    category: 'Kitchen'\n  },\n  {\n    id: 'uv-sanitizing-box',\n    name: 'UV Sanitizing Box',\n    description: 'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',\n    price: 49.99,\n    imageUrl: 'https://placehold.co/300x300/A52A2A/000000?text=UV+Sanitizer',\n    category: 'Health & Personal Care'\n  },\n  {\n    id: 'portable-fire-pit',\n    name: 'Portable Fire Pit',\n    description: 'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',\n    price: 79.00,\n    imageUrl: 'https://placehold.co/300x300/D2B48C/000000?text=Fire+Pit',\n    category: 'Outdoor'\n  },\n  {\n    id: 'commuter-insulated-backpack',\n    name: 'Commuter Insulated Backpack',\n    description: 'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',\n    price: 59.00,\n    imageUrl: 'https://placehold.co/300x300/F4A460/000000?text=Insulated+Backpack',\n    category: 'Travel'\n  },\n  {\n    id: 'labubu-vampire-bunny-plush',\n    name: 'Labubu Vampire Bunny Plush',\n    description: 'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',\n    price: 28.00,\n    imageUrl: 'https://placehold.co/300x300/FF7F50/000000?text=Labubu+Vampire',\n    category: 'Collectible'\n  },\n  {\n    id: 'labubu-sweet-dream-figure',\n    name: 'Labubu Sweet Dream Figure',\n    description: 'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',\n    price: 17.50,\n    imageUrl: 'https://placehold.co/300x300/FF69B4/000000?text=Labubu+Sweet+Dream',\n    category: 'Collectible'\n  },\n  {\n    id: 'labubu-trick-or-treat-series',\n    name: 'Labubu Trick-or-Treat Series',\n    description: 'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',\n    price: 16.99,\n    imageUrl: 'https://placehold.co/300x300/FF1493/000000?text=Labubu+Trick',\n    category: 'Collectible'\n  },\n  {\n    id: 'marvel-collector-keychain',\n    name: 'Marvel Collector Keychain',\n    description: 'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',\n    price: 7.99,\n    imageUrl: 'https://placehold.co/300x300/C71585/000000?text=Marvel+Keychain',\n    category: 'Collectible'\n  },\n  {\n    id: 'holiday-advent-calendar',\n    name: 'Holiday Advent Calendar',\n    description: 'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/DB7093/000000?text=Advent+Calendar',\n    category: 'Holiday'\n  }\n];\n\n// Define a subset of products for the \"Featured Products\" section on the Home Page\n// Filter for Labubu products and other items explicitly categorized as 'Collectible'\nconst featuredProducts = products.filter(product =>\n  product.name.toLowerCase().includes('labubu') || product.category === 'Collectible'\n);\n\n\n// --- Components ---\n\nconst Header = ({ navigate, cartItemCount }) => {\n  return (\n    <header className=\"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\">\n      <div className=\"container mx-auto flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold font-inter cursor-pointer\" onClick={() => navigate('home')}>Brandazon</h1>\n        <nav className=\"flex items-center space-x-6\">\n          <button\n            onClick={() => navigate('home')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Home\n          </button>\n          <button\n            onClick={() => navigate('products')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Products\n          </button>\n          <button\n            onClick={() => navigate('simulatedSearch')} // New navigation button\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Simulate Ad\n          </button>\n          <button\n            onClick={() => navigate('cart')}\n            className=\"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Cart ({cartItemCount})\n            {cartItemCount > 0 && (\n              <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\">\n                {cartItemCount}\n              </span>\n            )}\n          </button>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\n// New Banner Component\nconst PartnershipBanner = () => {\n  return (\n    <div className=\"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\">\n      <div className=\"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\">\n        <img\n          src=\"https://placehold.co/150x150/FFFFFF/FF69B4?text=Labubu+x+Popmart\"\n          alt=\"Labubu x Popmart Partnership\"\n          className=\"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\"\n          onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/150x150/CCCCCC/000000?text=Partnership`; }}\n        />\n        <div>\n          <h2 className=\"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\">\n            <span className=\"block\">Brandazon x Labubu</span>\n            <span className=\"block text-2xl md:text-3xl font-semibold mt-1\">Exclusive Partnership with Popmart!</span>\n          </h2>\n          <p className=\"text-lg md:text-xl font-medium opacity-90\">\n            Discover the latest Labubu drops and limited editions, only here.\n          </p>\n          {/* You can add your 'promotion_clicked' or 'labubu_campaign_engaged' event tracking here */}\n          <button className=\"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\">\n            Shop Labubu Now!\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nconst ProductCard = ({ product, navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // You can add your 'added_to_cart' event tracking here\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\">\n      <img\n        src={product.imageUrl}\n        alt={product.name}\n        className=\"w-full h-48 object-cover rounded-t-xl\"\n        onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/300x300/CCCCCC/000000?text=Image+Not+Found`; }}\n      />\n      <div className=\"p-5 flex-grow flex flex-col justify-between\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">{product.name}</h3>\n          <p className=\"text-gray-600 text-sm mb-3 line-clamp-3\">{product.description}</p>\n          <p className=\"text-2xl font-bold text-purple-700 mb-4\">${product.price.toFixed(2)}</p>\n        </div>\n        <div className=\"flex flex-col space-y-3\">\n          <button\n            onClick={() => navigate('productDetail', product.id)}\n            className=\"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            View Details\n          </button>\n          <button\n            onClick={handleAddToCart}\n            className=\"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst HomePage = ({ navigate }) => {\n  useEffect(() => {\n    // You can add your 'page_view' or 'viewed_home_screen' event tracking here\n  }, []);\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <PartnershipBanner /> {/* The new banner component */}\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Featured Labubu & Popmart Collectibles</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {featuredProducts.map(product => (\n          <ProductCard key={product.id} product={product} navigate={navigate} />\n        ))}\n      </div>\n      <div className=\"text-center mt-12\">\n        <button\n          onClick={() => navigate('products')}\n          className=\"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n        >\n          View All Products\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst ProductsPage = ({ navigate }) => {\n  useEffect(() => {\n    // You can add your 'page_view' or 'product_list_viewed' event tracking here\n  }, []);\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">All Products</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {products.map(product => (\n          <ProductCard key={product.id} product={product} navigate={navigate} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ProductDetailPage = ({ productId, navigate }) => { // productId is now received as a prop\n  const [utmParams, setUtmParams] = useState(null);\n  const { cart, setCart } = useContext(CartContext);\n\n  // Find the product based on the productId prop\n  const product = products.find(p => p.id === productId);\n\n  useEffect(() => {\n    // Parse URL parameters from window.location.hash.split('?')[1]\n    const hashParts = window.location.hash.split('?');\n    const queryString = hashParts.length > 1 ? hashParts[1] : '';\n    const params = new URLSearchParams(queryString);\n\n    const parsedUtm = {};\n    for (let [key, value] of params.entries()) {\n      // Collect all parameters, especially UTM and Google Ads related ones\n      if (key.startsWith('utm_') || key.startsWith('gad_') || key.startsWith('gclid') || key.startsWith('gbraid')) {\n        parsedUtm[key] = value;\n      }\n    }\n    if (Object.keys(parsedUtm).length > 0) {\n      setUtmParams(parsedUtm);\n    } else {\n      setUtmParams(null); // Clear if no UTMs are present\n    }\n\n    if (product) {\n      // You can add your 'page_view' or 'product_viewed' event tracking here\n      // If UTM parameters are present, this is where you'd log your 'Campaign Attribution Recorded' event\n      if (utmParams) {\n        // Example for Segment:\n        // analytics.track('Campaign Attribution Recorded', {\n        //   product_id: product.id,\n        //   product_name: product.name,\n        //   utm_source: utmParams.utm_source,\n        //   utm_medium: utmParams.utm_medium,\n        //   utm_campaign: utmParams.utm_campaign,\n        //   utm_content: utmParams.utm_content,\n        //   utm_term: utmParams.utm_term,\n        //   gad_source: utmParams.gad_source,\n        //   gad_campaignid: utmParams.gad_campaignid,\n        //   gbraid: utmParams.gbraid,\n        //   gclid: utmParams.gclid,\n        //   // ... other relevant parameters\n        // });\n        console.log('Campaign Attribution Recorded (from URL parameters):', utmParams);\n      }\n    }\n  }, [productId, product, utmParams]); // Depend on productId, product, and utmParams to ensure tracking fires when they are resolved\n\n  if (!product) {\n    return (\n      <div className=\"container mx-auto p-6 text-center text-red-500\">\n        <h2 className=\"text-3xl font-bold mb-4\">Product Not Found</h2>\n        <button onClick={() => navigate('home')} className=\"mt-4 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\">\n          Back to Home\n        </button>\n      </div>\n    );\n  }\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // You can add your 'added_to_cart' event tracking here\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start gap-8\">\n        <img\n          src={product.imageUrl}\n          alt={product.name}\n          className=\"w-full md:w-1/2 lg:w-1/3 h-auto object-cover rounded-lg shadow-md\"\n          onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/400x400/CCCCCC/000000?text=Image+Not+Found`; }}\n        />\n        <div className=\"flex-grow\">\n          <h2 className=\"text-4xl font-extrabold text-gray-900 mb-4\">{product.name}</h2>\n          <p className=\"text-gray-700 text-lg mb-6\">{product.description}</p>\n          <p className=\"text-4xl font-bold text-purple-700 mb-6\">${product.price.toFixed(2)}</p>\n          <button\n            onClick={handleAddToCart}\n            className=\"bg-purple-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Add to Cart\n          </button>\n          <button\n            onClick={() => navigate('home')}\n            className=\"ml-4 bg-gray-300 text-gray-800 py-3 px-8 rounded-lg text-xl font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Back to Home\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CartPage = ({ navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n\n  useEffect(() => {\n    // You can add your 'cart_viewed' event tracking here\n  }, []);\n\n  const updateQuantity = (id, delta) => {\n    const item = cart.find(i => i.id === id);\n    if (!item) return;\n\n    const newQuantity = item.quantity + delta;\n    if (newQuantity <= 0) {\n      // Remove item if quantity is 0 or less\n      setCart(cart.filter(i => i.id !== id));\n      // You can add your 'removed_from_cart' event tracking here\n    } else {\n      setCart(cart.map(i =>\n        i.id === id ? { ...i, quantity: newQuantity } : i\n      ));\n      if (delta > 0) {\n        // You can add your 'added_to_cart' event tracking here\n      } else {\n        // You can add your 'removed_from_cart' event tracking here\n      }\n    }\n  };\n\n  const removeItem = (id) => {\n    const itemToRemove = cart.find(item => item.id === id);\n    if (itemToRemove) {\n      setCart(cart.filter(item => item.id !== id));\n      // You can add your 'removed_from_cart' event tracking here\n    }\n  };\n\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  const handleCheckout = () => {\n    // You can add your 'checkout_started' event tracking here\n    navigate('checkout');\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Your Shopping Cart</h2>\n      {cart.length === 0 ? (\n        <div className=\"text-center text-gray-600 text-xl\">\n          Your cart is empty. <button onClick={() => navigate('home')} className=\"text-blue-600 hover:underline\">Start shopping!</button>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <div className=\"space-y-6\">\n            {cart.map(item => (\n              <div key={item.id} className=\"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\">\n                <div className=\"flex items-center space-x-4\">\n                  <img\n                    src={item.imageUrl}\n                    alt={item.name}\n                    className=\"w-20 h-20 object-cover rounded-lg shadow-sm\"\n                    onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/80x80/CCCCCC/000000?text=Img`; }}\n                  />\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-gray-800\">{item.name}</h3>\n                    <p className=\"text-gray-600\">${item.price.toFixed(2)}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"flex items-center border border-gray-300 rounded-md\">\n                    <button\n                      onClick={() => updateQuantity(item.id, -1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-md\"\n                    >\n                      -\n                    </button>\n                    <span className=\"px-3 py-1 border-x border-gray-300\">{item.quantity}</span>\n                    <button\n                      onClick={() => updateQuantity(item.id, 1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-md\"\n                    >\n                      +\n                    </button>\n                  </div>\n                  <p className=\"text-xl font-bold text-purple-700 w-24 text-right\">${(item.price * item.quantity).toFixed(2)}</p>\n                  <button\n                    onClick={() => removeItem(item.id)}\n                    className=\"text-red-500 hover:text-red-700 transition duration-300\"\n                    title=\"Remove item\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"flex justify-end items-center mt-8 pt-6 border-t border-gray-200\">\n            <p className=\"text-2xl font-bold text-gray-900 mr-4\">Total:</p>\n            <p className=\"text-3xl font-extrabold text-purple-800\">${totalAmount.toFixed(2)}</p>\n          </div>\n          <div className=\"flex justify-end mt-6 space-x-4\">\n            <button\n              onClick={() => navigate('home')}\n              className=\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n            >\n              Continue Shopping\n            </button>\n            <button\n              onClick={handleCheckout}\n              className=\"bg-green-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-green-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n            >\n              Proceed to Checkout\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst CheckoutPage = ({ navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n  const [orderPlaced, setOrderPlaced] = useState(false);\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  useEffect(() => {\n    // You can add your 'page_view' for 'Checkout Page' event tracking here\n  }, []);\n\n  const handlePlaceOrder = () => {\n    const orderId = `ORDER-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n    // You can add your 'order_completed' event tracking here\n    setOrderPlaced(true);\n    setCart([]); // Clear cart after purchase\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Checkout</h2>\n      <div className=\"bg-white rounded-xl shadow-lg p-8\">\n        {orderPlaced ? (\n          <div className=\"text-center text-green-700 text-2xl font-semibold\">\n            <p className=\"mb-4\">🎉 Your order has been placed successfully!</p>\n            <p>Thank you for shopping with Brandazon!</p>\n            <button\n              onClick={() => navigate('home')}\n              className=\"mt-8 bg-purple-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n            >\n              Continue Shopping\n            </button>\n          </div>\n        ) : (\n          <>\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Order Summary</h3>\n              {cart.length === 0 ? (\n                <p className=\"text-gray-600\">Your cart is empty. Please add items before checking out.</p>\n              ) : (\n                <ul className=\"space-y-3\">\n                  {cart.map(item => (\n                    <li key={item.id} className=\"flex justify-between text-gray-700 text-lg\">\n                      <span>{item.name} (x{item.quantity})</span>\n                      <span>${(item.price * item.quantity).toFixed(2)}</span>\n                    </li>\n                  ))}\n                </ul>\n              )}\n              <div className=\"flex justify-between items-center mt-6 pt-4 border-t border-gray-200\">\n                <p className=\"text-2xl font-bold text-gray-900\">Total:</p>\n                <p className=\"text-3xl font-extrabold text-purple-800\">${totalAmount.toFixed(2)}</p>\n              </div>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Shipping Information</h3>\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"fullName\" className=\"block text-gray-700 text-sm font-bold mb-2\">Full Name</label>\n                  <input type=\"text\" id=\"fullName\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"John Doe\" required />\n                </div>\n                <div>\n                  <label htmlFor=\"address\" className=\"block text-gray-700 text-sm font-bold mb-2\">Address</label>\n                  <input type=\"text\" id=\"address\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"123 Main St\" required />\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"city\" className=\"block text-gray-700 text-sm font-bold mb-2\">City</label>\n                    <input type=\"text\" id=\"city\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"Anytown\" required />\n                  </div>\n                  <div>\n                    <label htmlFor=\"zip\" className=\"block text-gray-700 text-sm font-bold mb-2\">Zip Code</label>\n                    <input type=\"text\" id=\"zip\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"12345\" required />\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Payment Information</h3>\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"cardNumber\" className=\"block text-gray-700 text-sm font-bold mb-2\">Card Number</label>\n                  <input type=\"text\" id=\"cardNumber\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"**** **** **** ****\" required />\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"expiryDate\" className=\"block text-gray-700 text-sm font-bold mb-2\">Expiry Date (MM/YY)</label>\n                    <input type=\"text\" id=\"expiryDate\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"12/25\" required />\n                  </div>\n                  <div>\n                    <label htmlFor=\"cvv\" className=\"block text-gray-700 text-sm font-bold mb-2\">CVV</label>\n                    <input type=\"text\" id=\"cvv\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"123\" required />\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div className=\"flex justify-end space-x-4\">\n              <button\n                onClick={() => navigate('cart')}\n                className=\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n              >\n                Back to Cart\n              </button>\n              <button\n                onClick={handlePlaceOrder}\n                disabled={cart.length === 0}\n                className={`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length === 0 ? 'bg-gray-400 text-gray-600 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}`}\n              >\n                Place Order\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// New Simulated Search Engine Page\nconst SimulatedSearchEnginePage = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    // You can add your 'page_view' for 'Simulated Search Engine' here\n  }, []);\n\n  const handleAdClick = () => {\n    const lowerCaseSearchTerm = searchTerm.toLowerCase();\n    let targetProductId = 'labubu-blind-box-series-8'; // Default Labubu product\n\n    const matchedProduct = products.find(p =>\n      p.name.toLowerCase().includes(lowerCaseSearchTerm) ||\n      p.description.toLowerCase().includes(lowerCaseSearchTerm) ||\n      p.category.toLowerCase().includes(lowerCaseSearchTerm)\n    );\n\n    if (matchedProduct) {\n      targetProductId = matchedProduct.id;\n    }\n\n    // Construct the query parameters string\n    const queryParams = new URLSearchParams();\n    queryParams.append('utm_source', 'google');\n    queryParams.append('utm_medium', 'cpc');\n    queryParams.append('utm_campaign', 'labubu_launch_q3');\n    queryParams.append('utm_content', 'search_ad_banner');\n    queryParams.append('utm_term', searchTerm.trim() || 'default_search_term');\n    queryParams.append('gad_source', '1');\n    queryParams.append('gad_campaignid', '22690431292');\n    queryParams.append('gbraid', '0AAAAApZoGaVNZnuRe968aNy6x-Z4Y9TI6');\n    queryParams.append('gclid', 'CjwKCAjw1ozEBhAdEiwAn9qbzT99fJagIv7foNLlQnHysh63ZqtvIRL_hVhVDsUw_948_5Hs1WQu-BoCZCYQAvD_BwE'); // Example GCLID\n\n    // Construct the full URL with hash routing for SPA and query parameters\n    const baseUrl = window.location.origin + window.location.pathname;\n    const constructedUrl = `${baseUrl}#/product/${targetProductId}?${queryParams.toString()}`;\n\n    // Simulate a full page redirect to update the URL in the browser\n    window.location.href = constructedUrl;\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 flex flex-col items-center justify-center min-h-[60vh]\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl text-center\">\n        <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8\">Simulate a Search Engine Ad</h2>\n        <p className=\"text-gray-700 text-lg mb-6\">\n          Type a search query below and click \"Simulate Ad Click\" to see how UTM parameters would be passed to Brandazon.\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-8\">\n          <input\n            type=\"text\"\n            className=\"flex-grow shadow appearance-none border rounded-lg py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., Labubu, Earbuds, Monopoly\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            onKeyPress={(e) => { if (e.key === 'Enter') handleAdClick(); }}\n          />\n          <button\n            onClick={handleAdClick}\n            className=\"bg-blue-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Simulate Ad Click\n          </button>\n        </div>\n        <p className=\"text-gray-500 text-sm\">\n          (This will change the URL in your browser's address bar and navigate to the product page.)\n        </p>\n      </div>\n    </div>\n  );\n};\n\n\n// --- Main App Component ---\nconst App = () => {\n  // We'll manage routing based on window.location.hash directly\n  const [currentPage, setCurrentPage] = useState('home');\n  const [selectedProductId, setSelectedProductId] = useState(null);\n  const [cart, setCart] = useState([]);\n\n  // Effect to listen for hash changes and update routing state\n  useEffect(() => {\n    const handleHashChange = () => {\n      const hash = window.location.hash;\n      if (hash.startsWith('#/product/')) {\n        // Extract product ID from hash, ignoring query parameters for the ID itself\n        const productIdFromHash = hash.split('?')[0].replace('#/product/', '');\n        setCurrentPage('productDetail');\n        setSelectedProductId(productIdFromHash);\n      } else if (hash === '#/products') {\n        setCurrentPage('products');\n        setSelectedProductId(null); // Clear product ID when navigating to general products page\n      } else if (hash === '#/simulatedSearch') {\n        setCurrentPage('simulatedSearch');\n        setSelectedProductId(null);\n      } else if (hash === '#/cart') {\n        setCurrentPage('cart');\n        setSelectedProductId(null);\n      } else if (hash === '#/checkout') {\n        setCurrentPage('checkout');\n        setSelectedProductId(null);\n      }\n      else {\n        setCurrentPage('home');\n        setSelectedProductId(null);\n      }\n    };\n\n    // Set initial page based on current hash\n    handleHashChange();\n\n    // Listen for hash changes\n    window.addEventListener('hashchange', handleHashChange);\n\n    // Cleanup listener\n    return () => {\n      window.removeEventListener('hashchange', handleHashChange);\n    };\n  }, []); // Run once on mount\n\n  // Internal navigation function (for internal app links)\n  const navigate = (page, productId = null) => {\n    let newHash = '';\n    switch (page) {\n      case 'home':\n        newHash = ''; // Empty hash for home\n        break;\n      case 'products':\n        newHash = '#/products';\n        break;\n      case 'simulatedSearch':\n        newHash = '#/simulatedSearch';\n        break;\n      case 'productDetail':\n        newHash = `#/product/${productId}`;\n        break;\n      case 'cart':\n        newHash = '#/cart';\n        break;\n      case 'checkout':\n        newHash = '#/checkout';\n        break;\n      default:\n        newHash = '';\n    }\n    window.location.hash = newHash; // Update hash, which will trigger handleHashChange\n  };\n\n  const cartItemCount = cart.reduce((count, item) => count + item.quantity, 0);\n\n  return (\n    <CartContext.Provider value={{ cart, setCart }}>\n      <div className=\"min-h-screen bg-gray-100 font-inter antialiased\">\n        <style>\n          {`\n            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n          `}\n        </style>\n        <Header navigate={navigate} cartItemCount={cartItemCount} />\n        <main className=\"py-8\">\n          {(() => {\n            switch (currentPage) {\n              case 'home':\n                return <HomePage navigate={navigate} />;\n              case 'products':\n                return <ProductsPage navigate={navigate} />;\n              case 'simulatedSearch':\n                return <SimulatedSearchEnginePage />; // No navigate prop needed here, it uses window.location\n              case 'productDetail':\n                // ProductDetailPage now reads its own productId and UTMs from the URL\n                return <ProductDetailPage productId={selectedProductId} navigate={navigate} />;\n              case 'cart':\n                return <CartPage navigate={navigate} />;\n              case 'checkout':\n                return <CheckoutPage navigate={navigate} />;\n              default:\n                return <HomePage navigate={navigate} />;\n            }\n          })()}\n        </main>\n      </div>\n    </CartContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}