{"ast":null,"code":"var _jsxFileName = \"/Users/brandoncaudillo/Development/code/data_science_backup/Data-Science-Portfolio/brandazon-ecommerce/src/app.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, createContext, useContext } from 'react';\n\n// --- Global Context for Cart Management ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\n\n// --- Helper to format product data for Segment events ---\nconst formatProductForSegment = (product, quantity = 1, position = null) => {\n  return {\n    product_id: product.id,\n    sku: product.sku,\n    category: product.category,\n    name: product.name,\n    brand: product.brand,\n    variant: product.variant,\n    price: product.price,\n    quantity: quantity,\n    // coupon: product.coupon, // Add if coupons are implemented per product\n    position: position,\n    url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`,\n    // Dynamic URL\n    image_url: product.imageUrl\n  };\n};\n\n// --- Expanded Product Data ---\nconst products = [{\n  id: 'monopoly-3rd-edition',\n  name: 'Monopoly: 3rd Edition',\n  description: 'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',\n  price: 29.99,\n  imageUrl: 'https://placehold.co/300x300/F0F8FF/000000?text=Monopoly+3rd',\n  category: 'Games',\n  sku: 'GM-MONO-001',\n  brand: 'Hasbro',\n  variant: 'Standard'\n}, {\n  id: 'uno-card-game',\n  name: 'Uno Card Game',\n  description: 'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',\n  price: 9.99,\n  imageUrl: 'https://placehold.co/300x300/E6E6FA/000000?text=Uno+Cards',\n  category: 'Games',\n  sku: 'GM-UNO-001',\n  brand: 'Mattel',\n  variant: 'Standard'\n}, {\n  id: 'special-facial-soap',\n  name: 'Special Facial Soap',\n  description: 'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',\n  price: 12.50,\n  imageUrl: 'https://placehold.co/300x300/F5F5DC/000000?text=Facial+Soap',\n  category: 'Beauty',\n  sku: 'BT-SOAP-001',\n  brand: 'PureSkin',\n  variant: 'Unscented'\n}, {\n  id: 'fancy-hairbrush',\n  name: 'Fancy Hairbrush',\n  description: 'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',\n  price: 18.00,\n  imageUrl: 'https://placehold.co/300x300/FFF0F5/000000?text=Hairbrush',\n  category: 'Beauty',\n  sku: 'BT-HBRUSH-001',\n  brand: 'GlamLocks',\n  variant: 'Large'\n}, {\n  id: 'labubu-blind-box-series-8',\n  name: 'Labubu Blind Box Series 8',\n  description: 'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',\n  price: 16.99,\n  imageUrl: 'https://placehold.co/300x300/ADD8E6/000000?text=Labubu+Series+8',\n  category: 'Collectible',\n  sku: 'COL-LABU-S8',\n  brand: 'Popmart',\n  variant: 'Blind Box'\n}, {\n  id: 'labubu-ghost-hunter-plush',\n  name: 'Labubu Ghost Hunter Plush',\n  description: 'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',\n  price: 25.00,\n  imageUrl: 'https://placehold.co/300x300/B0E0E6/000000?text=Labubu+Ghost',\n  category: 'Collectible',\n  sku: 'COL-LABU-GH',\n  brand: 'Popmart',\n  variant: 'Plush'\n}, {\n  id: 'labubu-plush-keychain',\n  name: 'Labubu Plush Keychain',\n  description: 'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',\n  price: 9.50,\n  imageUrl: 'https://placehold.co/300x300/87CEEB/000000?text=Labubu+Keychain',\n  category: 'Collectible',\n  sku: 'COL-LABU-KC',\n  brand: 'Popmart',\n  variant: 'Keychain'\n}, {\n  id: 'electric-pour-over-kettle',\n  name: 'Electric Pour-over Kettle',\n  description: 'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',\n  price: 59.99,\n  imageUrl: 'https://placehold.co/300x300/6495ED/000000?text=Pour-over+Kettle',\n  category: 'Kitchen',\n  sku: 'KCH-KETTLE-001',\n  brand: 'BrewMaster',\n  variant: 'Black'\n}, {\n  id: 'retro-gaming-mousepad',\n  name: 'Retro Gaming Mousepad',\n  description: 'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',\n  price: 14.99,\n  imageUrl: 'https://placehold.co/300x300/4682B4/000000?text=Retro+Mousepad',\n  category: 'Electronics',\n  sku: 'EL-MPAD-001',\n  brand: 'GameGear',\n  variant: 'Large'\n}, {\n  id: 'airpods-pro-3rd-gen',\n  name: 'AirPods Pro 3rd Gen',\n  description: 'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',\n  price: 249.00,\n  imageUrl: 'https://placehold.co/300x300/5F9EA0/000000?text=AirPods+Pro',\n  category: 'Electronics',\n  sku: 'EL-AIRPODS-003',\n  brand: 'Apple',\n  variant: 'Pro'\n}, {\n  id: 'nintendo-switch-lite',\n  name: 'Nintendo Switch Lite',\n  description: 'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',\n  price: 199.99,\n  imageUrl: 'https://placehold.co/300x300/7FFFD4/000000?text=Switch+Lite',\n  category: 'Electronics',\n  sku: 'GM-SWITCHL-001',\n  brand: 'Nintendo',\n  variant: 'Yellow'\n}, {\n  id: 'collectible-ceramic-mug',\n  name: 'Collectible Ceramic Mug',\n  description: 'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',\n  price: 11.99,\n  imageUrl: 'https://placehold.co/300x300/AFEEEE/000000?text=Ceramic+Mug',\n  category: 'Collectible',\n  sku: 'COL-MUG-001',\n  brand: 'ArtisanCraft',\n  variant: 'Standard'\n}, {\n  id: 'summer-splash-towel',\n  name: 'Summer Splash Towel',\n  description: 'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',\n  price: 19.99,\n  imageUrl: 'https://placehold.co/300x300/00CED1/000000?text=Splash+Towel',\n  category: 'Home Goods',\n  sku: 'HG-TOWEL-001',\n  brand: 'AquaDry',\n  variant: 'Beach'\n}, {\n  id: 'holiday-cookie-tin',\n  name: 'Holiday Cookie Tin',\n  description: 'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',\n  price: 15.00,\n  imageUrl: 'https://placehold.co/300x300/40E0D0/000000?text=Cookie+Tin',\n  category: 'Food',\n  sku: 'FD-COOKIE-001',\n  brand: 'SweetTreats',\n  variant: 'Assorted'\n}, {\n  id: 'wireless-pet-tracker',\n  name: 'Wireless Pet Tracker',\n  description: 'Keep track of your furry friend with this compact and reliable wireless pet tracker.',\n  price: 45.00,\n  imageUrl: 'https://placehold.co/300x300/20B2AA/000000?text=Pet+Tracker',\n  category: 'Pet Supplies',\n  sku: 'PET-TRACK-001',\n  brand: 'PetSafe',\n  variant: 'GPS'\n}, {\n  id: 'smart-home-hub-mini',\n  name: 'Smart Home Hub Mini',\n  description: 'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',\n  price: 79.99,\n  imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Smart+Hub',\n  category: 'Smart Home',\n  sku: 'SMART-HUB-001',\n  brand: 'ConnectHome',\n  variant: 'Mini'\n}, {\n  id: 'mystery-snack-pack',\n  name: 'Mystery Snack Pack',\n  description: 'A surprise assortment of delicious and unique snacks from around the world. What will you get?',\n  price: 10.00,\n  imageUrl: 'https://placehold.co/300x300/98FB98/000000?text=Mystery+Snack',\n  category: 'Food',\n  sku: 'FD-SNACK-001',\n  brand: 'GlobalBites',\n  variant: 'Assorted'\n}, {\n  id: 'stainless-steel-tumbler',\n  name: 'Stainless Steel Tumbler',\n  description: 'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',\n  price: 22.99,\n  imageUrl: 'https://placehold.co/300x300/ADFF2F/000000?text=Steel+Tumbler',\n  category: 'Home Goods',\n  sku: 'HG-TUMBLER-001',\n  brand: 'HydratePro',\n  variant: '20oz'\n}, {\n  id: 'rechargeable-hand-warmer',\n  name: 'Rechargeable Hand Warmer',\n  description: 'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',\n  price: 28.00,\n  imageUrl: 'https://placehold.co/300x300/7CFC00/000000?text=Hand+Warmer',\n  category: 'Outdoor',\n  sku: 'OUT-HWARM-001',\n  brand: 'WarmHands',\n  variant: 'USB'\n}, {\n  id: 'super-soft-throw-blanket',\n  name: 'Super Soft Throw Blanket',\n  description: 'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',\n  price: 35.00,\n  imageUrl: 'https://placehold.co/300x300/00FF7F/000000?text=Throw+Blanket',\n  category: 'Home Goods',\n  sku: 'HG-BLANKET-001',\n  brand: 'CozyHome',\n  variant: 'Fleece'\n}, {\n  id: 'labubu-golden-edition-figure',\n  name: 'Labubu Golden Edition Figure',\n  description: 'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',\n  price: 49.99,\n  imageUrl: 'https://placehold.co/300x300/32CD32/000000?text=Labubu+Golden',\n  category: 'Collectible',\n  sku: 'COL-LABU-GOLD',\n  brand: 'Popmart',\n  variant: 'Golden'\n}, {\n  id: 'wireless-earbuds-gen2',\n  name: 'Wireless Earbuds Gen2',\n  description: 'Second generation wireless earbuds with enhanced sound quality and longer battery life.',\n  price: 89.99,\n  imageUrl: 'https://placehold.co/300x300/228B22/000000?text=Earbuds+Gen2',\n  category: 'Electronics',\n  sku: 'EL-EARBUDS-002',\n  brand: 'AudioPro',\n  variant: 'Black'\n}, {\n  id: 'led-desk-lamp-pro',\n  name: 'LED Desk Lamp Pro',\n  description: 'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',\n  price: 49.00,\n  imageUrl: 'https://placehold.co/300x300/008000/000000?text=Desk+Lamp+Pro',\n  category: 'Home Office',\n  sku: 'HO-LAMP-001',\n  brand: 'BrightDesk',\n  variant: 'Pro'\n}, {\n  id: 'ergonomic-office-chair',\n  name: 'Ergonomic Office Chair',\n  description: 'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',\n  price: 199.00,\n  imageUrl: 'https://placehold.co/300x300/006400/000000?text=Office+Chair',\n  category: 'Home Office',\n  sku: 'HO-OCHAIR-001',\n  brand: 'ErgoSit',\n  variant: 'Mesh'\n}, {\n  id: 'bluetooth-speaker-splash',\n  name: 'Bluetooth Speaker Splash',\n  description: 'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',\n  price: 65.00,\n  imageUrl: 'https://placehold.co/300x300/2E8B57/000000?text=Bluetooth+Speaker',\n  category: 'Electronics',\n  sku: 'EL-SPEAKER-001',\n  brand: 'SoundWave',\n  variant: 'Waterproof'\n}, {\n  id: 'crystal-growing-kit',\n  name: 'Crystal Growing Kit',\n  description: 'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',\n  price: 20.00,\n  imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Crystal+Kit',\n  category: 'Toys & Hobbies',\n  sku: 'TH-CRYSTAL-001',\n  brand: 'ScienceFun',\n  variant: 'Large'\n}, {\n  id: 'build-your-own-robot-kit',\n  name: 'Build-Your-Own Robot Kit',\n  description: 'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',\n  price: 75.00,\n  imageUrl: 'https://placehold.co/300x300/66CDAA/000000?text=Robot+Kit',\n  category: 'Toys & Hobbies',\n  sku: 'TH-ROBOT-001',\n  brand: 'RoboKids',\n  variant: 'Beginner'\n}, {\n  id: 'color-changing-mug',\n  name: 'Color-Changing Mug',\n  description: 'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',\n  price: 14.00,\n  imageUrl: 'https://placehold.co/300x300/8FBC8F/000000?text=Color+Mug',\n  category: 'Home Goods',\n  sku: 'HG-MUG-001',\n  brand: 'MagicMugs',\n  variant: 'Heat Reveal'\n}, {\n  id: 'fashion-face-mask-3-pack',\n  name: 'Fashion Face Mask (3-pack)',\n  description: 'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',\n  price: 18.00,\n  imageUrl: 'https://placehold.co/300x300/90EE90/000000?text=Face+Masks',\n  category: 'Apparel',\n  sku: 'APP-MASK-001',\n  brand: 'StyleWear',\n  variant: 'Assorted'\n}, {\n  id: 'mini-projector-hd',\n  name: 'Mini Projector HD',\n  description: 'Compact and portable HD projector for movies, presentations, or gaming on the go.',\n  price: 120.00,\n  imageUrl: 'https://placehold.co/300x300/9ACD32/000000?text=Mini+Projector',\n  category: 'Electronics',\n  sku: 'EL-PROJECTOR-001',\n  brand: 'ViewMax',\n  variant: 'HD'\n}, {\n  id: 'doggo-deluxe-bed',\n  name: 'Doggo Deluxe Bed',\n  description: 'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',\n  price: 55.00,\n  imageUrl: 'https://placehold.co/300x300/6B8E23/000000?text=Dog+Bed',\n  category: 'Pet Supplies',\n  sku: 'PET-DBED-001',\n  brand: 'ComfyPaws',\n  variant: 'Large'\n}, {\n  id: 'cat-castle-tower',\n  name: 'Cat Castle Tower',\n  description: 'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',\n  price: 85.00,\n  imageUrl: 'https://placehold.co/300x300/808000/000000?text=Cat+Tower',\n  category: 'Pet Supplies',\n  sku: 'PET-CTOWER-001',\n  brand: 'KittyKingdom',\n  variant: 'Multi-level'\n}, {\n  id: 'all-season-yoga-mat',\n  name: 'All-Season Yoga Mat',\n  description: 'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',\n  price: 29.99,\n  imageUrl: 'https://placehold.co/300x300/BDB76B/000000?text=Yoga+Mat',\n  category: 'Sports & Fitness',\n  sku: 'SF-YOGA-001',\n  brand: 'ZenFit',\n  variant: 'Standard'\n}, {\n  id: 'travel-packing-cubes',\n  name: 'Travel Packing Cubes',\n  description: 'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',\n  price: 24.99,\n  imageUrl: 'https://placehold.co/300x300/DAA520/000000?text=Packing+Cubes',\n  category: 'Travel',\n  sku: 'TRVL-PCUBE-001',\n  brand: 'PackSmart',\n  variant: 'Set of 3'\n}, {\n  id: 'smart-plant-sensor',\n  name: 'Smart Plant Sensor',\n  description: 'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',\n  price: 39.99,\n  imageUrl: 'https://placehold.co/300x300/FFD700/000000?text=Plant+Sensor',\n  category: 'Smart Home',\n  sku: 'SMART-PLANT-001',\n  brand: 'GreenThumb',\n  variant: 'Basic'\n}, {\n  id: 'pop-culture-puzzle-set',\n  name: 'Pop Culture Puzzle Set',\n  description: 'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',\n  price: 22.00,\n  imageUrl: 'https://placehold.co/300x300/FFA500/000000?text=Pop+Puzzle',\n  category: 'Games',\n  sku: 'GM-PUZZLE-001',\n  brand: 'NerdPuzzles',\n  variant: '1000pc'\n}, {\n  id: 'classic-denim-jacket',\n  name: 'Classic Denim Jacket',\n  description: 'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',\n  price: 69.00,\n  imageUrl: 'https://placehold.co/300x300/FF8C00/000000?text=Denim+Jacket',\n  category: 'Apparel',\n  sku: 'APP-DENIM-001',\n  brand: 'FashionCo',\n  variant: 'Blue'\n}, {\n  id: 'pocket-blender-pro',\n  name: 'Pocket Blender Pro',\n  description: 'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',\n  price: 39.99,\n  imageUrl: 'https://placehold.co/300x300/FF4500/000000?text=Pocket+Blender',\n  category: 'Kitchen',\n  sku: 'KCH-PBLEND-001',\n  brand: 'BlendGo',\n  variant: 'Pro'\n}, {\n  id: 'microfiber-cleaning-slippers',\n  name: 'Microfiber Cleaning Slippers',\n  description: 'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',\n  price: 15.00,\n  imageUrl: 'https://placehold.co/300x300/FF6347/000000?text=Cleaning+Slippers',\n  category: 'Home Goods',\n  sku: 'HG-SLIPPER-001',\n  brand: 'CleanFeet',\n  variant: 'Grey'\n}, {\n  id: 'personal-blender-bottle',\n  name: 'Personal Blender Bottle',\n  description: 'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',\n  price: 25.00,\n  imageUrl: 'https://placehold.co/300x300/CD5C5C/000000?text=Blender+Bottle',\n  category: 'Kitchen',\n  sku: 'KCH-BOTTLE-001',\n  brand: 'ShakeIt',\n  variant: '24oz'\n}, {\n  id: 'wireless-charging-pad',\n  name: 'Wireless Charging Pad',\n  description: 'Fast and efficient wireless charging pad for compatible smartphones and devices.',\n  price: 29.00,\n  imageUrl: 'https://placehold.co/300x300/DC143C/000000?text=Charging+Pad',\n  category: 'Electronics',\n  sku: 'EL-CHARGE-001',\n  brand: 'PowerUp',\n  variant: 'Fast'\n}, {\n  id: 'kitchen-chef-knife-set',\n  name: 'Kitchen Chef Set',\n  description: 'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',\n  price: 89.99,\n  imageUrl: 'https://placehold.co/300x300/B22222/000000?text=Knife+Set',\n  category: 'Kitchen',\n  sku: 'KCH-KNIFE-001',\n  brand: 'ChefPro',\n  variant: '5-piece'\n}, {\n  id: 'instant-cold-brew-maker',\n  name: 'Instant Cold Brew Maker',\n  description: 'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',\n  price: 34.99,\n  imageUrl: 'https://placehold.co/300x300/8B0000/000000?text=Cold+Brew+Maker',\n  category: 'Kitchen',\n  sku: 'KCH-COLDBREW-001',\n  brand: 'BrewQuick',\n  variant: 'Standard'\n}, {\n  id: 'uv-sanitizing-box',\n  name: 'UV Sanitizing Box',\n  description: 'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',\n  price: 49.99,\n  imageUrl: 'https://placehold.co/300x300/A52A2A/000000?text=UV+Sanitizer',\n  category: 'Health & Personal Care',\n  sku: 'HPC-UVSAN-001',\n  brand: 'CleanTech',\n  variant: 'Compact'\n}, {\n  id: 'portable-fire-pit',\n  name: 'Portable Fire Pit',\n  description: 'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',\n  price: 79.00,\n  imageUrl: 'https://placehold.co/300x300/D2B48C/000000?text=Fire+Pit',\n  category: 'Outdoor',\n  sku: 'OUT-FIREPIT-001',\n  brand: 'CampFire',\n  variant: 'Portable'\n}, {\n  id: 'commuter-insulated-backpack',\n  name: 'Commuter Insulated Backpack',\n  description: 'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',\n  price: 59.00,\n  imageUrl: 'https://placehold.co/300x300/F4A460/000000?text=Insulated+Backpack',\n  category: 'Travel',\n  sku: 'TRVL-BPACK-001',\n  brand: 'GoPack',\n  variant: 'Insulated'\n}, {\n  id: 'labubu-vampire-bunny-plush',\n  name: 'Labubu Vampire Bunny Plush',\n  description: 'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',\n  price: 28.00,\n  imageUrl: 'https://placehold.co/300x300/FF7F50/000000?text=Labubu+Vampire',\n  category: 'Collectible',\n  sku: 'COL-LABU-VAMP',\n  brand: 'Popmart',\n  variant: 'Vampire'\n}, {\n  id: 'labubu-sweet-dream-figure',\n  name: 'Labubu Sweet Dream Figure',\n  description: 'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',\n  price: 17.50,\n  imageUrl: 'https://placehold.co/300x300/FF69B4/000000?text=Labubu+Sweet+Dream',\n  category: 'Collectible',\n  sku: 'COL-LABU-SD',\n  brand: 'Popmart',\n  variant: 'Sweet Dream'\n}, {\n  id: 'labubu-trick-or-treat-series',\n  name: 'Labubu Trick-or-Treat Series',\n  description: 'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',\n  price: 16.99,\n  imageUrl: 'https://placehold.co/300x300/FF1493/000000?text=Labubu+Trick',\n  category: 'Collectible',\n  sku: 'COL-LABU-TOT',\n  brand: 'Popmart',\n  variant: 'Halloween'\n}, {\n  id: 'marvel-collector-keychain',\n  name: 'Marvel Collector Keychain',\n  description: 'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',\n  price: 7.99,\n  imageUrl: 'https://placehold.co/300x300/C71585/000000?text=Marvel+Keychain',\n  category: 'Collectible',\n  sku: 'COL-MARVEL-KC',\n  brand: 'Marvel',\n  variant: 'Assorted'\n}, {\n  id: 'holiday-advent-calendar',\n  name: 'Holiday Advent Calendar',\n  description: 'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',\n  price: 25.00,\n  imageUrl: 'https://placehold.co/300x300/DB7093/000000?text=Advent+Calendar',\n  category: 'Holiday',\n  sku: 'HOL-ADVENT-001',\n  brand: 'FestiveFun',\n  variant: 'Standard'\n}];\n\n// Define a subset of products for the \"Featured Products\" section on the Home Page\nconst featuredProducts = products.filter(product => product.name.toLowerCase().includes('labubu') || product.category === 'Collectible');\n\n// --- Components ---\n\nconst Header = ({\n  navigate,\n  cartItemCount\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold font-inter cursor-pointer\",\n        onClick: () => navigate('home'),\n        children: \"Brandazon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex items-center space-x-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('home'),\n          className: \"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('products'),\n          className: \"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('simulatedSearch'),\n          className: \"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: \"Simulate Ad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('cart'),\n          className: \"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: [\"Cart (\", cartItemCount, \")\", cartItemCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\",\n            children: cartItemCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 599,\n    columnNumber: 5\n  }, this);\n};\n_c = Header;\nconst PartnershipBanner = () => {\n  // Removed Promotion Viewed event from useEffect, now only triggered by click\n  const handleShopNowClick = () => {\n    // Promotion Clicked event\n    if (window.analytics) {\n      window.analytics.track('Promotion Clicked', {\n        promotion_id: 'labubu_popmart_banner_top',\n        creative: 'labubu_x_popmart_banner',\n        name: 'Labubu x Popmart Exclusive Partnership',\n        position: 'home_banner_top'\n      });\n    }\n    // In a real app, this would navigate to a specific Labubu category page or product list\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://placehold.co/150x150/FFFFFF/FF69B4?text=Labubu+x+Popmart\",\n        alt: \"Labubu x Popmart Partnership\",\n        className: \"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\",\n        onError: e => {\n          e.target.onerror = null;\n          e.target.src = `https://placehold.co/150x150/CCCCCC/000000?text=Partnership`;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block\",\n            children: \"Brandazon x Labubu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block text-2xl md:text-3xl font-semibold mt-1\",\n            children: \"Exclusive Partnership with Popmart!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg md:text-xl font-medium opacity-90\",\n          children: \"Discover the latest Labubu drops and limited editions, only here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleShopNowClick,\n          className: \"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\",\n          children: \"Shop Labubu Now!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 654,\n    columnNumber: 5\n  }, this);\n};\n_c2 = PartnershipBanner;\nconst ProductCard = ({\n  product,\n  navigate,\n  position\n}) => {\n  _s();\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item => item.id === product.id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item));\n    } else {\n      setCart([...cart, {\n        ...product,\n        quantity: 1\n      }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id',\n        // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n  const handleViewDetails = () => {\n    // Product Clicked event\n    if (window.analytics) {\n      window.analytics.track('Product Clicked', formatProductForSegment(product, 1, position));\n    }\n    // Product Viewed event - Triggered by button click, not just component mount\n    if (window.analytics) {\n      window.analytics.track('Product Viewed', {\n        product_id: product.id,\n        sku: product.sku,\n        category: product.category,\n        name: product.name,\n        brand: product.brand,\n        variant: product.variant,\n        price: product.price,\n        quantity: 1,\n        currency: 'USD',\n        value: product.price,\n        url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`,\n        image_url: product.imageUrl\n      });\n    }\n    navigate('productDetail', product.id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.imageUrl,\n      alt: product.name,\n      className: \"w-full h-48 object-cover rounded-t-xl\",\n      onError: e => {\n        e.target.onerror = null;\n        e.target.src = `https://placehold.co/300x300/CCCCCC/000000?text=Image+Not+Found`;\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 731,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 flex-grow flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-800 mb-2\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-sm mb-3 line-clamp-3\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-purple-700 mb-4\",\n          children: [\"$\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleViewDetails,\n          className: \"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n          children: \"View Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddToCart,\n          className: \"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 730,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCard, \"rJ2/z8YtMAl5XvszCoK8oWF5i9w=\");\n_c3 = ProductCard;\nconst HomePage = ({\n  navigate\n}) => {\n  // Removed Product List Viewed event from useEffect\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(PartnershipBanner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-4xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: \"Featured Labubu & Popmart Collectibles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n      children: featuredProducts.map((product, index) => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product,\n        navigate: navigate,\n        position: index + 1\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 770,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-12\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('products'),\n        className: \"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",\n        children: \"View All Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 765,\n    columnNumber: 5\n  }, this);\n};\n_c4 = HomePage;\nconst ProductsPage = ({\n  navigate\n}) => {\n  // Removed Product List Viewed event from useEffect\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-4xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: \"All Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n      children: products.map((product, index) => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product,\n        navigate: navigate,\n        position: index + 1\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 788,\n    columnNumber: 5\n  }, this);\n};\n_c5 = ProductsPage;\nconst ProductDetailPage = ({\n  productId,\n  navigate\n}) => {\n  _s2();\n  const [utmParams, setUtmParams] = useState(null); // Keep this state for UTMs\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  const product = products.find(p => p.id === productId);\n  useEffect(() => {\n    // Campaign Attribution Recorded (if UTMs are present) - Now triggered by the ProductDetailPage loading\n    // and checking for UTMs, which is a page-specific attribution, not a general \"track\" event on mount.\n    // This is a special case where the \"track\" event is directly related to the URL state.\n    if (window.analytics && product) {\n      const hashParts = window.location.hash.split('?');\n      const queryString = hashParts.length > 1 ? hashParts[1] : '';\n      const params = new URLSearchParams(queryString);\n      const parsedUtm = {};\n      for (let [key, value] of params.entries()) {\n        if (key.startsWith('utm_') || key.startsWith('gad_') || key.startsWith('gclid') || key.startsWith('gbraid')) {\n          parsedUtm[key] = value;\n        }\n      }\n      if (Object.keys(parsedUtm).length > 0) {\n        setUtmParams(parsedUtm); // Update state with parsed UTMs\n        window.analytics.track('Campaign Attribution Recorded', {\n          product_id: product.id,\n          product_name: product.name,\n          ...parsedUtm\n        });\n      } else {\n        setUtmParams(null); // Clear if no UTMs are present\n      }\n    }\n  }, [productId, product]); // Depend on productId and product only for this effect\n\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-6 text-center text-red-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold mb-4\",\n        children: \"Product Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('home'),\n        className: \"mt-4 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\",\n        children: \"Back to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 7\n    }, this);\n  }\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item => item.id === product.id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item));\n    } else {\n      setCart([...cart, {\n        ...product,\n        quantity: 1\n      }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id',\n        // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.imageUrl,\n        alt: product.name,\n        className: \"w-full md:w-1/2 lg:w-1/3 h-auto object-cover rounded-lg shadow-md\",\n        onError: e => {\n          e.target.onerror = null;\n          e.target.src = `https://placehold.co/400x400/CCCCCC/000000?text=Image+Not+Found`;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 866,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl font-extrabold text-gray-900 mb-4\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 text-lg mb-6\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 874,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-4xl font-bold text-purple-700 mb-6\",\n          children: [\"$\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 875,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddToCart,\n          className: \"bg-purple-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('home'),\n          className: \"ml-4 bg-gray-300 text-gray-800 py-3 px-8 rounded-lg text-xl font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",\n          children: \"Back to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 882,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 865,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 864,\n    columnNumber: 5\n  }, this);\n};\n_s2(ProductDetailPage, \"V6+NEYE27bh9oA0TemTbVqv9R2c=\");\n_c6 = ProductDetailPage;\nconst CartPage = ({\n  navigate\n}) => {\n  _s3();\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n\n  // Removed Cart Viewed event from useEffect\n  // It's generally better to track Cart Viewed as part of a page() call or\n  // only when the user explicitly interacts with the cart (e.g., clicks a \"View Cart\" button)\n\n  const updateQuantity = (id, delta) => {\n    const item = cart.find(i => i.id === id);\n    if (!item) return;\n    const newQuantity = item.quantity + delta;\n    if (newQuantity <= 0) {\n      // Product Removed event\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(item, item.quantity)] // Track original quantity being removed\n        });\n      }\n      setCart(cart.filter(i => i.id !== id));\n    } else {\n      setCart(cart.map(i => i.id === id ? {\n        ...i,\n        quantity: newQuantity\n      } : i));\n      if (delta > 0) {\n        // Product Added event (for quantity increase)\n        if (window.analytics) {\n          window.analytics.track('Product Added', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(item, 1)] // Track 1 unit added\n          });\n        }\n      } else {\n        // Product Removed event (for quantity decrease)\n        if (window.analytics) {\n          window.analytics.track('Product Removed', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(item, 1)] // Track 1 unit removed\n          });\n        }\n      }\n    }\n  };\n  const removeItem = id => {\n    const itemToRemove = cart.find(item => item.id === id);\n    if (itemToRemove) {\n      // Product Removed event (for full item removal)\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(itemToRemove, itemToRemove.quantity)]\n        });\n      }\n      setCart(cart.filter(item => item.id !== id));\n    }\n  };\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const handleCheckout = () => {\n    // Checkout Started event\n    if (window.analytics) {\n      window.analytics.track('Checkout Started', {\n        order_id: `ORDER-${Date.now()}-${Math.floor(Math.random() * 1000)}`,\n        // Generate a unique order_id\n        affiliation: 'Brandazon Online Store',\n        value: totalAmount,\n        revenue: totalAmount,\n        // Assuming no separate discounts/taxes for simplicity here\n        shipping: 0,\n        // Placeholder\n        tax: 0,\n        // Placeholder\n        discount: 0,\n        // Placeholder\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n    navigate('checkout');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-4xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: \"Your Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 975,\n      columnNumber: 7\n    }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-gray-600 text-xl\",\n      children: [\"Your cart is empty. \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('home'),\n        className: \"text-blue-600 hover:underline\",\n        children: \"Start shopping!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 978,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 977,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.imageUrl,\n              alt: item.name,\n              className: \"w-20 h-20 object-cover rounded-lg shadow-sm\",\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = `https://placehold.co/80x80/CCCCCC/000000?text=Img`;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-800\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: [\"$\", item.price.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center border border-gray-300 rounded-md\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateQuantity(item.id, -1),\n                className: \"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-md\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 border-x border-gray-300\",\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateQuantity(item.id, 1),\n                className: \"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-md\",\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1006,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 998,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold text-purple-700 w-24 text-right\",\n              children: [\"$\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeItem(item.id),\n              className: \"text-red-500 hover:text-red-700 transition duration-300\",\n              title: \"Remove item\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1019,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1014,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 984,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 982,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end items-center mt-8 pt-6 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-gray-900 mr-4\",\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1028,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-extrabold text-purple-800\",\n          children: [\"$\", totalAmount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1027,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end mt-6 space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('home'),\n          className: \"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n          children: \"Continue Shopping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCheckout,\n          disabled: cart.length === 0,\n          className: `py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length === 0 ? 'bg-gray-400 text-gray-600 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}`,\n          children: \"Proceed to Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1038,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 981,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 974,\n    columnNumber: 5\n  }, this);\n};\n_s3(CartPage, \"rJ2/z8YtMAl5XvszCoK8oWF5i9w=\");\n_c7 = CartPage;\nconst CheckoutPage = ({\n  navigate\n}) => {\n  _s4();\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  const [orderPlaced, setOrderPlaced] = useState(false);\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  useEffect(() => {\n    // Placeholder for user ID - In a real app, this would come from an auth system\n    const userId = 'user_12345';\n    const userTraits = {\n      email: 'user@example.com',\n      name: 'John Doe'\n    };\n\n    // Identify call on checkout page load (or when user logs in/is identified)\n    if (window.analytics) {\n      window.analytics.identify(userId, userTraits);\n    }\n\n    // Removed Checkout Step Viewed event from useEffect\n  }, []); // Only on mount\n\n  const handlePlaceOrder = () => {\n    const orderId = `ORDER-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n    const revenue = totalAmount;\n    const shipping = 0;\n    const tax = 0;\n    const discount = 0;\n    const coupon = 'N/A';\n\n    // Payment Info Entered event (simulated before Order Completed)\n    if (window.analytics) {\n      window.analytics.track('Payment Info Entered', {\n        checkout_id: 'brandazon_checkout_id',\n        order_id: orderId,\n        payment_method: 'Credit Card' // Placeholder\n      });\n    }\n\n    // Order Completed event\n    if (window.analytics) {\n      window.analytics.track('Order Completed', {\n        checkout_id: 'brandazon_checkout_id',\n        order_id: orderId,\n        affiliation: 'Brandazon Online Store',\n        total: totalAmount + shipping + tax - discount,\n        subtotal: totalAmount,\n        revenue: revenue,\n        shipping: shipping,\n        tax: tax,\n        discount: discount,\n        coupon: coupon,\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n    setOrderPlaced(true);\n    setCart([]); // Clear cart after purchase\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-4xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg p-8\",\n      children: orderPlaced ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-green-700 text-2xl font-semibold\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4\",\n          children: \"\\uD83C\\uDF89 Your order has been placed successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Thank you for shopping with Brandazon!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('home'),\n          className: \"mt-8 bg-purple-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n          children: \"Continue Shopping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1118,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-gray-800 mb-4\",\n            children: \"Order Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1131,\n            columnNumber: 15\n          }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Your cart is empty. Please add items before checking out.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1133,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-3\",\n            children: cart.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex justify-between text-gray-700 text-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [item.name, \" (x\", item.quantity, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", (item.price * item.quantity).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1139,\n                columnNumber: 23\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1137,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mt-6 pt-4 border-t border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900 mr-4\",\n              children: \"Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-extrabold text-purple-800\",\n              children: [\"$\", totalAmount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-gray-800 mb-4\",\n            children: \"Shipping Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1151,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fullName\",\n                className: \"block text-gray-700 text-sm font-bold mb-2\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1154,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"fullName\",\n                className: \"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                placeholder: \"John Doe\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1155,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1153,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"address\",\n                className: \"block text-gray-700 text-sm font-bold mb-2\",\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"address\",\n                className: \"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                placeholder: \"123 Main St\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1159,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"city\",\n                  className: \"block text-gray-700 text-sm font-bold mb-2\",\n                  children: \"City\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"city\",\n                  className: \"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                  placeholder: \"Anytown\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1164,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1162,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"zip\",\n                  className: \"block text-gray-700 text-sm font-bold mb-2\",\n                  children: \"Zip Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1167,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"zip\",\n                  className: \"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                  placeholder: \"12345\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1166,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1161,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1152,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-gray-800 mb-4\",\n            children: \"Payment Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"cardNumber\",\n                className: \"block text-gray-700 text-sm font-bold mb-2\",\n                children: \"Card Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1178,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"cardNumber\",\n                className: \"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                placeholder: \"**** **** **** ****\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1179,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"expiryDate\",\n                  className: \"block text-gray-700 text-sm font-bold mb-2\",\n                  children: \"Expiry Date (MM/YY)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1183,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"expiryDate\",\n                  className: \"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                  placeholder: \"12/25\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1184,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"cvv\",\n                  className: \"block text-gray-700 text-sm font-bold mb-2\",\n                  children: \"CVV\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1187,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"cvv\",\n                  className: \"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                  placeholder: \"123\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1188,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1186,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1181,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('cart'),\n            className: \"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n            children: \"Back to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePlaceOrder,\n            disabled: cart.length === 0,\n            className: `py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length === 0 ? 'bg-gray-400 text-gray-600 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}`,\n            children: \"Place Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1201,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1114,\n    columnNumber: 5\n  }, this);\n};\n_s4(CheckoutPage, \"1e4idaVJMXJ1Hl2XpaJKBayl0j8=\");\n_c8 = CheckoutPage;\nconst SimulatedSearchEnginePage = ({\n  products\n}) => {\n  _s5();\n  const [searchTerm, setSearchTerm] = useState('');\n  useEffect(() => {\n    // Page view for Simulated Search Engine (this is a page, not a track event on mount)\n    if (window.analytics) {\n      window.analytics.page('Marketing', 'Simulated Search Engine Page', {\n        path: window.location.pathname + window.location.hash,\n        url: window.location.href\n      });\n    }\n  }, []);\n  const handleAdClick = () => {\n    const lowerCaseSearchTerm = searchTerm.toLowerCase();\n    let targetProductId = 'labubu-blind-box-series-8'; // Default Labubu product\n\n    const matchedProduct = products.find(p => p.name.toLowerCase().includes(lowerCaseSearchTerm) || p.description.toLowerCase().includes(lowerCaseSearchTerm) || p.category.toLowerCase().includes(lowerCaseSearchTerm));\n    if (matchedProduct) {\n      targetProductId = matchedProduct.id;\n    }\n\n    // Products Searched event (triggered by click)\n    if (window.analytics) {\n      window.analytics.track('Products Searched', {\n        query: searchTerm.trim()\n      });\n    }\n\n    // Construct the query parameters string\n    const queryParams = new URLSearchParams();\n    queryParams.append('utm_source', 'google');\n    queryParams.append('utm_medium', 'cpc');\n    queryParams.append('utm_campaign', 'labubu_launch_q3');\n    queryParams.append('utm_content', 'search_ad_banner');\n    queryParams.append('utm_term', searchTerm.trim() || 'default_search_term');\n    queryParams.append('gad_source', '1');\n    queryParams.append('gad_campaignid', '22690431292');\n    queryParams.append('gbraid', '0AAAAApZoGaVNZnuRe968aNy6x-Z4Y9TI6');\n    queryParams.append('gclid', 'CjwKCAjw1ozEBhAdEiwAn9qbzT99fJagIv7foNLlQnHysh63ZqtvIRL_hVhVDsUw_948_5Hs1WQu-BoCZCYQAvD_BwE'); // Example GCLID\n\n    const baseUrl = window.location.origin + window.location.pathname;\n    const constructedUrl = `${baseUrl}#/product/${targetProductId}?${queryParams.toString()}`;\n    window.location.href = constructedUrl;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6 flex flex-col items-center justify-center min-h-[60vh]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-extrabold text-gray-900 mb-8\",\n        children: \"Simulate a Search Engine Ad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 text-lg mb-6\",\n        children: \"Type a search query below and click \\\"Simulate Ad Click\\\" to see how UTM parameters would be passed to Brandazon.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row gap-4 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"flex-grow shadow appearance-none border rounded-lg py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          placeholder: \"e.g., Labubu, Earbuds, Monopoly\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          onKeyPress: e => {\n            if (e.key === 'Enter') handleAdClick();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAdClick,\n          className: \"bg-blue-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",\n          children: \"Simulate Ad Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 text-sm\",\n        children: \"(This will change the URL in your browser's address bar and navigate to the product page.)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1271,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1270,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s5(SimulatedSearchEnginePage, \"7rx4CbQaIs/5ckJbHkVuL5O30v0=\");\n_c9 = SimulatedSearchEnginePage;\nconst App = () => {\n  _s6();\n  // We'll manage routing based on window.location.hash directly\n  const [currentPage, setCurrentPage] = useState('home');\n  const [selectedProductId, setSelectedProductId] = useState(null);\n  const [cart, setCart] = useState([]);\n\n  // Effect to handle initial page load and hash changes for routing and Segment page calls\n  useEffect(() => {\n    const handleNavigationAndTracking = () => {\n      const hash = window.location.hash;\n      let pageName = '';\n      let pageCategory = '';\n      let currentProductId = null; // To store product ID if on product detail page\n\n      if (hash.startsWith('#/product/')) {\n        const productIdFromHash = hash.split('?')[0].replace('#/product/', '');\n        setCurrentPage('productDetail');\n        currentProductId = productIdFromHash;\n        setSelectedProductId(productIdFromHash);\n        pageName = 'Product Detail Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/products') {\n        setCurrentPage('products');\n        setSelectedProductId(null);\n        pageName = 'All Products Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/simulatedSearch') {\n        setCurrentPage('simulatedSearch');\n        setSelectedProductId(null);\n        pageName = 'Simulated Search Engine Page';\n        pageCategory = 'Marketing';\n      } else if (hash === '#/cart') {\n        setCurrentPage('cart');\n        setSelectedProductId(null);\n        pageName = 'Cart Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/checkout') {\n        setCurrentPage('checkout');\n        setSelectedProductId(null);\n        pageName = 'Checkout Page';\n        pageCategory = 'E-commerce';\n      } else {\n        setCurrentPage('home');\n        setSelectedProductId(null);\n        pageName = 'Home Page';\n        pageCategory = 'E-commerce';\n      }\n\n      // Segment Page call for every route change, including initial load after refresh\n      if (window.analytics) {\n        window.analytics.page(pageCategory, pageName, {\n          path: window.location.pathname + window.location.hash,\n          url: window.location.href,\n          // Add product_id to page properties if on product detail page\n          ...(currentProductId && {\n            product_id: currentProductId\n          })\n        });\n      }\n    };\n\n    // Set initial page and trigger Segment page call on component mount (after refresh)\n    handleNavigationAndTracking();\n\n    // Listen for hash changes for subsequent in-app navigation\n    window.addEventListener('hashchange', handleNavigationAndTracking);\n\n    // Cleanup listener\n    return () => {\n      window.removeEventListener('hashchange', handleNavigationAndTracking);\n    };\n  }, []); // Run once on mount\n\n  // Placeholder for initial user identification (e.g., on first load or after login)\n  useEffect(() => {\n    const anonymousId = localStorage.getItem('anonymousId');\n    if (!anonymousId) {\n      const newAnonymousId = `anon-${Date.now()}-${Math.floor(Math.random() * 100000)}`;\n      localStorage.setItem('anonymousId', newAnonymousId);\n      if (window.analytics) {\n        window.analytics.identify(newAnonymousId);\n      }\n    } else {\n      if (window.analytics) {\n        window.analytics.identify(anonymousId);\n      }\n    }\n    if (window.analytics) {\n      window.analytics.track('Application Loaded');\n    }\n  }, []);\n\n  // Internal navigation function (for internal app links)\n  const navigate = (page, productId = null) => {\n    let newHash = '';\n    switch (page) {\n      case 'home':\n        newHash = ''; // Empty hash for home\n        break;\n      case 'products':\n        newHash = '#/products';\n        break;\n      case 'simulatedSearch':\n        newHash = '#/simulatedSearch';\n        break;\n      case 'productDetail':\n        newHash = `#/product/${productId}`;\n        break;\n      case 'cart':\n        newHash = '#/cart';\n        break;\n      case 'checkout':\n        newHash = '#/checkout';\n        break;\n      default:\n        newHash = '';\n    }\n    window.location.hash = newHash; // Update hash, which will trigger handleNavigationAndTracking\n  };\n  const cartItemCount = cart.reduce((count, item) => count + item.quantity, 0);\n  return (\n    /*#__PURE__*/\n    // Provide the cart context to all child components\n    _jsxDEV(CartContext.Provider, {\n      value: {\n        cart,\n        setCart\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen bg-gray-100 font-inter antialiased\",\n        children: [/*#__PURE__*/_jsxDEV(\"style\", {\n          children: `\n            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n          `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1430,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Header, {\n          navigate: navigate,\n          cartItemCount: cartItemCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1438,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"py-8\",\n          children: (() => {\n            switch (currentPage) {\n              case 'home':\n                return /*#__PURE__*/_jsxDEV(HomePage, {\n                  navigate: navigate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1443,\n                  columnNumber: 24\n                }, this);\n              case 'products':\n                return /*#__PURE__*/_jsxDEV(ProductsPage, {\n                  navigate: navigate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1445,\n                  columnNumber: 24\n                }, this);\n              case 'simulatedSearch':\n                return /*#__PURE__*/_jsxDEV(SimulatedSearchEnginePage, {\n                  products: products\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1447,\n                  columnNumber: 24\n                }, this);\n              // Pass products to SimulatedSearchEnginePage\n              case 'productDetail':\n                // ProductDetailPage now reads its own productId and UTMs from the URL\n                return /*#__PURE__*/_jsxDEV(ProductDetailPage, {\n                  productId: selectedProductId,\n                  navigate: navigate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1450,\n                  columnNumber: 24\n                }, this);\n              case 'cart':\n                return /*#__PURE__*/_jsxDEV(CartPage, {\n                  navigate: navigate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1452,\n                  columnNumber: 24\n                }, this);\n              case 'checkout':\n                return /*#__PURE__*/_jsxDEV(CheckoutPage, {\n                  navigate: navigate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1454,\n                  columnNumber: 24\n                }, this);\n              default:\n                return /*#__PURE__*/_jsxDEV(HomePage, {\n                  navigate: navigate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1456,\n                  columnNumber: 24\n                }, this);\n            }\n          })()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1439,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1429,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1428,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s6(App, \"BgyPGQzJPgfpRGRkVh+PJedrs0c=\");\n_c0 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"PartnershipBanner\");\n$RefreshReg$(_c3, \"ProductCard\");\n$RefreshReg$(_c4, \"HomePage\");\n$RefreshReg$(_c5, \"ProductsPage\");\n$RefreshReg$(_c6, \"ProductDetailPage\");\n$RefreshReg$(_c7, \"CartPage\");\n$RefreshReg$(_c8, \"CheckoutPage\");\n$RefreshReg$(_c9, \"SimulatedSearchEnginePage\");\n$RefreshReg$(_c0, \"App\");","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","jsxDEV","_jsxDEV","Fragment","_Fragment","CartContext","formatProductForSegment","product","quantity","position","product_id","id","sku","category","name","brand","variant","price","url","window","location","origin","pathname","image_url","imageUrl","products","description","featuredProducts","filter","toLowerCase","includes","Header","navigate","cartItemCount","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","PartnershipBanner","handleShopNowClick","analytics","track","promotion_id","creative","src","alt","onError","e","target","onerror","_c2","ProductCard","_s","cart","setCart","handleAddToCart","existingItem","find","item","map","cart_id","handleViewDetails","currency","value","toFixed","_c3","HomePage","index","_c4","ProductsPage","_c5","ProductDetailPage","productId","_s2","utmParams","setUtmParams","p","hashParts","hash","split","queryString","length","params","URLSearchParams","parsedUtm","key","entries","startsWith","Object","keys","product_name","_c6","CartPage","_s3","updateQuantity","delta","i","newQuantity","removeItem","itemToRemove","totalAmount","reduce","sum","handleCheckout","order_id","Date","now","Math","floor","random","affiliation","revenue","shipping","tax","discount","title","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","_c7","CheckoutPage","_s4","orderPlaced","setOrderPlaced","userId","userTraits","email","identify","handlePlaceOrder","orderId","coupon","checkout_id","payment_method","total","subtotal","htmlFor","type","placeholder","required","_c8","SimulatedSearchEnginePage","_s5","searchTerm","setSearchTerm","page","path","href","handleAdClick","lowerCaseSearchTerm","targetProductId","matchedProduct","query","trim","queryParams","append","baseUrl","constructedUrl","toString","onChange","onKeyPress","_c9","App","_s6","currentPage","setCurrentPage","selectedProductId","setSelectedProductId","handleNavigationAndTracking","pageName","pageCategory","currentProductId","productIdFromHash","replace","addEventListener","removeEventListener","anonymousId","localStorage","getItem","newAnonymousId","setItem","newHash","count","Provider","_c0","$RefreshReg$"],"sources":["/Users/brandoncaudillo/Development/code/data_science_backup/Data-Science-Portfolio/brandazon-ecommerce/src/app.jsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\n\n// --- Global Context for Cart Management ---\nconst CartContext = createContext();\n\n// --- Helper to format product data for Segment events ---\nconst formatProductForSegment = (product, quantity = 1, position = null) => {\n  return {\n    product_id: product.id,\n    sku: product.sku,\n    category: product.category,\n    name: product.name,\n    brand: product.brand,\n    variant: product.variant,\n    price: product.price,\n    quantity: quantity,\n    // coupon: product.coupon, // Add if coupons are implemented per product\n    position: position,\n    url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`, // Dynamic URL\n    image_url: product.imageUrl,\n  };\n};\n\n// --- Expanded Product Data ---\nconst products = [\n  {\n    id: 'monopoly-3rd-edition',\n    name: 'Monopoly: 3rd Edition',\n    description: 'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',\n    price: 29.99,\n    imageUrl: 'https://placehold.co/300x300/F0F8FF/000000?text=Monopoly+3rd',\n    category: 'Games',\n    sku: 'GM-MONO-001',\n    brand: 'Hasbro',\n    variant: 'Standard'\n  },\n  {\n    id: 'uno-card-game',\n    name: 'Uno Card Game',\n    description: 'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',\n    price: 9.99,\n    imageUrl: 'https://placehold.co/300x300/E6E6FA/000000?text=Uno+Cards',\n    category: 'Games',\n    sku: 'GM-UNO-001',\n    brand: 'Mattel',\n    variant: 'Standard'\n  },\n  {\n    id: 'special-facial-soap',\n    name: 'Special Facial Soap',\n    description: 'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',\n    price: 12.50,\n    imageUrl: 'https://placehold.co/300x300/F5F5DC/000000?text=Facial+Soap',\n    category: 'Beauty',\n    sku: 'BT-SOAP-001',\n    brand: 'PureSkin',\n    variant: 'Unscented'\n  },\n  {\n    id: 'fancy-hairbrush',\n    name: 'Fancy Hairbrush',\n    description: 'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',\n    price: 18.00,\n    imageUrl: 'https://placehold.co/300x300/FFF0F5/000000?text=Hairbrush',\n    category: 'Beauty',\n    sku: 'BT-HBRUSH-001',\n    brand: 'GlamLocks',\n    variant: 'Large'\n  },\n  {\n    id: 'labubu-blind-box-series-8',\n    name: 'Labubu Blind Box Series 8',\n    description: 'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',\n    price: 16.99,\n    imageUrl: 'https://placehold.co/300x300/ADD8E6/000000?text=Labubu+Series+8',\n    category: 'Collectible',\n    sku: 'COL-LABU-S8',\n    brand: 'Popmart',\n    variant: 'Blind Box'\n  },\n  {\n    id: 'labubu-ghost-hunter-plush',\n    name: 'Labubu Ghost Hunter Plush',\n    description: 'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/B0E0E6/000000?text=Labubu+Ghost',\n    category: 'Collectible',\n    sku: 'COL-LABU-GH',\n    brand: 'Popmart',\n    variant: 'Plush'\n  },\n  {\n    id: 'labubu-plush-keychain',\n    name: 'Labubu Plush Keychain',\n    description: 'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',\n    price: 9.50,\n    imageUrl: 'https://placehold.co/300x300/87CEEB/000000?text=Labubu+Keychain',\n    category: 'Collectible',\n    sku: 'COL-LABU-KC',\n    brand: 'Popmart',\n    variant: 'Keychain'\n  },\n  {\n    id: 'electric-pour-over-kettle',\n    name: 'Electric Pour-over Kettle',\n    description: 'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',\n    price: 59.99,\n    imageUrl: 'https://placehold.co/300x300/6495ED/000000?text=Pour-over+Kettle',\n    category: 'Kitchen',\n    sku: 'KCH-KETTLE-001',\n    brand: 'BrewMaster',\n    variant: 'Black'\n  },\n  {\n    id: 'retro-gaming-mousepad',\n    name: 'Retro Gaming Mousepad',\n    description: 'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',\n    price: 14.99,\n    imageUrl: 'https://placehold.co/300x300/4682B4/000000?text=Retro+Mousepad',\n    category: 'Electronics',\n    sku: 'EL-MPAD-001',\n    brand: 'GameGear',\n    variant: 'Large'\n  },\n  {\n    id: 'airpods-pro-3rd-gen',\n    name: 'AirPods Pro 3rd Gen',\n    description: 'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',\n    price: 249.00,\n    imageUrl: 'https://placehold.co/300x300/5F9EA0/000000?text=AirPods+Pro',\n    category: 'Electronics',\n    sku: 'EL-AIRPODS-003',\n    brand: 'Apple',\n    variant: 'Pro'\n  },\n  {\n    id: 'nintendo-switch-lite',\n    name: 'Nintendo Switch Lite',\n    description: 'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',\n    price: 199.99,\n    imageUrl: 'https://placehold.co/300x300/7FFFD4/000000?text=Switch+Lite',\n    category: 'Electronics',\n    sku: 'GM-SWITCHL-001',\n    brand: 'Nintendo',\n    variant: 'Yellow'\n  },\n  {\n    id: 'collectible-ceramic-mug',\n    name: 'Collectible Ceramic Mug',\n    description: 'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',\n    price: 11.99,\n    imageUrl: 'https://placehold.co/300x300/AFEEEE/000000?text=Ceramic+Mug',\n    category: 'Collectible',\n    sku: 'COL-MUG-001',\n    brand: 'ArtisanCraft',\n    variant: 'Standard'\n  },\n  {\n    id: 'summer-splash-towel',\n    name: 'Summer Splash Towel',\n    description: 'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',\n    price: 19.99,\n    imageUrl: 'https://placehold.co/300x300/00CED1/000000?text=Splash+Towel',\n    category: 'Home Goods',\n    sku: 'HG-TOWEL-001',\n    brand: 'AquaDry',\n    variant: 'Beach'\n  },\n  {\n    id: 'holiday-cookie-tin',\n    name: 'Holiday Cookie Tin',\n    description: 'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',\n    price: 15.00,\n    imageUrl: 'https://placehold.co/300x300/40E0D0/000000?text=Cookie+Tin',\n    category: 'Food',\n    sku: 'FD-COOKIE-001',\n    brand: 'SweetTreats',\n    variant: 'Assorted'\n  },\n  {\n    id: 'wireless-pet-tracker',\n    name: 'Wireless Pet Tracker',\n    description: 'Keep track of your furry friend with this compact and reliable wireless pet tracker.',\n    price: 45.00,\n    imageUrl: 'https://placehold.co/300x300/20B2AA/000000?text=Pet+Tracker',\n    category: 'Pet Supplies',\n    sku: 'PET-TRACK-001',\n    brand: 'PetSafe',\n    variant: 'GPS'\n  },\n  {\n    id: 'smart-home-hub-mini',\n    name: 'Smart Home Hub Mini',\n    description: 'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',\n    price: 79.99,\n    imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Smart+Hub',\n    category: 'Smart Home',\n    sku: 'SMART-HUB-001',\n    brand: 'ConnectHome',\n    variant: 'Mini'\n  },\n  {\n    id: 'mystery-snack-pack',\n    name: 'Mystery Snack Pack',\n    description: 'A surprise assortment of delicious and unique snacks from around the world. What will you get?',\n    price: 10.00,\n    imageUrl: 'https://placehold.co/300x300/98FB98/000000?text=Mystery+Snack',\n    category: 'Food',\n    sku: 'FD-SNACK-001',\n    brand: 'GlobalBites',\n    variant: 'Assorted'\n  },\n  {\n    id: 'stainless-steel-tumbler',\n    name: 'Stainless Steel Tumbler',\n    description: 'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',\n    price: 22.99,\n    imageUrl: 'https://placehold.co/300x300/ADFF2F/000000?text=Steel+Tumbler',\n    category: 'Home Goods',\n    sku: 'HG-TUMBLER-001',\n    brand: 'HydratePro',\n    variant: '20oz'\n  },\n  {\n    id: 'rechargeable-hand-warmer',\n    name: 'Rechargeable Hand Warmer',\n    description: 'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',\n    price: 28.00,\n    imageUrl: 'https://placehold.co/300x300/7CFC00/000000?text=Hand+Warmer',\n    category: 'Outdoor',\n    sku: 'OUT-HWARM-001',\n    brand: 'WarmHands',\n    variant: 'USB'\n  },\n  {\n    id: 'super-soft-throw-blanket',\n    name: 'Super Soft Throw Blanket',\n    description: 'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',\n    price: 35.00,\n    imageUrl: 'https://placehold.co/300x300/00FF7F/000000?text=Throw+Blanket',\n    category: 'Home Goods',\n    sku: 'HG-BLANKET-001',\n    brand: 'CozyHome',\n    variant: 'Fleece'\n  },\n  {\n    id: 'labubu-golden-edition-figure',\n    name: 'Labubu Golden Edition Figure',\n    description: 'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',\n    price: 49.99,\n    imageUrl: 'https://placehold.co/300x300/32CD32/000000?text=Labubu+Golden',\n    category: 'Collectible',\n    sku: 'COL-LABU-GOLD',\n    brand: 'Popmart',\n    variant: 'Golden'\n  },\n  {\n    id: 'wireless-earbuds-gen2',\n    name: 'Wireless Earbuds Gen2',\n    description: 'Second generation wireless earbuds with enhanced sound quality and longer battery life.',\n    price: 89.99,\n    imageUrl: 'https://placehold.co/300x300/228B22/000000?text=Earbuds+Gen2',\n    category: 'Electronics',\n    sku: 'EL-EARBUDS-002',\n    brand: 'AudioPro',\n    variant: 'Black'\n  },\n  {\n    id: 'led-desk-lamp-pro',\n    name: 'LED Desk Lamp Pro',\n    description: 'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',\n    price: 49.00,\n    imageUrl: 'https://placehold.co/300x300/008000/000000?text=Desk+Lamp+Pro',\n    category: 'Home Office',\n    sku: 'HO-LAMP-001',\n    brand: 'BrightDesk',\n    variant: 'Pro'\n  },\n  {\n    id: 'ergonomic-office-chair',\n    name: 'Ergonomic Office Chair',\n    description: 'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',\n    price: 199.00,\n    imageUrl: 'https://placehold.co/300x300/006400/000000?text=Office+Chair',\n    category: 'Home Office',\n    sku: 'HO-OCHAIR-001',\n    brand: 'ErgoSit',\n    variant: 'Mesh'\n  },\n  {\n    id: 'bluetooth-speaker-splash',\n    name: 'Bluetooth Speaker Splash',\n    description: 'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',\n    price: 65.00,\n    imageUrl: 'https://placehold.co/300x300/2E8B57/000000?text=Bluetooth+Speaker',\n    category: 'Electronics',\n    sku: 'EL-SPEAKER-001',\n    brand: 'SoundWave',\n    variant: 'Waterproof'\n  },\n  {\n    id: 'crystal-growing-kit',\n    name: 'Crystal Growing Kit',\n    description: 'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',\n    price: 20.00,\n    imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Crystal+Kit',\n    category: 'Toys & Hobbies',\n    sku: 'TH-CRYSTAL-001',\n    brand: 'ScienceFun',\n    variant: 'Large'\n  },\n  {\n    id: 'build-your-own-robot-kit',\n    name: 'Build-Your-Own Robot Kit',\n    description: 'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',\n    price: 75.00,\n    imageUrl: 'https://placehold.co/300x300/66CDAA/000000?text=Robot+Kit',\n    category: 'Toys & Hobbies',\n    sku: 'TH-ROBOT-001',\n    brand: 'RoboKids',\n    variant: 'Beginner'\n  },\n  {\n    id: 'color-changing-mug',\n    name: 'Color-Changing Mug',\n    description: 'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',\n    price: 14.00,\n    imageUrl: 'https://placehold.co/300x300/8FBC8F/000000?text=Color+Mug',\n    category: 'Home Goods',\n    sku: 'HG-MUG-001',\n    brand: 'MagicMugs',\n    variant: 'Heat Reveal'\n  },\n  {\n    id: 'fashion-face-mask-3-pack',\n    name: 'Fashion Face Mask (3-pack)',\n    description: 'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',\n    price: 18.00,\n    imageUrl: 'https://placehold.co/300x300/90EE90/000000?text=Face+Masks',\n    category: 'Apparel',\n    sku: 'APP-MASK-001',\n    brand: 'StyleWear',\n    variant: 'Assorted'\n  },\n  {\n    id: 'mini-projector-hd',\n    name: 'Mini Projector HD',\n    description: 'Compact and portable HD projector for movies, presentations, or gaming on the go.',\n    price: 120.00,\n    imageUrl: 'https://placehold.co/300x300/9ACD32/000000?text=Mini+Projector',\n    category: 'Electronics',\n    sku: 'EL-PROJECTOR-001',\n    brand: 'ViewMax',\n    variant: 'HD'\n  },\n  {\n    id: 'doggo-deluxe-bed',\n    name: 'Doggo Deluxe Bed',\n    description: 'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',\n    price: 55.00,\n    imageUrl: 'https://placehold.co/300x300/6B8E23/000000?text=Dog+Bed',\n    category: 'Pet Supplies',\n    sku: 'PET-DBED-001',\n    brand: 'ComfyPaws',\n    variant: 'Large'\n  },\n  {\n    id: 'cat-castle-tower',\n    name: 'Cat Castle Tower',\n    description: 'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',\n    price: 85.00,\n    imageUrl: 'https://placehold.co/300x300/808000/000000?text=Cat+Tower',\n    category: 'Pet Supplies',\n    sku: 'PET-CTOWER-001',\n    brand: 'KittyKingdom',\n    variant: 'Multi-level'\n  },\n  {\n    id: 'all-season-yoga-mat',\n    name: 'All-Season Yoga Mat',\n    description: 'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',\n    price: 29.99,\n    imageUrl: 'https://placehold.co/300x300/BDB76B/000000?text=Yoga+Mat',\n    category: 'Sports & Fitness',\n    sku: 'SF-YOGA-001',\n    brand: 'ZenFit',\n    variant: 'Standard'\n  },\n  {\n    id: 'travel-packing-cubes',\n    name: 'Travel Packing Cubes',\n    description: 'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',\n    price: 24.99,\n    imageUrl: 'https://placehold.co/300x300/DAA520/000000?text=Packing+Cubes',\n    category: 'Travel',\n    sku: 'TRVL-PCUBE-001',\n    brand: 'PackSmart',\n    variant: 'Set of 3'\n  },\n  {\n    id: 'smart-plant-sensor',\n    name: 'Smart Plant Sensor',\n    description: 'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',\n    price: 39.99,\n    imageUrl: 'https://placehold.co/300x300/FFD700/000000?text=Plant+Sensor',\n    category: 'Smart Home',\n    sku: 'SMART-PLANT-001',\n    brand: 'GreenThumb',\n    variant: 'Basic'\n  },\n  {\n    id: 'pop-culture-puzzle-set',\n    name: 'Pop Culture Puzzle Set',\n    description: 'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',\n    price: 22.00,\n    imageUrl: 'https://placehold.co/300x300/FFA500/000000?text=Pop+Puzzle',\n    category: 'Games',\n    sku: 'GM-PUZZLE-001',\n    brand: 'NerdPuzzles',\n    variant: '1000pc'\n  },\n  {\n    id: 'classic-denim-jacket',\n    name: 'Classic Denim Jacket',\n    description: 'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',\n    price: 69.00,\n    imageUrl: 'https://placehold.co/300x300/FF8C00/000000?text=Denim+Jacket',\n    category: 'Apparel',\n    sku: 'APP-DENIM-001',\n    brand: 'FashionCo',\n    variant: 'Blue'\n  },\n  {\n    id: 'pocket-blender-pro',\n    name: 'Pocket Blender Pro',\n    description: 'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',\n    price: 39.99,\n    imageUrl: 'https://placehold.co/300x300/FF4500/000000?text=Pocket+Blender',\n    category: 'Kitchen',\n    sku: 'KCH-PBLEND-001',\n    brand: 'BlendGo',\n    variant: 'Pro'\n  },\n  {\n    id: 'microfiber-cleaning-slippers',\n    name: 'Microfiber Cleaning Slippers',\n    description: 'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',\n    price: 15.00,\n    imageUrl: 'https://placehold.co/300x300/FF6347/000000?text=Cleaning+Slippers',\n    category: 'Home Goods',\n    sku: 'HG-SLIPPER-001',\n    brand: 'CleanFeet',\n    variant: 'Grey'\n  },\n  {\n    id: 'personal-blender-bottle',\n    name: 'Personal Blender Bottle',\n    description: 'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/CD5C5C/000000?text=Blender+Bottle',\n    category: 'Kitchen',\n    sku: 'KCH-BOTTLE-001',\n    brand: 'ShakeIt',\n    variant: '24oz'\n  },\n  {\n    id: 'wireless-charging-pad',\n    name: 'Wireless Charging Pad',\n    description: 'Fast and efficient wireless charging pad for compatible smartphones and devices.',\n    price: 29.00,\n    imageUrl: 'https://placehold.co/300x300/DC143C/000000?text=Charging+Pad',\n    category: 'Electronics',\n    sku: 'EL-CHARGE-001',\n    brand: 'PowerUp',\n    variant: 'Fast'\n  },\n  {\n    id: 'kitchen-chef-knife-set',\n    name: 'Kitchen Chef Set',\n    description: 'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',\n    price: 89.99,\n    imageUrl: 'https://placehold.co/300x300/B22222/000000?text=Knife+Set',\n    category: 'Kitchen',\n    sku: 'KCH-KNIFE-001',\n    brand: 'ChefPro',\n    variant: '5-piece'\n  },\n  {\n    id: 'instant-cold-brew-maker',\n    name: 'Instant Cold Brew Maker',\n    description: 'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',\n    price: 34.99,\n    imageUrl: 'https://placehold.co/300x300/8B0000/000000?text=Cold+Brew+Maker',\n    category: 'Kitchen',\n    sku: 'KCH-COLDBREW-001',\n    brand: 'BrewQuick',\n    variant: 'Standard'\n  },\n  {\n    id: 'uv-sanitizing-box',\n    name: 'UV Sanitizing Box',\n    description: 'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',\n    price: 49.99,\n    imageUrl: 'https://placehold.co/300x300/A52A2A/000000?text=UV+Sanitizer',\n    category: 'Health & Personal Care',\n    sku: 'HPC-UVSAN-001',\n    brand: 'CleanTech',\n    variant: 'Compact'\n  },\n  {\n    id: 'portable-fire-pit',\n    name: 'Portable Fire Pit',\n    description: 'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',\n    price: 79.00,\n    imageUrl: 'https://placehold.co/300x300/D2B48C/000000?text=Fire+Pit',\n    category: 'Outdoor',\n    sku: 'OUT-FIREPIT-001',\n    brand: 'CampFire',\n    variant: 'Portable'\n  },\n  {\n    id: 'commuter-insulated-backpack',\n    name: 'Commuter Insulated Backpack',\n    description: 'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',\n    price: 59.00,\n    imageUrl: 'https://placehold.co/300x300/F4A460/000000?text=Insulated+Backpack',\n    category: 'Travel',\n    sku: 'TRVL-BPACK-001',\n    brand: 'GoPack',\n    variant: 'Insulated'\n  },\n  {\n    id: 'labubu-vampire-bunny-plush',\n    name: 'Labubu Vampire Bunny Plush',\n    description: 'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',\n    price: 28.00,\n    imageUrl: 'https://placehold.co/300x300/FF7F50/000000?text=Labubu+Vampire',\n    category: 'Collectible',\n    sku: 'COL-LABU-VAMP',\n    brand: 'Popmart',\n    variant: 'Vampire'\n  },\n  {\n    id: 'labubu-sweet-dream-figure',\n    name: 'Labubu Sweet Dream Figure',\n    description: 'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',\n    price: 17.50,\n    imageUrl: 'https://placehold.co/300x300/FF69B4/000000?text=Labubu+Sweet+Dream',\n    category: 'Collectible',\n    sku: 'COL-LABU-SD',\n    brand: 'Popmart',\n    variant: 'Sweet Dream'\n  },\n  {\n    id: 'labubu-trick-or-treat-series',\n    name: 'Labubu Trick-or-Treat Series',\n    description: 'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',\n    price: 16.99,\n    imageUrl: 'https://placehold.co/300x300/FF1493/000000?text=Labubu+Trick',\n    category: 'Collectible',\n    sku: 'COL-LABU-TOT',\n    brand: 'Popmart',\n    variant: 'Halloween'\n  },\n  {\n    id: 'marvel-collector-keychain',\n    name: 'Marvel Collector Keychain',\n    description: 'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',\n    price: 7.99,\n    imageUrl: 'https://placehold.co/300x300/C71585/000000?text=Marvel+Keychain',\n    category: 'Collectible',\n    sku: 'COL-MARVEL-KC',\n    brand: 'Marvel',\n    variant: 'Assorted'\n  },\n  {\n    id: 'holiday-advent-calendar',\n    name: 'Holiday Advent Calendar',\n    description: 'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/DB7093/000000?text=Advent+Calendar',\n    category: 'Holiday',\n    sku: 'HOL-ADVENT-001',\n    brand: 'FestiveFun',\n    variant: 'Standard'\n  }\n];\n\n// Define a subset of products for the \"Featured Products\" section on the Home Page\nconst featuredProducts = products.filter(product =>\n  product.name.toLowerCase().includes('labubu') || product.category === 'Collectible'\n);\n\n\n// --- Components ---\n\nconst Header = ({ navigate, cartItemCount }) => {\n  return (\n    <header className=\"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\">\n      <div className=\"container mx-auto flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold font-inter cursor-pointer\" onClick={() => navigate('home')}>Brandazon</h1>\n        <nav className=\"flex items-center space-x-6\">\n          <button\n            onClick={() => navigate('home')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Home\n          </button>\n          <button\n            onClick={() => navigate('products')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Products\n          </button>\n          <button\n            onClick={() => navigate('simulatedSearch')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Simulate Ad\n          </button>\n          <button\n            onClick={() => navigate('cart')}\n            className=\"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Cart ({cartItemCount})\n            {cartItemCount > 0 && (\n              <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\">\n                {cartItemCount}\n              </span>\n            )}\n          </button>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nconst PartnershipBanner = () => {\n  // Removed Promotion Viewed event from useEffect, now only triggered by click\n  const handleShopNowClick = () => {\n    // Promotion Clicked event\n    if (window.analytics) {\n      window.analytics.track('Promotion Clicked', {\n        promotion_id: 'labubu_popmart_banner_top',\n        creative: 'labubu_x_popmart_banner',\n        name: 'Labubu x Popmart Exclusive Partnership',\n        position: 'home_banner_top'\n      });\n    }\n    // In a real app, this would navigate to a specific Labubu category page or product list\n  };\n\n  return (\n    <div className=\"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\">\n      <div className=\"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\">\n        <img\n          src=\"https://placehold.co/150x150/FFFFFF/FF69B4?text=Labubu+x+Popmart\"\n          alt=\"Labubu x Popmart Partnership\"\n          className=\"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\"\n          onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/150x150/CCCCCC/000000?text=Partnership`; }}\n        />\n        <div>\n          <h2 className=\"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\">\n            <span className=\"block\">Brandazon x Labubu</span>\n            <span className=\"block text-2xl md:text-3xl font-semibold mt-1\">Exclusive Partnership with Popmart!</span>\n          </h2>\n          <p className=\"text-lg md:text-xl font-medium opacity-90\">\n            Discover the latest Labubu drops and limited editions, only here.\n          </p>\n          <button\n            onClick={handleShopNowClick}\n            className=\"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\"\n          >\n            Shop Labubu Now!\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nconst ProductCard = ({ product, navigate, position }) => {\n  const { cart, setCart } = useContext(CartContext);\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id', // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n\n  const handleViewDetails = () => {\n    // Product Clicked event\n    if (window.analytics) {\n      window.analytics.track('Product Clicked', formatProductForSegment(product, 1, position));\n    }\n    // Product Viewed event - Triggered by button click, not just component mount\n    if (window.analytics) {\n      window.analytics.track('Product Viewed', {\n        product_id: product.id,\n        sku: product.sku,\n        category: product.category,\n        name: product.name,\n        brand: product.brand,\n        variant: product.variant,\n        price: product.price,\n        quantity: 1,\n        currency: 'USD',\n        value: product.price,\n        url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`,\n        image_url: product.imageUrl,\n      });\n    }\n    navigate('productDetail', product.id);\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\">\n      <img\n        src={product.imageUrl}\n        alt={product.name}\n        className=\"w-full h-48 object-cover rounded-t-xl\"\n        onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/300x300/CCCCCC/000000?text=Image+Not+Found`; }}\n      />\n      <div className=\"p-5 flex-grow flex flex-col justify-between\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">{product.name}</h3>\n          <p className=\"text-gray-600 text-sm mb-3 line-clamp-3\">{product.description}</p>\n          <p className=\"text-2xl font-bold text-purple-700 mb-4\">${product.price.toFixed(2)}</p>\n        </div>\n        <div className=\"flex flex-col space-y-3\">\n          <button\n            onClick={handleViewDetails}\n            className=\"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            View Details\n          </button>\n          <button\n            onClick={handleAddToCart}\n            className=\"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst HomePage = ({ navigate }) => {\n  // Removed Product List Viewed event from useEffect\n  return (\n    <div className=\"container mx-auto p-6\">\n      <PartnershipBanner />\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Featured Labubu & Popmart Collectibles</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {featuredProducts.map((product, index) => (\n          <ProductCard key={product.id} product={product} navigate={navigate} position={index + 1} />\n        ))}\n      </div>\n      <div className=\"text-center mt-12\">\n        <button\n          onClick={() => navigate('products')}\n          className=\"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n        >\n          View All Products\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst ProductsPage = ({ navigate }) => {\n  // Removed Product List Viewed event from useEffect\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">All Products</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {products.map((product, index) => (\n          <ProductCard key={product.id} product={product} navigate={navigate} position={index + 1} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ProductDetailPage = ({ productId, navigate }) => {\n  const [utmParams, setUtmParams] = useState(null); // Keep this state for UTMs\n  const { cart, setCart } = useContext(CartContext);\n\n  const product = products.find(p => p.id === productId);\n\n  useEffect(() => {\n    // Campaign Attribution Recorded (if UTMs are present) - Now triggered by the ProductDetailPage loading\n    // and checking for UTMs, which is a page-specific attribution, not a general \"track\" event on mount.\n    // This is a special case where the \"track\" event is directly related to the URL state.\n    if (window.analytics && product) {\n      const hashParts = window.location.hash.split('?');\n      const queryString = hashParts.length > 1 ? hashParts[1] : '';\n      const params = new URLSearchParams(queryString);\n\n      const parsedUtm = {};\n      for (let [key, value] of params.entries()) {\n        if (key.startsWith('utm_') || key.startsWith('gad_') || key.startsWith('gclid') || key.startsWith('gbraid')) {\n          parsedUtm[key] = value;\n        }\n      }\n\n      if (Object.keys(parsedUtm).length > 0) {\n        setUtmParams(parsedUtm); // Update state with parsed UTMs\n        window.analytics.track('Campaign Attribution Recorded', {\n          product_id: product.id,\n          product_name: product.name,\n          ...parsedUtm\n        });\n      } else {\n        setUtmParams(null); // Clear if no UTMs are present\n      }\n    }\n  }, [productId, product]); // Depend on productId and product only for this effect\n\n  if (!product) {\n    return (\n      <div className=\"container mx-auto p-6 text-center text-red-500\">\n        <h2 className=\"text-3xl font-bold mb-4\">Product Not Found</h2>\n        <button onClick={() => navigate('home')} className=\"mt-4 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\">\n          Back to Home\n        </button>\n      </div>\n    );\n  }\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id', // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start gap-8\">\n        <img\n          src={product.imageUrl}\n          alt={product.name}\n          className=\"w-full md:w-1/2 lg:w-1/3 h-auto object-cover rounded-lg shadow-md\"\n          onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/400x400/CCCCCC/000000?text=Image+Not+Found`; }}\n        />\n        <div className=\"flex-grow\">\n          <h2 className=\"text-4xl font-extrabold text-gray-900 mb-4\">{product.name}</h2>\n          <p className=\"text-gray-700 text-lg mb-6\">{product.description}</p>\n          <p className=\"text-4xl font-bold text-purple-700 mb-6\">${product.price.toFixed(2)}</p>\n          <button\n            onClick={handleAddToCart}\n            className=\"bg-purple-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Add to Cart\n          </button>\n          <button\n            onClick={() => navigate('home')}\n            className=\"ml-4 bg-gray-300 text-gray-800 py-3 px-8 rounded-lg text-xl font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Back to Home\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CartPage = ({ navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n\n  // Removed Cart Viewed event from useEffect\n  // It's generally better to track Cart Viewed as part of a page() call or\n  // only when the user explicitly interacts with the cart (e.g., clicks a \"View Cart\" button)\n\n  const updateQuantity = (id, delta) => {\n    const item = cart.find(i => i.id === id);\n    if (!item) return;\n\n    const newQuantity = item.quantity + delta;\n    if (newQuantity <= 0) {\n      // Product Removed event\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(item, item.quantity)] // Track original quantity being removed\n        });\n      }\n      setCart(cart.filter(i => i.id !== id));\n    } else {\n      setCart(cart.map(i =>\n        i.id === id ? { ...i, quantity: newQuantity } : i\n      ));\n      if (delta > 0) {\n        // Product Added event (for quantity increase)\n        if (window.analytics) {\n          window.analytics.track('Product Added', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(item, 1)] // Track 1 unit added\n          });\n        }\n      } else {\n        // Product Removed event (for quantity decrease)\n        if (window.analytics) {\n          window.analytics.track('Product Removed', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(item, 1)] // Track 1 unit removed\n          });\n        }\n      }\n    }\n  };\n\n  const removeItem = (id) => {\n    const itemToRemove = cart.find(item => item.id === id);\n    if (itemToRemove) {\n      // Product Removed event (for full item removal)\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(itemToRemove, itemToRemove.quantity)]\n        });\n      }\n      setCart(cart.filter(item => item.id !== id));\n    }\n  };\n\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  const handleCheckout = () => {\n    // Checkout Started event\n    if (window.analytics) {\n      window.analytics.track('Checkout Started', {\n        order_id: `ORDER-${Date.now()}-${Math.floor(Math.random() * 1000)}`, // Generate a unique order_id\n        affiliation: 'Brandazon Online Store',\n        value: totalAmount,\n        revenue: totalAmount, // Assuming no separate discounts/taxes for simplicity here\n        shipping: 0, // Placeholder\n        tax: 0,      // Placeholder\n        discount: 0, // Placeholder\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n    navigate('checkout');\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Your Shopping Cart</h2>\n      {cart.length === 0 ? (\n        <div className=\"text-center text-gray-600 text-xl\">\n          Your cart is empty. <button onClick={() => navigate('home')} className=\"text-blue-600 hover:underline\">Start shopping!</button>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <div className=\"space-y-6\">\n            {cart.map(item => (\n              <div key={item.id} className=\"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\">\n                <div className=\"flex items-center space-x-4\">\n                  <img\n                    src={item.imageUrl}\n                    alt={item.name}\n                    className=\"w-20 h-20 object-cover rounded-lg shadow-sm\"\n                    onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/80x80/CCCCCC/000000?text=Img`; }}\n                  />\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-gray-800\">{item.name}</h3>\n                    <p className=\"text-gray-600\">${item.price.toFixed(2)}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"flex items-center border border-gray-300 rounded-md\">\n                    <button\n                      onClick={() => updateQuantity(item.id, -1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-md\"\n                    >\n                      -\n                    </button>\n                    <span className=\"px-3 py-1 border-x border-gray-300\">{item.quantity}</span>\n                    <button\n                      onClick={() => updateQuantity(item.id, 1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-md\"\n                    >\n                      +\n                    </button>\n                  </div>\n                  <p className=\"text-xl font-bold text-purple-700 w-24 text-right\">${(item.price * item.quantity).toFixed(2)}</p>\n                  <button\n                    onClick={() => removeItem(item.id)}\n                    className=\"text-red-500 hover:text-red-700 transition duration-300\"\n                    title=\"Remove item\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"flex justify-end items-center mt-8 pt-6 border-t border-gray-200\">\n            <p className=\"text-2xl font-bold text-gray-900 mr-4\">Total:</p>\n            <p className=\"text-3xl font-extrabold text-purple-800\">${totalAmount.toFixed(2)}</p>\n          </div>\n          <div className=\"flex justify-end mt-6 space-x-4\">\n            <button\n              onClick={() => navigate('home')}\n              className=\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n            >\n              Continue Shopping\n            </button>\n            <button\n              onClick={handleCheckout}\n              disabled={cart.length === 0}\n              className={`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length === 0 ? 'bg-gray-400 text-gray-600 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}`}\n            >\n              Proceed to Checkout\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst CheckoutPage = ({ navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n  const [orderPlaced, setOrderPlaced] = useState(false);\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  useEffect(() => {\n    // Placeholder for user ID - In a real app, this would come from an auth system\n    const userId = 'user_12345';\n    const userTraits = {\n      email: 'user@example.com',\n      name: 'John Doe',\n    };\n\n    // Identify call on checkout page load (or when user logs in/is identified)\n    if (window.analytics) {\n      window.analytics.identify(userId, userTraits);\n    }\n\n    // Removed Checkout Step Viewed event from useEffect\n  }, []); // Only on mount\n\n  const handlePlaceOrder = () => {\n    const orderId = `ORDER-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n    const revenue = totalAmount;\n    const shipping = 0;\n    const tax = 0;\n    const discount = 0;\n    const coupon = 'N/A';\n\n    // Payment Info Entered event (simulated before Order Completed)\n    if (window.analytics) {\n      window.analytics.track('Payment Info Entered', {\n        checkout_id: 'brandazon_checkout_id',\n        order_id: orderId,\n        payment_method: 'Credit Card' // Placeholder\n      });\n    }\n\n    // Order Completed event\n    if (window.analytics) {\n      window.analytics.track('Order Completed', {\n        checkout_id: 'brandazon_checkout_id',\n        order_id: orderId,\n        affiliation: 'Brandazon Online Store',\n        total: totalAmount + shipping + tax - discount,\n        subtotal: totalAmount,\n        revenue: revenue,\n        shipping: shipping,\n        tax: tax,\n        discount: discount,\n        coupon: coupon,\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n\n    setOrderPlaced(true);\n    setCart([]); // Clear cart after purchase\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Checkout</h2>\n      <div className=\"bg-white rounded-xl shadow-lg p-8\">\n        {orderPlaced ? (\n          <div className=\"text-center text-green-700 text-2xl font-semibold\">\n            <p className=\"mb-4\">🎉 Your order has been placed successfully!</p>\n            <p>Thank you for shopping with Brandazon!</p>\n            <button\n              onClick={() => navigate('home')}\n              className=\"mt-8 bg-purple-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n            >\n              Continue Shopping\n            </button>\n          </div>\n        ) : (\n          <>\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Order Summary</h3>\n              {cart.length === 0 ? (\n                <p className=\"text-gray-600\">Your cart is empty. Please add items before checking out.</p>\n              ) : (\n                <ul className=\"space-y-3\">\n                  {cart.map(item => (\n                    <li key={item.id} className=\"flex justify-between text-gray-700 text-lg\">\n                      <span>{item.name} (x{item.quantity})</span>\n                      <span>${(item.price * item.quantity).toFixed(2)}</span>\n                    </li>\n                  ))}\n                </ul>\n              )}\n              <div className=\"flex justify-between items-center mt-6 pt-4 border-t border-gray-200\">\n                <p className=\"text-2xl font-bold text-gray-900 mr-4\">Total:</p>\n                <p className=\"text-3xl font-extrabold text-purple-800\">${totalAmount.toFixed(2)}</p>\n              </div>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Shipping Information</h3>\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"fullName\" className=\"block text-gray-700 text-sm font-bold mb-2\">Full Name</label>\n                  <input type=\"text\" id=\"fullName\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"John Doe\" required />\n                </div>\n                <div>\n                  <label htmlFor=\"address\" className=\"block text-gray-700 text-sm font-bold mb-2\">Address</label>\n                  <input type=\"text\" id=\"address\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"123 Main St\" required />\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"city\" className=\"block text-gray-700 text-sm font-bold mb-2\">City</label>\n                    <input type=\"text\" id=\"city\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"Anytown\" required />\n                  </div>\n                  <div>\n                    <label htmlFor=\"zip\" className=\"block text-gray-700 text-sm font-bold mb-2\">Zip Code</label>\n                    <input type=\"text\" id=\"zip\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"12345\" required />\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Payment Information</h3>\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"cardNumber\" className=\"block text-gray-700 text-sm font-bold mb-2\">Card Number</label>\n                  <input type=\"text\" id=\"cardNumber\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"**** **** **** ****\" required />\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"expiryDate\" className=\"block text-gray-700 text-sm font-bold mb-2\">Expiry Date (MM/YY)</label>\n                    <input type=\"text\" id=\"expiryDate\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"12/25\" required />\n                  </div>\n                  <div>\n                    <label htmlFor=\"cvv\" className=\"block text-gray-700 text-sm font-bold mb-2\">CVV</label>\n                    <input type=\"text\" id=\"cvv\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"123\" required />\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div className=\"flex justify-end space-x-4\">\n              <button\n                onClick={() => navigate('cart')}\n                className=\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n              >\n                Back to Cart\n              </button>\n              <button\n                onClick={handlePlaceOrder}\n                disabled={cart.length === 0}\n                className={`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length === 0 ? 'bg-gray-400 text-gray-600 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}`}\n            >\n              Place Order\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  </div>\n);\n};\n\nconst SimulatedSearchEnginePage = ({ products }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    // Page view for Simulated Search Engine (this is a page, not a track event on mount)\n    if (window.analytics) {\n      window.analytics.page('Marketing', 'Simulated Search Engine Page', {\n        path: window.location.pathname + window.location.hash,\n        url: window.location.href\n      });\n    }\n  }, []);\n\n  const handleAdClick = () => {\n    const lowerCaseSearchTerm = searchTerm.toLowerCase();\n    let targetProductId = 'labubu-blind-box-series-8'; // Default Labubu product\n\n    const matchedProduct = products.find(p =>\n      p.name.toLowerCase().includes(lowerCaseSearchTerm) ||\n      p.description.toLowerCase().includes(lowerCaseSearchTerm) ||\n      p.category.toLowerCase().includes(lowerCaseSearchTerm)\n    );\n\n    if (matchedProduct) {\n      targetProductId = matchedProduct.id;\n    }\n\n    // Products Searched event (triggered by click)\n    if (window.analytics) {\n      window.analytics.track('Products Searched', {\n        query: searchTerm.trim()\n      });\n    }\n\n    // Construct the query parameters string\n    const queryParams = new URLSearchParams();\n    queryParams.append('utm_source', 'google');\n    queryParams.append('utm_medium', 'cpc');\n    queryParams.append('utm_campaign', 'labubu_launch_q3');\n    queryParams.append('utm_content', 'search_ad_banner');\n    queryParams.append('utm_term', searchTerm.trim() || 'default_search_term');\n    queryParams.append('gad_source', '1');\n    queryParams.append('gad_campaignid', '22690431292');\n    queryParams.append('gbraid', '0AAAAApZoGaVNZnuRe968aNy6x-Z4Y9TI6');\n    queryParams.append('gclid', 'CjwKCAjw1ozEBhAdEiwAn9qbzT99fJagIv7foNLlQnHysh63ZqtvIRL_hVhVDsUw_948_5Hs1WQu-BoCZCYQAvD_BwE'); // Example GCLID\n\n    const baseUrl = window.location.origin + window.location.pathname;\n    const constructedUrl = `${baseUrl}#/product/${targetProductId}?${queryParams.toString()}`;\n\n    window.location.href = constructedUrl;\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 flex flex-col items-center justify-center min-h-[60vh]\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl text-center\">\n        <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8\">Simulate a Search Engine Ad</h2>\n        <p className=\"text-gray-700 text-lg mb-6\">\n          Type a search query below and click \"Simulate Ad Click\" to see how UTM parameters would be passed to Brandazon.\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-8\">\n          <input\n            type=\"text\"\n            className=\"flex-grow shadow appearance-none border rounded-lg py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., Labubu, Earbuds, Monopoly\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            onKeyPress={(e) => { if (e.key === 'Enter') handleAdClick(); }}\n          />\n          <button\n            onClick={handleAdClick}\n            className=\"bg-blue-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Simulate Ad Click\n          </button>\n        </div>\n        <p className=\"text-gray-500 text-sm\">\n          (This will change the URL in your browser's address bar and navigate to the product page.)\n        </p>\n      </div>\n    </div>\n  );\n};\n\n\n// --- Main App Component ---\nconst App = () => {\n  // We'll manage routing based on window.location.hash directly\n  const [currentPage, setCurrentPage] = useState('home');\n  const [selectedProductId, setSelectedProductId] = useState(null);\n  const [cart, setCart] = useState([]);\n\n  // Effect to handle initial page load and hash changes for routing and Segment page calls\n  useEffect(() => {\n    const handleNavigationAndTracking = () => {\n      const hash = window.location.hash;\n      let pageName = '';\n      let pageCategory = '';\n      let currentProductId = null; // To store product ID if on product detail page\n\n      if (hash.startsWith('#/product/')) {\n        const productIdFromHash = hash.split('?')[0].replace('#/product/', '');\n        setCurrentPage('productDetail');\n        currentProductId = productIdFromHash;\n        setSelectedProductId(productIdFromHash);\n        pageName = 'Product Detail Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/products') {\n        setCurrentPage('products');\n        setSelectedProductId(null);\n        pageName = 'All Products Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/simulatedSearch') {\n        setCurrentPage('simulatedSearch');\n        setSelectedProductId(null);\n        pageName = 'Simulated Search Engine Page';\n        pageCategory = 'Marketing';\n      } else if (hash === '#/cart') {\n        setCurrentPage('cart');\n        setSelectedProductId(null);\n        pageName = 'Cart Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/checkout') {\n        setCurrentPage('checkout');\n        setSelectedProductId(null);\n        pageName = 'Checkout Page';\n        pageCategory = 'E-commerce';\n      }\n      else {\n        setCurrentPage('home');\n        setSelectedProductId(null);\n        pageName = 'Home Page';\n        pageCategory = 'E-commerce';\n      }\n\n      // Segment Page call for every route change, including initial load after refresh\n      if (window.analytics) {\n        window.analytics.page(pageCategory, pageName, {\n          path: window.location.pathname + window.location.hash,\n          url: window.location.href,\n          // Add product_id to page properties if on product detail page\n          ...(currentProductId && { product_id: currentProductId })\n        });\n      }\n    };\n\n    // Set initial page and trigger Segment page call on component mount (after refresh)\n    handleNavigationAndTracking();\n\n    // Listen for hash changes for subsequent in-app navigation\n    window.addEventListener('hashchange', handleNavigationAndTracking);\n\n    // Cleanup listener\n    return () => {\n      window.removeEventListener('hashchange', handleNavigationAndTracking);\n    };\n  }, []); // Run once on mount\n\n  // Placeholder for initial user identification (e.g., on first load or after login)\n  useEffect(() => {\n    const anonymousId = localStorage.getItem('anonymousId');\n    if (!anonymousId) {\n      const newAnonymousId = `anon-${Date.now()}-${Math.floor(Math.random() * 100000)}`;\n      localStorage.setItem('anonymousId', newAnonymousId);\n      if (window.analytics) {\n        window.analytics.identify(newAnonymousId);\n      }\n    } else {\n      if (window.analytics) {\n        window.analytics.identify(anonymousId);\n      }\n    }\n\n    if (window.analytics) {\n      window.analytics.track('Application Loaded');\n    }\n\n  }, []);\n\n\n  // Internal navigation function (for internal app links)\n  const navigate = (page, productId = null) => {\n    let newHash = '';\n    switch (page) {\n      case 'home':\n        newHash = ''; // Empty hash for home\n        break;\n      case 'products':\n        newHash = '#/products';\n        break;\n      case 'simulatedSearch':\n        newHash = '#/simulatedSearch';\n        break;\n      case 'productDetail':\n        newHash = `#/product/${productId}`;\n        break;\n      case 'cart':\n        newHash = '#/cart';\n        break;\n      case 'checkout':\n        newHash = '#/checkout';\n        break;\n      default:\n        newHash = '';\n    }\n    window.location.hash = newHash; // Update hash, which will trigger handleNavigationAndTracking\n  };\n\n  const cartItemCount = cart.reduce((count, item) => count + item.quantity, 0);\n\n  return (\n    // Provide the cart context to all child components\n    <CartContext.Provider value={{ cart, setCart }}>\n      <div className=\"min-h-screen bg-gray-100 font-inter antialiased\">\n        <style>\n          {`\n            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n          `}\n        </style>\n        <Header navigate={navigate} cartItemCount={cartItemCount} />\n        <main className=\"py-8\">\n          {(() => {\n            switch (currentPage) {\n              case 'home':\n                return <HomePage navigate={navigate} />;\n              case 'products':\n                return <ProductsPage navigate={navigate} />;\n              case 'simulatedSearch':\n                return <SimulatedSearchEnginePage products={products} />; // Pass products to SimulatedSearchEnginePage\n              case 'productDetail':\n                // ProductDetailPage now reads its own productId and UTMs from the URL\n                return <ProductDetailPage productId={selectedProductId} navigate={navigate} />;\n              case 'cart':\n                return <CartPage navigate={navigate} />;\n              case 'checkout':\n                return <CheckoutPage navigate={navigate} />;\n              default:\n                return <HomePage navigate={navigate} />;\n            }\n          })()}\n        </main>\n      </div>\n    </CartContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}