{"ast":null,"code":"var _jsxFileName = \"/Users/brandoncaudillo/Development/code/data_science/brandazon-ecommerce/src/app.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useEffect, createContext, useContext } from 'react';\n\n// --- Global Context for Cart Management ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\n\n// --- Helper to generate a consistent color based on a string (e.g., category) ---\nconst stringToColor = str => {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (let i = 0; i < 3; i++) {\n    const value = hash >> i * 8 & 0xFF;\n    color += ('00' + value.toString(16)).substr(-2);\n  }\n  return color;\n};\n\n// --- Helper to generate a unique base64 SVG placeholder image for each product ---\nconst generateProductPlaceholderImage = (productName, category) => {\n  const bgColor = stringToColor(category || 'default'); // Use category for color\n  const textColor = '#FFFFFF'; // White text for better contrast\n\n  // Create a simple SVG string\n  const svgString = `\n    <svg width=\"300\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect width=\"300\" height=\"300\" fill=\"${bgColor}\"/>\n      <text x=\"50%\" y=\"40%\" font-family=\"Arial, sans-serif\" font-size=\"20\" fill=\"${textColor}\" text-anchor=\"middle\" dominant-baseline=\"middle\" font-weight=\"bold\">\n        ${productName.length > 20 ? productName.substring(0, 17) + '...' : productName}\n      </text>\n      <text x=\"50%\" y=\"60%\" font-family=\"Arial, sans-serif\" font-size=\"16\" fill=\"${textColor}\" text-anchor=\"middle\" dominant-baseline=\"middle\">\n        (${category || 'Misc'})\n      </text>\n    </svg>\n  `;\n  return 'data:image/svg+xml;base64,' + btoa(svgString);\n};\n\n// --- Helper to format product data for Segment events ---\nconst formatProductForSegment = (product, quantity = 1, position = null) => {\n  return {\n    product_id: product.id,\n    sku: product.sku,\n    category: product.category,\n    name: product.name,\n    brand: product.brand,\n    variant: product.variant,\n    price: product.price,\n    quantity: quantity,\n    // coupon: product.coupon, // Add if coupons are implemented per product\n    position: position,\n    url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`,\n    // Dynamic URL\n    image_url: product.imageUrl\n  };\n};\n\n// --- Expanded Product Data ---\nconst products = [{\n  id: 'monopoly-3rd-edition',\n  name: 'Monopoly: 3rd Edition',\n  description: 'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',\n  price: 29.99,\n  category: 'Games',\n  sku: 'GM-MONO-001',\n  brand: 'Hasbro',\n  variant: 'Standard'\n}, {\n  id: 'uno-card-game',\n  name: 'Uno Card Game',\n  description: 'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',\n  price: 9.99,\n  category: 'Games',\n  sku: 'GM-UNO-001',\n  brand: 'Mattel',\n  variant: 'Standard'\n}, {\n  id: 'special-facial-soap',\n  name: 'Special Facial Soap',\n  description: 'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',\n  price: 12.50,\n  category: 'Beauty',\n  sku: 'BT-SOAP-001',\n  brand: 'PureSkin',\n  variant: 'Unscented'\n}, {\n  id: 'fancy-hairbrush',\n  name: 'Fancy Hairbrush',\n  description: 'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',\n  price: 18.00,\n  category: 'Beauty',\n  sku: 'BT-HBRUSH-001',\n  brand: 'GlamLocks',\n  variant: 'Large'\n}, {\n  id: 'labubu-blind-box-series-8',\n  name: 'Labubu Blind Box Series 8',\n  description: 'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',\n  price: 16.99,\n  category: 'Collectible',\n  sku: 'COL-LABU-S8',\n  brand: 'Popmart',\n  variant: 'Blind Box'\n}, {\n  id: 'labubu-ghost-hunter-plush',\n  name: 'Labubu Ghost Hunter Plush',\n  description: 'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',\n  price: 25.00,\n  category: 'Collectible',\n  sku: 'COL-LABU-GH',\n  brand: 'Popmart',\n  variant: 'Plush'\n}, {\n  id: 'labubu-plush-keychain',\n  name: 'Labubu Plush Keychain',\n  description: 'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',\n  price: 9.50,\n  category: 'Collectible',\n  sku: 'COL-LABU-KC',\n  brand: 'Popmart',\n  variant: 'Keychain'\n}, {\n  id: 'electric-pour-over-kettle',\n  name: 'Electric Pour-over Kettle',\n  description: 'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',\n  price: 59.99,\n  category: 'Kitchen',\n  sku: 'KCH-KETTLE-001',\n  brand: 'BrewMaster',\n  variant: 'Black'\n}, {\n  id: 'retro-gaming-mousepad',\n  name: 'Retro Gaming Mousepad',\n  description: 'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',\n  price: 14.99,\n  category: 'Electronics',\n  sku: 'EL-MPAD-001',\n  brand: 'GameGear',\n  variant: 'Large'\n}, {\n  id: 'airpods-pro-3rd-gen',\n  name: 'AirPods Pro 3rd Gen',\n  description: 'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',\n  price: 249.00,\n  category: 'Electronics',\n  sku: 'EL-AIRPODS-003',\n  brand: 'Apple',\n  variant: 'Pro'\n}, {\n  id: 'nintendo-switch-lite',\n  name: 'Nintendo Switch Lite',\n  description: 'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',\n  price: 199.99,\n  category: 'Electronics',\n  sku: 'GM-SWITCHL-001',\n  brand: 'Nintendo',\n  variant: 'Yellow'\n}, {\n  id: 'collectible-ceramic-mug',\n  name: 'Collectible Ceramic Mug',\n  description: 'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',\n  price: 11.99,\n  category: 'Collectible',\n  sku: 'COL-MUG-001',\n  brand: 'ArtisanCraft',\n  variant: 'Standard'\n}, {\n  id: 'summer-splash-towel',\n  name: 'Summer Splash Towel',\n  description: 'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',\n  price: 19.99,\n  category: 'Home Goods',\n  sku: 'HG-TOWEL-001',\n  brand: 'AquaDry',\n  variant: 'Beach'\n}, {\n  id: 'holiday-cookie-tin',\n  name: 'Holiday Cookie Tin',\n  description: 'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',\n  price: 15.00,\n  category: 'Food',\n  sku: 'FD-COOKIE-001',\n  brand: 'SweetTreats',\n  variant: 'Assorted'\n}, {\n  id: 'wireless-pet-tracker',\n  name: 'Wireless Pet Tracker',\n  description: 'Keep track of your furry friend with this compact and reliable wireless pet tracker.',\n  price: 45.00,\n  category: 'Pet Supplies',\n  sku: 'PET-TRACK-001',\n  brand: 'PetSafe',\n  variant: 'GPS'\n}, {\n  id: 'smart-home-hub-mini',\n  name: 'Smart Home Hub Mini',\n  description: 'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',\n  price: 79.99,\n  category: 'Smart Home',\n  sku: 'SMART-HUB-001',\n  brand: 'ConnectHome',\n  variant: 'Mini'\n}, {\n  id: 'mystery-snack-pack',\n  name: 'Mystery Snack Pack',\n  description: 'A surprise assortment of delicious and unique snacks from around the world. What will you get?',\n  price: 10.00,\n  category: 'Food',\n  sku: 'FD-SNACK-001',\n  brand: 'GlobalBites',\n  variant: 'Assorted'\n}, {\n  id: 'stainless-steel-tumbler',\n  name: 'Stainless Steel Tumbler',\n  description: 'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',\n  price: 22.99,\n  category: 'Home Goods',\n  sku: 'HG-TUMBLER-001',\n  brand: 'HydratePro',\n  variant: '20oz'\n}, {\n  id: 'rechargeable-hand-warmer',\n  name: 'Rechargeable Hand Warmer',\n  description: 'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',\n  price: 28.00,\n  category: 'Outdoor',\n  sku: 'OUT-HWARM-001',\n  brand: 'WarmHands',\n  variant: 'USB'\n}, {\n  id: 'super-soft-throw-blanket',\n  name: 'Super Soft Throw Blanket',\n  description: 'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',\n  price: 35.00,\n  category: 'Home Goods',\n  sku: 'HG-BLANKET-001',\n  brand: 'CozyHome',\n  variant: 'Fleece'\n}, {\n  id: 'labubu-golden-edition-figure',\n  name: 'Labubu Golden Edition Figure',\n  description: 'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',\n  price: 49.99,\n  category: 'Collectible',\n  sku: 'COL-LABU-GOLD',\n  brand: 'Popmart',\n  variant: 'Golden'\n}, {\n  id: 'wireless-earbuds-gen2',\n  name: 'Wireless Earbuds Gen2',\n  description: 'Second generation wireless earbuds with enhanced sound quality and longer battery life.',\n  price: 89.99,\n  category: 'Electronics',\n  sku: 'EL-EARBUDS-002',\n  brand: 'AudioPro',\n  variant: 'Black'\n}, {\n  id: 'led-desk-lamp-pro',\n  name: 'LED Desk Lamp Pro',\n  description: 'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',\n  price: 49.00,\n  category: 'Home Office',\n  sku: 'HO-LAMP-001',\n  brand: 'BrightDesk',\n  variant: 'Pro'\n}, {\n  id: 'ergonomic-office-chair',\n  name: 'Ergonomic Office Chair',\n  description: 'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',\n  price: 199.00,\n  category: 'Home Office',\n  sku: 'HO-OCHAIR-001',\n  brand: 'ErgoSit',\n  variant: 'Mesh'\n}, {\n  id: 'bluetooth-speaker-splash',\n  name: 'Bluetooth Speaker Splash',\n  description: 'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',\n  price: 65.00,\n  category: 'Electronics',\n  sku: 'EL-SPEAKER-001',\n  brand: 'SoundWave',\n  variant: 'Waterproof'\n}, {\n  id: 'crystal-growing-kit',\n  name: 'Crystal Growing Kit',\n  description: 'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',\n  price: 20.00,\n  category: 'Toys & Hobbies',\n  sku: 'TH-CRYSTAL-001',\n  brand: 'ScienceFun',\n  variant: 'Large'\n}, {\n  id: 'build-your-own-robot-kit',\n  name: 'Build-Your-Own Robot Kit',\n  description: 'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',\n  price: 75.00,\n  category: 'Toys & Hobbies',\n  sku: 'TH-ROBOT-001',\n  brand: 'RoboKids',\n  variant: 'Beginner'\n}, {\n  id: 'color-changing-mug',\n  name: 'Color-Changing Mug',\n  description: 'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',\n  price: 14.00,\n  category: 'Home Goods',\n  sku: 'HG-MUG-001',\n  brand: 'MagicMugs',\n  variant: 'Heat Reveal'\n}, {\n  id: 'fashion-face-mask-3-pack',\n  name: 'Fashion Face Mask (3-pack)',\n  description: 'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',\n  price: 18.00,\n  category: 'Apparel',\n  sku: 'APP-MASK-001',\n  brand: 'StyleWear',\n  variant: 'Assorted'\n}, {\n  id: 'mini-projector-hd',\n  name: 'Mini Projector HD',\n  description: 'Compact and portable HD projector for movies, presentations, or gaming on the go.',\n  price: 120.00,\n  category: 'Electronics',\n  sku: 'EL-PROJECTOR-001',\n  brand: 'ViewMax',\n  variant: 'HD'\n}, {\n  id: 'doggo-deluxe-bed',\n  name: 'Doggo Deluxe Bed',\n  description: 'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',\n  price: 55.00,\n  category: 'Pet Supplies',\n  sku: 'PET-DBED-001',\n  brand: 'ComfyPaws',\n  variant: 'Large'\n}, {\n  id: 'cat-castle-tower',\n  name: 'Cat Castle Tower',\n  description: 'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',\n  price: 85.00,\n  category: 'Pet Supplies',\n  sku: 'PET-CTOWER-001',\n  brand: 'KittyKingdom',\n  variant: 'Multi-level'\n}, {\n  id: 'all-season-yoga-mat',\n  name: 'All-Season Yoga Mat',\n  description: 'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',\n  price: 29.99,\n  category: 'Sports & Fitness',\n  sku: 'SF-YOGA-001',\n  brand: 'ZenFit',\n  variant: 'Standard'\n}, {\n  id: 'travel-packing-cubes',\n  name: 'Travel Packing Cubes',\n  description: 'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',\n  price: 24.99,\n  category: 'Travel',\n  sku: 'TRVL-PCUBE-001',\n  brand: 'PackSmart',\n  variant: 'Set of 3'\n}, {\n  id: 'smart-plant-sensor',\n  name: 'Smart Plant Sensor',\n  description: 'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',\n  price: 39.99,\n  category: 'Smart Home',\n  sku: 'SMART-PLANT-001',\n  brand: 'GreenThumb',\n  variant: 'Basic'\n}, {\n  id: 'pop-culture-puzzle-set',\n  name: 'Pop Culture Puzzle Set',\n  description: 'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',\n  price: 22.00,\n  category: 'Games',\n  sku: 'GM-PUZZLE-001',\n  brand: 'NerdPuzzles',\n  variant: '1000pc'\n}, {\n  id: 'classic-denim-jacket',\n  name: 'Classic Denim Jacket',\n  description: 'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',\n  price: 69.00,\n  category: 'Apparel',\n  sku: 'APP-DENIM-001',\n  brand: 'FashionCo',\n  variant: 'Blue'\n}, {\n  id: 'pocket-blender-pro',\n  name: 'Pocket Blender Pro',\n  description: 'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',\n  price: 39.99,\n  category: 'Kitchen',\n  sku: 'KCH-PBLEND-001',\n  brand: 'BlendGo',\n  variant: 'Pro'\n}, {\n  id: 'microfiber-cleaning-slippers',\n  name: 'Microfiber Cleaning Slippers',\n  description: 'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',\n  price: 15.00,\n  category: 'Home Goods',\n  sku: 'HG-SLIPPER-001',\n  brand: 'CleanFeet',\n  variant: 'Grey'\n}, {\n  id: 'personal-blender-bottle',\n  name: 'Personal Blender Bottle',\n  description: 'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',\n  price: 25.00,\n  category: 'Kitchen',\n  sku: 'KCH-BOTTLE-001',\n  brand: 'ShakeIt',\n  variant: '24oz'\n}, {\n  id: 'wireless-charging-pad',\n  name: 'Wireless Charging Pad',\n  description: 'Fast and efficient wireless charging pad for compatible smartphones and devices.',\n  price: 29.00,\n  category: 'Electronics',\n  sku: 'EL-CHARGE-001',\n  brand: 'PowerUp',\n  variant: 'Fast'\n}, {\n  id: 'kitchen-chef-knife-set',\n  name: 'Kitchen Chef Set',\n  description: 'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',\n  price: 89.99,\n  category: 'Kitchen',\n  sku: 'KCH-KNIFE-001',\n  brand: 'ChefPro',\n  variant: '5-piece'\n}, {\n  id: 'instant-cold-brew-maker',\n  name: 'Instant Cold Brew Maker',\n  description: 'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',\n  price: 34.99,\n  category: 'Kitchen',\n  sku: 'KCH-COLDBREW-001',\n  brand: 'BrewQuick',\n  variant: 'Standard'\n}, {\n  id: 'uv-sanitizing-box',\n  name: 'UV Sanitizing Box',\n  description: 'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',\n  price: 49.99,\n  category: 'Health & Personal Care',\n  sku: 'HPC-UVSAN-001',\n  brand: 'CleanTech',\n  variant: 'Compact'\n}, {\n  id: 'portable-fire-pit',\n  name: 'Portable Fire Pit',\n  description: 'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',\n  price: 79.00,\n  category: 'Outdoor',\n  sku: 'OUT-FIREPIT-001',\n  brand: 'CampFire',\n  variant: 'Portable'\n}, {\n  id: 'commuter-insulated-backpack',\n  name: 'Commuter Insulated Backpack',\n  description: 'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',\n  price: 59.00,\n  category: 'Travel',\n  sku: 'TRVL-BPACK-001',\n  brand: 'GoPack',\n  variant: 'Insulated'\n}, {\n  id: 'labubu-vampire-bunny-plush',\n  name: 'Labubu Vampire Bunny Plush',\n  description: 'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',\n  price: 28.00,\n  category: 'Collectible',\n  sku: 'COL-LABU-VAMP',\n  brand: 'Popmart',\n  variant: 'Vampire'\n}, {\n  id: 'labubu-sweet-dream-figure',\n  name: 'Labubu Sweet Dream Figure',\n  description: 'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',\n  price: 17.50,\n  category: 'Collectible',\n  sku: 'COL-LABU-SD',\n  brand: 'Popmart',\n  variant: 'Sweet Dream'\n}, {\n  id: 'labubu-trick-or-treat-series',\n  name: 'Labubu Trick-or-Treat Series',\n  description: 'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',\n  price: 16.99,\n  category: 'Collectible',\n  sku: 'COL-LABU-TOT',\n  brand: 'Popmart',\n  variant: 'Halloween'\n}, {\n  id: 'marvel-collector-keychain',\n  name: 'Marvel Collector Keychain',\n  description: 'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',\n  price: 7.99,\n  category: 'Collectible',\n  sku: 'COL-MARVEL-KC',\n  brand: 'Marvel',\n  variant: 'Assorted'\n}, {\n  id: 'holiday-advent-calendar',\n  name: 'Holiday Advent Calendar',\n  description: 'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',\n  price: 25.00,\n  category: 'Holiday',\n  sku: 'HOL-ADVENT-001',\n  brand: 'FestiveFun',\n  variant: 'Standard'\n}];\n\n// Map product data to include generated image URLs\nconst productsWithImages = products.map(product => ({\n  ...product,\n  imageUrl: generateProductPlaceholderImage(product.name, product.category)\n}));\n\n// Define a subset of products for the \"Featured Products\" section on the Home Page\nconst featuredProducts = productsWithImages.filter(product => product.name.toLowerCase().includes('labubu') || product.category === 'Collectible');\n\n// --- Components ---\n\nconst Header = ({\n  navigate,\n  cartItemCount\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold font-inter cursor-pointer\",\n        onClick: () => navigate('simulatedSearch'),\n        children: \"Brandazon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex items-center space-x-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('home'),\n          className: \"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('products'),\n          className: \"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('simulatedSearch'),\n          className: \"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: \"Simulate Ad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('cart'),\n          className: \"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",\n          children: [\"Cart (\", cartItemCount, \")\", cartItemCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\",\n            children: cartItemCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 589,\n    columnNumber: 5\n  }, this);\n};\n_c = Header;\nconst PartnershipBanner = () => {\n  // Removed Promotion Viewed event from useEffect, now only triggered by click\n  const handleShopNowClick = () => {\n    // Promotion Clicked event\n    if (window.analytics) {\n      window.analytics.track('Promotion Clicked', {\n        promotion_id: 'labubu_popmart_banner_top',\n        creative: 'labubu_x_popmart_banner',\n        name: 'Labubu x Popmart Exclusive Partnership',\n        position: 'home_banner_top'\n      });\n    }\n    // In a real app, this would navigate to a specific Labubu category page or product list\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: generateProductPlaceholderImage(\"Labubu x Popmart\", \"Partnership\") // Dynamic placeholder for banner\n        ,\n        alt: \"Labubu x Popmart Partnership\",\n        className: \"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\",\n        onError: e => {\n          e.target.onerror = null;\n          e.target.src = generateProductPlaceholderImage(\"Partnership\", \"Partnership\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block\",\n            children: \"Brandazon x Labubu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block text-2xl md:text-3xl font-semibold mt-1\",\n            children: \"Exclusive Partnership with Popmart!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg md:text-xl font-medium opacity-90\",\n          children: \"Discover the latest Labubu drops and limited editions, only here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleShopNowClick,\n          className: \"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\",\n          children: \"Shop Labubu Now!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 645,\n    columnNumber: 5\n  }, this);\n};\n_c2 = PartnershipBanner;\nconst ProductCard = ({\n  product,\n  navigate,\n  position\n}) => {\n  _s();\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item => item.id === product.id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item));\n    } else {\n      setCart([...cart, {\n        ...product,\n        quantity: 1\n      }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id',\n        // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n  const handleViewDetails = () => {\n    // Product Clicked event\n    if (window.analytics) {\n      window.analytics.track('Product Clicked', formatProductForSegment(product, 1, position));\n    }\n    // Product Viewed event - Triggered by button click, not just component mount\n    if (window.analytics) {\n      window.analytics.track('Product Viewed', {\n        product_id: product.id,\n        sku: product.sku,\n        category: product.category,\n        name: product.name,\n        brand: product.brand,\n        variant: product.variant,\n        price: product.price,\n        quantity: 1,\n        currency: 'USD',\n        value: product.price,\n        url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`,\n        image_url: product.imageUrl\n      });\n    }\n    navigate('productDetail', product.id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.imageUrl,\n      alt: product.name,\n      className: \"w-full h-48 object-cover rounded-t-xl\",\n      onError: e => {\n        e.target.onerror = null;\n        e.target.src = generateProductPlaceholderImage(product.name, product.category);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 flex-grow flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-800 mb-2\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-sm mb-3 line-clamp-3\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-purple-700 mb-4\",\n          children: [\"$\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleViewDetails,\n          className: \"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n          children: \"View Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddToCart,\n          className: \"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 721,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCard, \"rJ2/z8YtMAl5XvszCoK8oWF5i9w=\");\n_c3 = ProductCard;\nconst HomePage = ({\n  navigate\n}) => {\n  // Removed Product List Viewed event from useEffect\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(PartnershipBanner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-4xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: \"Featured Labubu & Popmart Collectibles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 758,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n      children: featuredProducts.map((product, index) => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product,\n        navigate: navigate,\n        position: index + 1\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 759,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-12\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('products'),\n        className: \"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",\n        children: \"View All Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 756,\n    columnNumber: 5\n  }, this);\n};\n_c4 = HomePage;\nconst ProductsPage = ({\n  navigate\n}) => {\n  // Removed Product List Viewed event from useEffect\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-4xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: \"All Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n      children: productsWithImages.map((product, index) =>\n      /*#__PURE__*/\n      // Use productsWithImages here\n      _jsxDEV(ProductCard, {\n        product: product,\n        navigate: navigate,\n        position: index + 1\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 783,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 779,\n    columnNumber: 5\n  }, this);\n};\n_c5 = ProductsPage;\nconst ProductDetailPage = ({\n  productId,\n  navigate\n}) => {\n  _s2();\n  const [utmParams, setUtmParams] = useState(null); // Keep this state for UTMs\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  const product = productsWithImages.find(p => p.id === productId); // Use productsWithImages here\n\n  // Function to get related products\n  const getRelatedProducts = (currentProductId, currentProductCategory) => {\n    const related = productsWithImages.filter(p => p.id !== currentProductId && p.category === currentProductCategory);\n\n    // Shuffle and take up to 4 related products\n    const shuffledRelated = related.sort(() => 0.5 - Math.random());\n    let selectedRelated = shuffledRelated.slice(0, 4);\n\n    // If not enough related products, fill with random ones from the whole list\n    if (selectedRelated.length < 4) {\n      const allOtherProducts = productsWithImages.filter(p => p.id !== currentProductId && !selectedRelated.some(rp => rp.id === p.id));\n      const shuffledOthers = allOtherProducts.sort(() => 0.5 - Math.random());\n      selectedRelated = [...selectedRelated, ...shuffledOthers].slice(0, 4);\n    }\n    return selectedRelated;\n  };\n  const relatedProducts = product ? getRelatedProducts(product.id, product.category) : [];\n  useEffect(() => {\n    // Campaign Attribution Recorded (if UTMs are present) - Now triggered by the ProductDetailPage loading\n    // and checking for UTMs, which is a page-specific attribution, not a general \"track\" event on mount.\n    // This is a special case where the \"track\" event is directly related to the URL state.\n    if (window.analytics && product) {\n      // Now parse UTMs from window.location.search (before the hash)\n      const queryString = window.location.search;\n      const params = new URLSearchParams(queryString);\n      const parsedUtm = {};\n      for (let [key, value] of params.entries()) {\n        if (key.startsWith('utm_') || key.startsWith('gad_') || key.startsWith('gclid') || key.startsWith('gbraid')) {\n          parsedUtm[key] = value;\n        }\n      }\n      if (Object.keys(parsedUtm).length > 0) {\n        setUtmParams(parsedUtm); // Update state with parsed UTMs\n        window.analytics.track('Campaign Attribution Recorded', {\n          product_id: product.id,\n          product_name: product.name,\n          ...parsedUtm\n        });\n      } else {\n        setUtmParams(null); // Clear if no UTMs are present\n      }\n    }\n  }, [productId, product]); // Depend on productId and product only for this effect\n\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-6 text-center text-red-600 text-xl font-semibold\",\n      children: [\"Product not found!\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('products'),\n        className: \"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out\",\n        children: \"Back to Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 849,\n      columnNumber: 7\n    }, this);\n  }\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item => item.id === product.id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item));\n    } else {\n      setCart([...cart, {\n        ...product,\n        quantity: 1\n      }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id',\n        // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)]\n      });\n    }\n  };\n  const handleRemoveFromCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem && existingItem.quantity > 1) {\n      setCart(cart.map(item => item.id === product.id ? {\n        ...item,\n        quantity: item.quantity - 1\n      } : item));\n    } else {\n      setCart(cart.filter(item => item.id !== product.id));\n    }\n    // Product Removed event\n    if (window.analytics) {\n      window.analytics.track('Product Removed', {\n        cart_id: 'brandazon_cart_id',\n        // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always remove 1 unit per click\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col md:flex-row items-center p-8 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:w-1/2 flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.imageUrl,\n          alt: product.name,\n          className: \"w-full max-w-md h-auto object-contain rounded-lg shadow-md\",\n          onError: e => {\n            e.target.onerror = null;\n            e.target.src = generateProductPlaceholderImage(product.name, product.category);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 900,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:w-1/2 flex flex-col justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-4xl font-extrabold text-gray-900 mb-4\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 text-lg mb-6\",\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-5xl font-bold text-purple-700 mb-6\",\n          children: [\"$\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddToCart,\n            className: \"bg-purple-600 text-white py-3 px-6 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg flex-grow\",\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRemoveFromCart,\n            className: \"bg-red-500 text-white py-3 px-6 rounded-lg text-xl font-semibold hover:bg-red-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg flex-grow\",\n            children: \"Remove from Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 913,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('products'),\n          className: \"mt-4 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-300 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",\n          children: \"\\u2190 Back to All Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 928,\n          columnNumber: 11\n        }, this), utmParams && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-blue-800 mb-2\",\n            children: \"Campaign Attribution Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 937,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside text-blue-700\",\n            children: Object.entries(utmParams).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [key.replace('utm_', '').replace('_', ' '), \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 940,\n                columnNumber: 33\n              }, this), \" \", value]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 938,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-600 mt-2\",\n            children: \"This information was captured from the URL query parameters.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 943,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 936,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 7\n    }, this), relatedProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-3xl font-bold text-gray-900 mb-6 text-center\",\n        children: \"Related Products You Might Like\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 953,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n        children: relatedProducts.map(relatedProduct => /*#__PURE__*/_jsxDEV(ProductCard, {\n          product: relatedProduct,\n          navigate: navigate\n        }, relatedProduct.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 954,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 952,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 898,\n    columnNumber: 5\n  }, this);\n};\n_s2(ProductDetailPage, \"V6+NEYE27bh9oA0TemTbVqv9R2c=\");\n_c6 = ProductDetailPage;\nconst CartPage = ({\n  navigate\n}) => {\n  _s3();\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n\n  // Calculate total price\n  const totalPrice = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const handleUpdateQuantity = (productId, delta) => {\n    const existingItem = cart.find(item => item.id === productId);\n    if (!existingItem) return;\n    const newQuantity = existingItem.quantity + delta;\n    if (newQuantity <= 0) {\n      // Remove item if quantity goes to 0 or less\n      setCart(cart.filter(item => item.id !== productId));\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(existingItem, 1)]\n        });\n      }\n    } else {\n      setCart(cart.map(item => item.id === productId ? {\n        ...item,\n        quantity: newQuantity\n      } : item));\n      // Product Added/Removed for quantity changes\n      if (window.analytics) {\n        if (delta > 0) {\n          window.analytics.track('Product Added', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(existingItem, delta)]\n          });\n        } else {\n          window.analytics.track('Product Removed', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(existingItem, Math.abs(delta))]\n          });\n        }\n      }\n    }\n  };\n  const handleRemoveItem = productId => {\n    const itemToRemove = cart.find(item => item.id === productId);\n    if (itemToRemove) {\n      setCart(cart.filter(item => item.id !== productId));\n      // Product Removed event for full removal\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(itemToRemove, itemToRemove.quantity)]\n        });\n      }\n    }\n  };\n  const handleCheckout = () => {\n    // Order Completed event\n    if (window.analytics) {\n      window.analytics.track('Order Completed', {\n        order_id: `order_${Date.now()}`,\n        // Unique order ID\n        affiliation: 'Brandazon',\n        total: totalPrice,\n        revenue: totalPrice,\n        shipping: 0,\n        // Assuming free shipping for simplicity\n        tax: 0,\n        // Assuming no tax for simplicity\n        discount: 0,\n        // Assuming no discount for simplicity\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n    setCart([]); // Clear cart after checkout\n    setShowConfirmation(true); // Show confirmation message\n  };\n  const handleCloseConfirmation = () => {\n    setShowConfirmation(false);\n    navigate('home'); // Go back to home after confirmation\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-4xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: \"Your Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1048,\n      columnNumber: 7\n    }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg p-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-xl mb-4\",\n        children: \"Your cart is empty.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('products'),\n        className: \"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out\",\n        children: \"Start Shopping\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1053,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1051,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6 mb-8\",\n        children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.imageUrl,\n              alt: item.name,\n              className: \"w-24 h-24 object-cover rounded-md shadow-sm\",\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = generateProductPlaceholderImage(item.name, item.category);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-800\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1073,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: [\"$\", item.price.toFixed(2), \" each\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1072,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center border border-gray-300 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleUpdateQuantity(item.id, -1),\n                className: \"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-lg\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1079,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 border-x border-gray-300 text-gray-800\",\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1085,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleUpdateQuantity(item.id, 1),\n                className: \"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-lg\",\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1086,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-purple-700 w-24 text-right\",\n              children: [\"$\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRemoveItem(item.id),\n              className: \"text-red-500 hover:text-red-700 transition duration-300\",\n              \"aria-label\": `Remove ${item.name}`,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1100,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1099,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1094,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1062,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end items-center mt-8 pt-4 border-t-2 border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold text-gray-900 mr-4\",\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-extrabold text-purple-800\",\n          children: [\"$\", totalPrice.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCheckout,\n        className: \"w-full mt-8 bg-green-600 text-white py-4 px-6 rounded-lg text-2xl font-semibold hover:bg-green-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",\n        children: \"Proceed to Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1061,\n      columnNumber: 9\n    }, this), showConfirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-xl shadow-2xl text-center max-w-sm mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-3xl font-bold text-green-700 mb-4\",\n          children: \"Order Confirmed!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 text-lg mb-6\",\n          children: \"Thank you for your purchase. Your order has been placed successfully.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCloseConfirmation,\n          className: \"bg-blue-600 text-white py-2 px-5 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300\",\n          children: \"Continue Shopping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1124,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1123,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1047,\n    columnNumber: 5\n  }, this);\n};\n_s3(CartPage, \"V1gXGk9ioOgcThE8oWyK2elSzdk=\");\n_c7 = CartPage;\nconst SimulatedSearchEnginePage = ({\n  navigate\n}) => {\n  _s4();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  // Static UTM parameters as per user request\n  const utmSource = 'moogle';\n  const utmMedium = 'organic';\n  const utmCampaign = 'default_search';\n  const handleSearch = () => {\n    let productToDisplay = null;\n\n    // Try to find a product that matches the search term\n    const matchedProducts = productsWithImages.filter(p => p.name.toLowerCase().includes(searchTerm.toLowerCase()) || p.description.toLowerCase().includes(searchTerm.toLowerCase()) || p.category.toLowerCase().includes(searchTerm.toLowerCase()));\n    if (matchedProducts.length > 0) {\n      // Pick a random product from the matched list\n      const randomIndex = Math.floor(Math.random() * matchedProducts.length);\n      productToDisplay = matchedProducts[randomIndex];\n    } else {\n      // If no match, pick a random product from the entire list\n      const randomIndex = Math.floor(Math.random() * productsWithImages.length);\n      productToDisplay = productsWithImages[randomIndex];\n    }\n\n    // Construct the query string with static UTM parameters\n    const queryParams = new URLSearchParams();\n    queryParams.append('utm_source', utmSource);\n    queryParams.append('utm_medium', utmMedium);\n    queryParams.append('utm_campaign', utmCampaign);\n\n    // --- For DISPLAY PURPOSES ONLY in Moogle search results ---\n    const simulatedBrandazonDomain = 'https://www.brandazon.com';\n    const simulatedProductUrlForDisplay = `${simulatedBrandazonDomain}/product/${productToDisplay.id}?${queryParams.toString()}`;\n    setSearchResults([{\n      ...productToDisplay,\n      simulatedUrl: simulatedProductUrlForDisplay // This is the URL displayed in the search result\n    }]);\n\n    // Search Results Viewed event\n    if (window.analytics) {\n      window.analytics.track('Search Results Viewed', {\n        query: searchTerm,\n        // Still log the actual search term for analytics\n        results: [{\n          product_id: productToDisplay.id,\n          product_name: productToDisplay.name\n        }],\n        utm_source: utmSource,\n        utm_medium: utmMedium,\n        utm_campaign: utmCampaign\n      });\n    }\n  };\n  const handleAdClick = product => {\n    // Product Clicked event (simulating ad click)\n    if (window.analytics) {\n      window.analytics.track('Product Clicked', {\n        ...formatProductForSegment(product),\n        // Use existing formatter\n        list: 'Simulated Search Results',\n        position: searchResults.findIndex(p => p.id === product.id) + 1,\n        utm_source: utmSource,\n        utm_medium: utmMedium,\n        utm_campaign: utmCampaign\n      });\n    }\n    // Navigate to the product detail page, which will then read the new URL\n    // The navigate function will now handle constructing the full URL and pushing state.\n    navigate('productDetail', product.id, {\n      fromMoogle: true\n    }); // Pass the flag\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-6 min-h-[calc(100vh-120px)] flex flex-col justify-center items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-5xl font-extrabold text-gray-900 mb-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-blue-600\",\n        children: \"M\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-500\",\n        children: \"o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-yellow-500\",\n        children: \"o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-blue-600\",\n        children: \"g\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-green-600\",\n        children: \"l\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-500\",\n        children: \"e\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 9\n      }, this), \" Search\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg p-6 mb-8 w-full max-w-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search Moogle (e.g., Labubu, Hairbrush, Kettle)\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"flex-grow p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          className: \"bg-blue-600 text-white py-3 px-6 rounded-full font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-md\",\n          children: \"Moogle Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 border border-gray-200 rounded-lg bg-gray-50 text-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold\",\n          children: \"Simulated Ad Parameters (Internal):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc list-inside text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"UTM Source:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 17\n            }, this), \" \", utmSource]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"UTM Medium:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1243,\n              columnNumber: 17\n            }, this), \" \", utmMedium]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"UTM Campaign:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1244,\n              columnNumber: 17\n            }, this), \" \", utmCampaign]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm mt-2\",\n          children: \"Type a search term to find a matching product, or get a random one if no match. Click the ad to visit the product page with these UTMs in the URL.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1223,\n      columnNumber: 7\n    }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 w-full max-w-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-gray-800 mb-4\",\n        children: \"Simulated Moogle Ad Result (Click to visit page with UTMs)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: searchResults.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-4 border border-blue-200 hover:shadow-xl transition duration-300 cursor-pointer\",\n          onClick: () => handleAdClick(product),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.imageUrl,\n              alt: product.name,\n              className: \"w-20 h-20 object-cover rounded-md\",\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = generateProductPlaceholderImage(product.name, product.category);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-blue-700 hover:underline\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1271,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-green-700 mt-1\",\n                children: product.simulatedUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1272,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 text-sm\",\n                children: product.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1270,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1263,\n            columnNumber: 17\n          }, this)\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1258,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1256,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1254,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1214,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s4(SimulatedSearchEnginePage, \"brRzk7tj+pGuNPv2srA2r/nQjm0=\");\n_c8 = SimulatedSearchEnginePage;\nfunction App() {\n  _s5();\n  // Set initial page to 'simulatedSearch'\n  const [currentPage, setCurrentPage] = useState('simulatedSearch');\n  const [currentProductId, setCurrentProductId] = useState(null);\n  const [cart, setCart] = useState([]);\n\n  // Function to handle navigation and Segment page calls\n  const navigate = (page, productId = null, options = {}) => {\n    setCurrentPage(page);\n    setCurrentProductId(productId);\n    let path = '';\n    let properties = {};\n    // Start with a clean base URL for constructing the new URL\n    const newUrl = new URL(window.location.origin + window.location.pathname);\n\n    // Add UTMs if navigating to product detail from Moogle\n    if (page === 'productDetail' && options.fromMoogle) {\n      newUrl.searchParams.append('utm_source', 'moogle');\n      newUrl.searchParams.append('utm_medium', 'organic');\n      newUrl.searchParams.append('utm_campaign', 'default_search');\n      newUrl.searchParams.append('from_moogle', 'true'); // Flag for Segment page call\n    }\n    switch (page) {\n      case 'home':\n        path = '/';\n        properties = {\n          name: 'Home Page'\n        };\n        break;\n      case 'products':\n        path = '/products';\n        properties = {\n          name: 'All Products Page'\n        };\n        break;\n      case 'productDetail':\n        path = `/product/${productId}`;\n        const product = productsWithImages.find(p => p.id === productId);\n        properties = {\n          name: 'Product Detail Page',\n          productId: productId,\n          productName: product === null || product === void 0 ? void 0 : product.name\n        };\n        break;\n      case 'cart':\n        path = '/cart';\n        properties = {\n          name: 'Shopping Cart Page'\n        };\n        break;\n      case 'simulatedSearch':\n        path = '/simulated-search';\n        properties = {\n          name: 'Simulated Search Page'\n        };\n        break;\n      default:\n        path = '/simulated-search'; // Default to simulated search\n        properties = {\n          name: 'Simulated Search Page'\n        };\n    }\n    newUrl.hash = path;\n    // Only call pushState here, centralizing URL management\n    window.history.pushState({}, '', newUrl.toString());\n\n    // Segment Page call\n    if (window.analytics) {\n      // Special handling for ProductDetailPage when coming from Moogle\n      if (page === 'productDetail' && options.fromMoogle) {\n        window.analytics.page('Home Page Viewed', properties); // User's specific request\n      } else {\n        window.analytics.page(page, properties);\n      }\n    }\n  };\n\n  // Effect to handle initial page load and browser history (popstate)\n  useEffect(() => {\n    const handlePopState = () => {\n      const hash = window.location.hash;\n      const urlParams = new URLSearchParams(window.location.search);\n      const fromMoogle = urlParams.get('from_moogle') === 'true';\n      let pageToNavigate = 'simulatedSearch'; // Default to simulated search\n      let productIdToNavigate = null;\n      if (hash.startsWith('#/product/')) {\n        productIdToNavigate = hash.replace('#/product/', '');\n        pageToNavigate = 'productDetail';\n      } else if (hash === '#/products') {\n        pageToNavigate = 'products';\n      } else if (hash === '#/cart') {\n        pageToNavigate = 'cart';\n      } else if (hash === '#/simulated-search') {\n        pageToNavigate = 'simulatedSearch';\n      }\n      setCurrentPage(pageToNavigate);\n      setCurrentProductId(productIdToNavigate);\n\n      // Manually trigger Segment page call for initial load or browser back/forward\n      if (window.analytics) {\n        let properties = {};\n        const product = productIdToNavigate ? productsWithImages.find(p => p.id === productIdToNavigate) : null;\n        switch (pageToNavigate) {\n          case 'home':\n            properties = {\n              name: 'Home Page'\n            };\n            break;\n          case 'products':\n            properties = {\n              name: 'All Products Page'\n            };\n            break;\n          case 'productDetail':\n            properties = {\n              name: 'Product Detail Page',\n              productId: productIdToNavigate,\n              productName: product === null || product === void 0 ? void 0 : product.name\n            };\n            break;\n          case 'cart':\n            properties = {\n              name: 'Shopping Cart Page'\n            };\n            break;\n          case 'simulatedSearch':\n            properties = {\n              name: 'Simulated Search Page'\n            };\n            break;\n        }\n\n        // Special handling for ProductDetailPage when coming from Moogle via popstate\n        if (pageToNavigate === 'productDetail' && fromMoogle) {\n          window.analytics.page('Home Page Viewed', properties); // User's specific request\n        } else {\n          window.analytics.page(pageToNavigate, properties);\n        }\n\n        // Also track Product List Viewed for relevant pages on initial load/popstate\n        if (pageToNavigate === 'home') {\n          window.analytics.track('Promotion Viewed', {\n            // Promotion viewed on Home\n            promotion_id: 'labubu_popmart_banner_top',\n            creative: 'labubu_x_popmart_banner',\n            name: 'Labubu x Popmart Exclusive Partnership',\n            position: 'home_banner_top'\n          });\n          window.analytics.track('Product List Viewed', {\n            category: 'Featured Products',\n            products: featuredProducts.map((p, index) => formatProductForSegment(p, 1, index + 1))\n          });\n        } else if (pageToNavigate === 'products') {\n          window.analytics.track('Product List Viewed', {\n            category: 'All Products',\n            products: productsWithImages.map((p, index) => formatProductForSegment(p, 1, index + 1))\n          });\n        } else if (pageToNavigate === 'cart') {\n          window.analytics.track('Cart Viewed', {\n            cart_id: 'brandazon_cart_id',\n            products: cart.map(item => formatProductForSegment(item, item.quantity))\n          });\n        }\n      }\n    };\n\n    // Initial load\n    handlePopState();\n\n    // Listen for popstate events (browser back/forward buttons)\n    window.addEventListener('popstate', handlePopState);\n    return () => window.removeEventListener('popstate', handlePopState);\n  }, []); // Empty dependency array means this runs once on mount\n\n  // Render the current page\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'home':\n        return /*#__PURE__*/_jsxDEV(HomePage, {\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1447,\n          columnNumber: 16\n        }, this);\n      case 'products':\n        return /*#__PURE__*/_jsxDEV(ProductsPage, {\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1449,\n          columnNumber: 16\n        }, this);\n      case 'productDetail':\n        return /*#__PURE__*/_jsxDEV(ProductDetailPage, {\n          productId: currentProductId,\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1451,\n          columnNumber: 16\n        }, this);\n      case 'cart':\n        return /*#__PURE__*/_jsxDEV(CartPage, {\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1453,\n          columnNumber: 16\n        }, this);\n      case 'simulatedSearch':\n        return /*#__PURE__*/_jsxDEV(SimulatedSearchEnginePage, {\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1455,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(SimulatedSearchEnginePage, {\n          navigate: navigate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 16\n        }, this);\n      // Default to simulated search\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      setCart\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 font-inter antialiased\",\n      children: [/*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://cdn.tailwindcss.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1467,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n            .min-h-\\[calc\\(100vh-120px\\)\\] {\n                min-height: calc(100vh - 120px); /* Adjust for header/footer height */\n            }\n          `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1468,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        navigate: navigate,\n        cartItemCount: cart.reduce((sum, item) => sum + item.quantity, 0)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1479,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"py-8\",\n        children: renderPage()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1480,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1463,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1462,\n    columnNumber: 5\n  }, this);\n}\n_s5(App, \"hU8jhcl+fJ4U1rzLammtM8JIR7Y=\");\n_c9 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"PartnershipBanner\");\n$RefreshReg$(_c3, \"ProductCard\");\n$RefreshReg$(_c4, \"HomePage\");\n$RefreshReg$(_c5, \"ProductsPage\");\n$RefreshReg$(_c6, \"ProductDetailPage\");\n$RefreshReg$(_c7, \"CartPage\");\n$RefreshReg$(_c8, \"SimulatedSearchEnginePage\");\n$RefreshReg$(_c9, \"App\");","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","jsxDEV","_jsxDEV","CartContext","stringToColor","str","hash","i","length","charCodeAt","color","value","toString","substr","generateProductPlaceholderImage","productName","category","bgColor","textColor","svgString","substring","btoa","formatProductForSegment","product","quantity","position","product_id","id","sku","name","brand","variant","price","url","window","location","origin","pathname","image_url","imageUrl","products","description","productsWithImages","map","featuredProducts","filter","toLowerCase","includes","Header","navigate","cartItemCount","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","PartnershipBanner","handleShopNowClick","analytics","track","promotion_id","creative","src","alt","onError","e","target","onerror","_c2","ProductCard","_s","cart","setCart","handleAddToCart","existingItem","find","item","cart_id","handleViewDetails","currency","toFixed","_c3","HomePage","index","_c4","ProductsPage","_c5","ProductDetailPage","productId","_s2","utmParams","setUtmParams","p","getRelatedProducts","currentProductId","currentProductCategory","related","shuffledRelated","sort","Math","random","selectedRelated","slice","allOtherProducts","some","rp","shuffledOthers","relatedProducts","queryString","search","params","URLSearchParams","parsedUtm","key","entries","startsWith","Object","keys","product_name","handleRemoveFromCart","replace","relatedProduct","_c6","CartPage","_s3","showConfirmation","setShowConfirmation","totalPrice","reduce","sum","handleUpdateQuantity","delta","newQuantity","abs","handleRemoveItem","itemToRemove","handleCheckout","order_id","Date","now","affiliation","total","revenue","shipping","tax","discount","handleCloseConfirmation","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","_c7","SimulatedSearchEnginePage","_s4","searchTerm","setSearchTerm","searchResults","setSearchResults","utmSource","utmMedium","utmCampaign","handleSearch","productToDisplay","matchedProducts","randomIndex","floor","queryParams","append","simulatedBrandazonDomain","simulatedProductUrlForDisplay","simulatedUrl","query","results","utm_source","utm_medium","utm_campaign","handleAdClick","list","findIndex","fromMoogle","type","placeholder","onChange","_c8","App","_s5","currentPage","setCurrentPage","setCurrentProductId","page","options","path","properties","newUrl","URL","searchParams","history","pushState","handlePopState","urlParams","get","pageToNavigate","productIdToNavigate","addEventListener","removeEventListener","renderPage","Provider","href","rel","_c9","$RefreshReg$"],"sources":["/Users/brandoncaudillo/Development/code/data_science/brandazon-ecommerce/src/app.jsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\n\n// --- Global Context for Cart Management ---\nconst CartContext = createContext();\n\n// --- Helper to generate a consistent color based on a string (e.g., category) ---\nconst stringToColor = (str) => {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (let i = 0; i < 3; i++) {\n    const value = (hash >> (i * 8)) & 0xFF;\n    color += ('00' + value.toString(16)).substr(-2);\n  }\n  return color;\n};\n\n// --- Helper to generate a unique base64 SVG placeholder image for each product ---\nconst generateProductPlaceholderImage = (productName, category) => {\n  const bgColor = stringToColor(category || 'default'); // Use category for color\n  const textColor = '#FFFFFF'; // White text for better contrast\n\n  // Create a simple SVG string\n  const svgString = `\n    <svg width=\"300\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect width=\"300\" height=\"300\" fill=\"${bgColor}\"/>\n      <text x=\"50%\" y=\"40%\" font-family=\"Arial, sans-serif\" font-size=\"20\" fill=\"${textColor}\" text-anchor=\"middle\" dominant-baseline=\"middle\" font-weight=\"bold\">\n        ${productName.length > 20 ? productName.substring(0, 17) + '...' : productName}\n      </text>\n      <text x=\"50%\" y=\"60%\" font-family=\"Arial, sans-serif\" font-size=\"16\" fill=\"${textColor}\" text-anchor=\"middle\" dominant-baseline=\"middle\">\n        (${category || 'Misc'})\n      </text>\n    </svg>\n  `;\n\n  return 'data:image/svg+xml;base64,' + btoa(svgString);\n};\n\n// --- Helper to format product data for Segment events ---\nconst formatProductForSegment = (product, quantity = 1, position = null) => {\n  return {\n    product_id: product.id,\n    sku: product.sku,\n    category: product.category,\n    name: product.name,\n    brand: product.brand,\n    variant: product.variant,\n    price: product.price,\n    quantity: quantity,\n    // coupon: product.coupon, // Add if coupons are implemented per product\n    position: position,\n    url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`, // Dynamic URL\n    image_url: product.imageUrl,\n  };\n};\n\n// --- Expanded Product Data ---\nconst products = [\n  {\n    id: 'monopoly-3rd-edition',\n    name: 'Monopoly: 3rd Edition',\n    description: 'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',\n    price: 29.99,\n    category: 'Games',\n    sku: 'GM-MONO-001',\n    brand: 'Hasbro',\n    variant: 'Standard'\n  },\n  {\n    id: 'uno-card-game',\n    name: 'Uno Card Game',\n    description: 'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',\n    price: 9.99,\n    category: 'Games',\n    sku: 'GM-UNO-001',\n    brand: 'Mattel',\n    variant: 'Standard'\n  },\n  {\n    id: 'special-facial-soap',\n    name: 'Special Facial Soap',\n    description: 'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',\n    price: 12.50,\n    category: 'Beauty',\n    sku: 'BT-SOAP-001',\n    brand: 'PureSkin',\n    variant: 'Unscented'\n  },\n  {\n    id: 'fancy-hairbrush',\n    name: 'Fancy Hairbrush',\n    description: 'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',\n    price: 18.00,\n    category: 'Beauty',\n    sku: 'BT-HBRUSH-001',\n    brand: 'GlamLocks',\n    variant: 'Large'\n  },\n  {\n    id: 'labubu-blind-box-series-8',\n    name: 'Labubu Blind Box Series 8',\n    description: 'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',\n    price: 16.99,\n    category: 'Collectible',\n    sku: 'COL-LABU-S8',\n    brand: 'Popmart',\n    variant: 'Blind Box'\n  },\n  {\n    id: 'labubu-ghost-hunter-plush',\n    name: 'Labubu Ghost Hunter Plush',\n    description: 'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',\n    price: 25.00,\n    category: 'Collectible',\n    sku: 'COL-LABU-GH',\n    brand: 'Popmart',\n    variant: 'Plush'\n  },\n  {\n    id: 'labubu-plush-keychain',\n    name: 'Labubu Plush Keychain',\n    description: 'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',\n    price: 9.50,\n    category: 'Collectible',\n    sku: 'COL-LABU-KC',\n    brand: 'Popmart',\n    variant: 'Keychain'\n  },\n  {\n    id: 'electric-pour-over-kettle',\n    name: 'Electric Pour-over Kettle',\n    description: 'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',\n    price: 59.99,\n    category: 'Kitchen',\n    sku: 'KCH-KETTLE-001',\n    brand: 'BrewMaster',\n    variant: 'Black'\n  },\n  {\n    id: 'retro-gaming-mousepad',\n    name: 'Retro Gaming Mousepad',\n    description: 'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',\n    price: 14.99,\n    category: 'Electronics',\n    sku: 'EL-MPAD-001',\n    brand: 'GameGear',\n    variant: 'Large'\n  },\n  {\n    id: 'airpods-pro-3rd-gen',\n    name: 'AirPods Pro 3rd Gen',\n    description: 'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',\n    price: 249.00,\n    category: 'Electronics',\n    sku: 'EL-AIRPODS-003',\n    brand: 'Apple',\n    variant: 'Pro'\n  },\n  {\n    id: 'nintendo-switch-lite',\n    name: 'Nintendo Switch Lite',\n    description: 'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',\n    price: 199.99,\n    category: 'Electronics',\n    sku: 'GM-SWITCHL-001',\n    brand: 'Nintendo',\n    variant: 'Yellow'\n  },\n  {\n    id: 'collectible-ceramic-mug',\n    name: 'Collectible Ceramic Mug',\n    description: 'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',\n    price: 11.99,\n    category: 'Collectible',\n    sku: 'COL-MUG-001',\n    brand: 'ArtisanCraft',\n    variant: 'Standard'\n  },\n  {\n    id: 'summer-splash-towel',\n    name: 'Summer Splash Towel',\n    description: 'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',\n    price: 19.99,\n    category: 'Home Goods',\n    sku: 'HG-TOWEL-001',\n    brand: 'AquaDry',\n    variant: 'Beach'\n  },\n  {\n    id: 'holiday-cookie-tin',\n    name: 'Holiday Cookie Tin',\n    description: 'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',\n    price: 15.00,\n    category: 'Food',\n    sku: 'FD-COOKIE-001',\n    brand: 'SweetTreats',\n    variant: 'Assorted'\n  },\n  {\n    id: 'wireless-pet-tracker',\n    name: 'Wireless Pet Tracker',\n    description: 'Keep track of your furry friend with this compact and reliable wireless pet tracker.',\n    price: 45.00,\n    category: 'Pet Supplies',\n    sku: 'PET-TRACK-001',\n    brand: 'PetSafe',\n    variant: 'GPS'\n  },\n  {\n    id: 'smart-home-hub-mini',\n    name: 'Smart Home Hub Mini',\n    description: 'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',\n    price: 79.99,\n    category: 'Smart Home',\n    sku: 'SMART-HUB-001',\n    brand: 'ConnectHome',\n    variant: 'Mini'\n  },\n  {\n    id: 'mystery-snack-pack',\n    name: 'Mystery Snack Pack',\n    description: 'A surprise assortment of delicious and unique snacks from around the world. What will you get?',\n    price: 10.00,\n    category: 'Food',\n    sku: 'FD-SNACK-001',\n    brand: 'GlobalBites',\n    variant: 'Assorted'\n  },\n  {\n    id: 'stainless-steel-tumbler',\n    name: 'Stainless Steel Tumbler',\n    description: 'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',\n    price: 22.99,\n    category: 'Home Goods',\n    sku: 'HG-TUMBLER-001',\n    brand: 'HydratePro',\n    variant: '20oz'\n  },\n  {\n    id: 'rechargeable-hand-warmer',\n    name: 'Rechargeable Hand Warmer',\n    description: 'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',\n    price: 28.00,\n    category: 'Outdoor',\n    sku: 'OUT-HWARM-001',\n    brand: 'WarmHands',\n    variant: 'USB'\n  },\n  {\n    id: 'super-soft-throw-blanket',\n    name: 'Super Soft Throw Blanket',\n    description: 'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',\n    price: 35.00,\n    category: 'Home Goods',\n    sku: 'HG-BLANKET-001',\n    brand: 'CozyHome',\n    variant: 'Fleece'\n  },\n  {\n    id: 'labubu-golden-edition-figure',\n    name: 'Labubu Golden Edition Figure',\n    description: 'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',\n    price: 49.99,\n    category: 'Collectible',\n    sku: 'COL-LABU-GOLD',\n    brand: 'Popmart',\n    variant: 'Golden'\n  },\n  {\n    id: 'wireless-earbuds-gen2',\n    name: 'Wireless Earbuds Gen2',\n    description: 'Second generation wireless earbuds with enhanced sound quality and longer battery life.',\n    price: 89.99,\n    category: 'Electronics',\n    sku: 'EL-EARBUDS-002',\n    brand: 'AudioPro',\n    variant: 'Black'\n  },\n  {\n    id: 'led-desk-lamp-pro',\n    name: 'LED Desk Lamp Pro',\n    description: 'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',\n    price: 49.00,\n    category: 'Home Office',\n    sku: 'HO-LAMP-001',\n    brand: 'BrightDesk',\n    variant: 'Pro'\n  },\n  {\n    id: 'ergonomic-office-chair',\n    name: 'Ergonomic Office Chair',\n    description: 'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',\n    price: 199.00,\n    category: 'Home Office',\n    sku: 'HO-OCHAIR-001',\n    brand: 'ErgoSit',\n    variant: 'Mesh'\n  },\n  {\n    id: 'bluetooth-speaker-splash',\n    name: 'Bluetooth Speaker Splash',\n    description: 'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',\n    price: 65.00,\n    category: 'Electronics',\n    sku: 'EL-SPEAKER-001',\n    brand: 'SoundWave',\n    variant: 'Waterproof'\n  },\n  {\n    id: 'crystal-growing-kit',\n    name: 'Crystal Growing Kit',\n    description: 'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',\n    price: 20.00,\n    category: 'Toys & Hobbies',\n    sku: 'TH-CRYSTAL-001',\n    brand: 'ScienceFun',\n    variant: 'Large'\n  },\n  {\n    id: 'build-your-own-robot-kit',\n    name: 'Build-Your-Own Robot Kit',\n    description: 'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',\n    price: 75.00,\n    category: 'Toys & Hobbies',\n    sku: 'TH-ROBOT-001',\n    brand: 'RoboKids',\n    variant: 'Beginner'\n  },\n  {\n    id: 'color-changing-mug',\n    name: 'Color-Changing Mug',\n    description: 'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',\n    price: 14.00,\n    category: 'Home Goods',\n    sku: 'HG-MUG-001',\n    brand: 'MagicMugs',\n    variant: 'Heat Reveal'\n  },\n  {\n    id: 'fashion-face-mask-3-pack',\n    name: 'Fashion Face Mask (3-pack)',\n    description: 'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',\n    price: 18.00,\n    category: 'Apparel',\n    sku: 'APP-MASK-001',\n    brand: 'StyleWear',\n    variant: 'Assorted'\n  },\n  {\n    id: 'mini-projector-hd',\n    name: 'Mini Projector HD',\n    description: 'Compact and portable HD projector for movies, presentations, or gaming on the go.',\n    price: 120.00,\n    category: 'Electronics',\n    sku: 'EL-PROJECTOR-001',\n    brand: 'ViewMax',\n    variant: 'HD'\n  },\n  {\n    id: 'doggo-deluxe-bed',\n    name: 'Doggo Deluxe Bed',\n    description: 'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',\n    price: 55.00,\n    category: 'Pet Supplies',\n    sku: 'PET-DBED-001',\n    brand: 'ComfyPaws',\n    variant: 'Large'\n  },\n  {\n    id: 'cat-castle-tower',\n    name: 'Cat Castle Tower',\n    description: 'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',\n    price: 85.00,\n    category: 'Pet Supplies',\n    sku: 'PET-CTOWER-001',\n    brand: 'KittyKingdom',\n    variant: 'Multi-level'\n  },\n  {\n    id: 'all-season-yoga-mat',\n    name: 'All-Season Yoga Mat',\n    description: 'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',\n    price: 29.99,\n    category: 'Sports & Fitness',\n    sku: 'SF-YOGA-001',\n    brand: 'ZenFit',\n    variant: 'Standard'\n  },\n  {\n    id: 'travel-packing-cubes',\n    name: 'Travel Packing Cubes',\n    description: 'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',\n    price: 24.99,\n    category: 'Travel',\n    sku: 'TRVL-PCUBE-001',\n    brand: 'PackSmart',\n    variant: 'Set of 3'\n  },\n  {\n    id: 'smart-plant-sensor',\n    name: 'Smart Plant Sensor',\n    description: 'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',\n    price: 39.99,\n    category: 'Smart Home',\n    sku: 'SMART-PLANT-001',\n    brand: 'GreenThumb',\n    variant: 'Basic'\n  },\n  {\n    id: 'pop-culture-puzzle-set',\n    name: 'Pop Culture Puzzle Set',\n    description: 'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',\n    price: 22.00,\n    category: 'Games',\n    sku: 'GM-PUZZLE-001',\n    brand: 'NerdPuzzles',\n    variant: '1000pc'\n  },\n  {\n    id: 'classic-denim-jacket',\n    name: 'Classic Denim Jacket',\n    description: 'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',\n    price: 69.00,\n    category: 'Apparel',\n    sku: 'APP-DENIM-001',\n    brand: 'FashionCo',\n    variant: 'Blue'\n  },\n  {\n    id: 'pocket-blender-pro',\n    name: 'Pocket Blender Pro',\n    description: 'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',\n    price: 39.99,\n    category: 'Kitchen',\n    sku: 'KCH-PBLEND-001',\n    brand: 'BlendGo',\n    variant: 'Pro'\n  },\n  {\n    id: 'microfiber-cleaning-slippers',\n    name: 'Microfiber Cleaning Slippers',\n    description: 'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',\n    price: 15.00,\n    category: 'Home Goods',\n    sku: 'HG-SLIPPER-001',\n    brand: 'CleanFeet',\n    variant: 'Grey'\n  },\n  {\n    id: 'personal-blender-bottle',\n    name: 'Personal Blender Bottle',\n    description: 'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',\n    price: 25.00,\n    category: 'Kitchen',\n    sku: 'KCH-BOTTLE-001',\n    brand: 'ShakeIt',\n    variant: '24oz'\n  },\n  {\n    id: 'wireless-charging-pad',\n    name: 'Wireless Charging Pad',\n    description: 'Fast and efficient wireless charging pad for compatible smartphones and devices.',\n    price: 29.00,\n    category: 'Electronics',\n    sku: 'EL-CHARGE-001',\n    brand: 'PowerUp',\n    variant: 'Fast'\n  },\n  {\n    id: 'kitchen-chef-knife-set',\n    name: 'Kitchen Chef Set',\n    description: 'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',\n    price: 89.99,\n    category: 'Kitchen',\n    sku: 'KCH-KNIFE-001',\n    brand: 'ChefPro',\n    variant: '5-piece'\n  },\n  {\n    id: 'instant-cold-brew-maker',\n    name: 'Instant Cold Brew Maker',\n    description: 'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',\n    price: 34.99,\n    category: 'Kitchen',\n    sku: 'KCH-COLDBREW-001',\n    brand: 'BrewQuick',\n    variant: 'Standard'\n  },\n  {\n    id: 'uv-sanitizing-box',\n    name: 'UV Sanitizing Box',\n    description: 'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',\n    price: 49.99,\n    category: 'Health & Personal Care',\n    sku: 'HPC-UVSAN-001',\n    brand: 'CleanTech',\n    variant: 'Compact'\n  },\n  {\n    id: 'portable-fire-pit',\n    name: 'Portable Fire Pit',\n    description: 'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',\n    price: 79.00,\n    category: 'Outdoor',\n    sku: 'OUT-FIREPIT-001',\n    brand: 'CampFire',\n    variant: 'Portable'\n  },\n  {\n    id: 'commuter-insulated-backpack',\n    name: 'Commuter Insulated Backpack',\n    description: 'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',\n    price: 59.00,\n    category: 'Travel',\n    sku: 'TRVL-BPACK-001',\n    brand: 'GoPack',\n    variant: 'Insulated'\n  },\n  {\n    id: 'labubu-vampire-bunny-plush',\n    name: 'Labubu Vampire Bunny Plush',\n    description: 'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',\n    price: 28.00,\n    category: 'Collectible',\n    sku: 'COL-LABU-VAMP',\n    brand: 'Popmart',\n    variant: 'Vampire'\n  },\n  {\n    id: 'labubu-sweet-dream-figure',\n    name: 'Labubu Sweet Dream Figure',\n    description: 'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',\n    price: 17.50,\n    category: 'Collectible',\n    sku: 'COL-LABU-SD',\n    brand: 'Popmart',\n    variant: 'Sweet Dream'\n  },\n  {\n    id: 'labubu-trick-or-treat-series',\n    name: 'Labubu Trick-or-Treat Series',\n    description: 'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',\n    price: 16.99,\n    category: 'Collectible',\n    sku: 'COL-LABU-TOT',\n    brand: 'Popmart',\n    variant: 'Halloween'\n  },\n  {\n    id: 'marvel-collector-keychain',\n    name: 'Marvel Collector Keychain',\n    description: 'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',\n    price: 7.99,\n    category: 'Collectible',\n    sku: 'COL-MARVEL-KC',\n    brand: 'Marvel',\n    variant: 'Assorted'\n  },\n  {\n    id: 'holiday-advent-calendar',\n    name: 'Holiday Advent Calendar',\n    description: 'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',\n    price: 25.00,\n    category: 'Holiday',\n    sku: 'HOL-ADVENT-001',\n    brand: 'FestiveFun',\n    variant: 'Standard'\n  }\n];\n\n// Map product data to include generated image URLs\nconst productsWithImages = products.map(product => ({\n  ...product,\n  imageUrl: generateProductPlaceholderImage(product.name, product.category)\n}));\n\n// Define a subset of products for the \"Featured Products\" section on the Home Page\nconst featuredProducts = productsWithImages.filter(product =>\n  product.name.toLowerCase().includes('labubu') || product.category === 'Collectible'\n);\n\n\n// --- Components ---\n\nconst Header = ({ navigate, cartItemCount }) => {\n  return (\n    <header className=\"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\">\n      <div className=\"container mx-auto flex justify-between items-center\">\n        {/* Brandazon logo now navigates to Moogle */}\n        <h1 className=\"text-3xl font-bold font-inter cursor-pointer\" onClick={() => navigate('simulatedSearch')}>Brandazon</h1>\n        <nav className=\"flex items-center space-x-6\">\n          <button\n            onClick={() => navigate('home')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Home\n          </button>\n          <button\n            onClick={() => navigate('products')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Products\n          </button>\n          <button\n            onClick={() => navigate('simulatedSearch')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Simulate Ad\n          </button>\n          <button\n            onClick={() => navigate('cart')}\n            className=\"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Cart ({cartItemCount})\n            {cartItemCount > 0 && (\n              <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\">\n                {cartItemCount}\n              </span>\n            )}\n          </button>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nconst PartnershipBanner = () => {\n  // Removed Promotion Viewed event from useEffect, now only triggered by click\n  const handleShopNowClick = () => {\n    // Promotion Clicked event\n    if (window.analytics) {\n      window.analytics.track('Promotion Clicked', {\n        promotion_id: 'labubu_popmart_banner_top',\n        creative: 'labubu_x_popmart_banner',\n        name: 'Labubu x Popmart Exclusive Partnership',\n        position: 'home_banner_top'\n      });\n    }\n    // In a real app, this would navigate to a specific Labubu category page or product list\n  };\n\n  return (\n    <div className=\"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\">\n      <div className=\"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\">\n        <img\n          src={generateProductPlaceholderImage(\"Labubu x Popmart\", \"Partnership\")} // Dynamic placeholder for banner\n          alt=\"Labubu x Popmart Partnership\"\n          className=\"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\"\n          onError={(e) => { e.target.onerror = null; e.target.src = generateProductPlaceholderImage(\"Partnership\", \"Partnership\"); }}\n        />\n        <div>\n          <h2 className=\"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\">\n            <span className=\"block\">Brandazon x Labubu</span>\n            <span className=\"block text-2xl md:text-3xl font-semibold mt-1\">Exclusive Partnership with Popmart!</span>\n          </h2>\n          <p className=\"text-lg md:text-xl font-medium opacity-90\">\n            Discover the latest Labubu drops and limited editions, only here.\n          </p>\n          <button\n            onClick={handleShopNowClick}\n            className=\"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\"\n          >\n            Shop Labubu Now!\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nconst ProductCard = ({ product, navigate, position }) => {\n  const { cart, setCart } = useContext(CartContext);\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id', // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n\n  const handleViewDetails = () => {\n    // Product Clicked event\n    if (window.analytics) {\n      window.analytics.track('Product Clicked', formatProductForSegment(product, 1, position));\n    }\n    // Product Viewed event - Triggered by button click, not just component mount\n    if (window.analytics) {\n      window.analytics.track('Product Viewed', {\n        product_id: product.id,\n        sku: product.sku,\n        category: product.category,\n        name: product.name,\n        brand: product.brand,\n        variant: product.variant,\n        price: product.price,\n        quantity: 1,\n        currency: 'USD',\n        value: product.price,\n        url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`,\n        image_url: product.imageUrl,\n      });\n    }\n    navigate('productDetail', product.id);\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\">\n      <img\n        src={product.imageUrl}\n        alt={product.name}\n        className=\"w-full h-48 object-cover rounded-t-xl\"\n        onError={(e) => { e.target.onerror = null; e.target.src = generateProductPlaceholderImage(product.name, product.category); }}\n      />\n      <div className=\"p-5 flex-grow flex flex-col justify-between\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">{product.name}</h3>\n          <p className=\"text-gray-600 text-sm mb-3 line-clamp-3\">{product.description}</p>\n          <p className=\"text-2xl font-bold text-purple-700 mb-4\">${product.price.toFixed(2)}</p>\n        </div>\n        <div className=\"flex flex-col space-y-3\">\n          <button\n            onClick={handleViewDetails}\n            className=\"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            View Details\n          </button>\n          <button\n            onClick={handleAddToCart}\n            className=\"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst HomePage = ({ navigate }) => {\n  // Removed Product List Viewed event from useEffect\n  return (\n    <div className=\"container mx-auto p-6\">\n      <PartnershipBanner />\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Featured Labubu & Popmart Collectibles</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {featuredProducts.map((product, index) => (\n          <ProductCard key={product.id} product={product} navigate={navigate} position={index + 1} />\n        ))}\n      </div>\n      <div className=\"text-center mt-12\">\n        <button\n          onClick={() => navigate('products')}\n          className=\"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n        >\n          View All Products\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst ProductsPage = ({ navigate }) => {\n  // Removed Product List Viewed event from useEffect\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">All Products</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {productsWithImages.map((product, index) => ( // Use productsWithImages here\n          <ProductCard key={product.id} product={product} navigate={navigate} position={index + 1} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ProductDetailPage = ({ productId, navigate }) => {\n  const [utmParams, setUtmParams] = useState(null); // Keep this state for UTMs\n  const { cart, setCart } = useContext(CartContext);\n\n  const product = productsWithImages.find(p => p.id === productId); // Use productsWithImages here\n\n  // Function to get related products\n  const getRelatedProducts = (currentProductId, currentProductCategory) => {\n    const related = productsWithImages.filter(p =>\n      p.id !== currentProductId && p.category === currentProductCategory\n    );\n\n    // Shuffle and take up to 4 related products\n    const shuffledRelated = related.sort(() => 0.5 - Math.random());\n    let selectedRelated = shuffledRelated.slice(0, 4);\n\n    // If not enough related products, fill with random ones from the whole list\n    if (selectedRelated.length < 4) {\n      const allOtherProducts = productsWithImages.filter(p => p.id !== currentProductId && !selectedRelated.some(rp => rp.id === p.id));\n      const shuffledOthers = allOtherProducts.sort(() => 0.5 - Math.random());\n      selectedRelated = [...selectedRelated, ...shuffledOthers].slice(0, 4);\n    }\n    return selectedRelated;\n  };\n\n  const relatedProducts = product ? getRelatedProducts(product.id, product.category) : [];\n\n\n  useEffect(() => {\n    // Campaign Attribution Recorded (if UTMs are present) - Now triggered by the ProductDetailPage loading\n    // and checking for UTMs, which is a page-specific attribution, not a general \"track\" event on mount.\n    // This is a special case where the \"track\" event is directly related to the URL state.\n    if (window.analytics && product) {\n      // Now parse UTMs from window.location.search (before the hash)\n      const queryString = window.location.search;\n      const params = new URLSearchParams(queryString);\n\n      const parsedUtm = {};\n      for (let [key, value] of params.entries()) {\n        if (key.startsWith('utm_') || key.startsWith('gad_') || key.startsWith('gclid') || key.startsWith('gbraid')) {\n          parsedUtm[key] = value;\n        }\n      }\n\n      if (Object.keys(parsedUtm).length > 0) {\n        setUtmParams(parsedUtm); // Update state with parsed UTMs\n        window.analytics.track('Campaign Attribution Recorded', {\n          product_id: product.id,\n          product_name: product.name,\n          ...parsedUtm\n        });\n      } else {\n        setUtmParams(null); // Clear if no UTMs are present\n      }\n    }\n  }, [productId, product]); // Depend on productId and product only for this effect\n\n  if (!product) {\n    return (\n      <div className=\"container mx-auto p-6 text-center text-red-600 text-xl font-semibold\">\n        Product not found!\n        <button\n          onClick={() => navigate('products')}\n          className=\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out\"\n        >\n          Back to Products\n        </button>\n      </div>\n    );\n  }\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id', // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)]\n      });\n    }\n  };\n\n  const handleRemoveFromCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem && existingItem.quantity > 1) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity - 1 } : item\n      ));\n    } else {\n      setCart(cart.filter(item => item.id !== product.id));\n    }\n    // Product Removed event\n    if (window.analytics) {\n      window.analytics.track('Product Removed', {\n        cart_id: 'brandazon_cart_id', // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always remove 1 unit per click\n      });\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col md:flex-row items-center p-8 gap-8\">\n        <div className=\"md:w-1/2 flex justify-center\">\n          <img\n            src={product.imageUrl}\n            alt={product.name}\n            className=\"w-full max-w-md h-auto object-contain rounded-lg shadow-md\"\n            onError={(e) => { e.target.onerror = null; e.target.src = generateProductPlaceholderImage(product.name, product.category); }}\n          />\n        </div>\n        <div className=\"md:w-1/2 flex flex-col justify-center\">\n          <h2 className=\"text-4xl font-extrabold text-gray-900 mb-4\">{product.name}</h2>\n          <p className=\"text-gray-700 text-lg mb-6\">{product.description}</p>\n          <p className=\"text-5xl font-bold text-purple-700 mb-6\">${product.price.toFixed(2)}</p>\n\n          <div className=\"flex space-x-4 mb-6\">\n            <button\n              onClick={handleAddToCart}\n              className=\"bg-purple-600 text-white py-3 px-6 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg flex-grow\"\n            >\n              Add to Cart\n            </button>\n            <button\n              onClick={handleRemoveFromCart}\n              className=\"bg-red-500 text-white py-3 px-6 rounded-lg text-xl font-semibold hover:bg-red-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg flex-grow\"\n            >\n              Remove from Cart\n            </button>\n          </div>\n\n          <button\n            onClick={() => navigate('products')}\n            className=\"mt-4 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-300 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n             Back to All Products\n          </button>\n\n          {utmParams && (\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <h3 className=\"text-lg font-semibold text-blue-800 mb-2\">Campaign Attribution Details:</h3>\n              <ul className=\"list-disc list-inside text-blue-700\">\n                {Object.entries(utmParams).map(([key, value]) => (\n                  <li key={key}><strong>{key.replace('utm_', '').replace('_', ' ')}:</strong> {value}</li>\n                ))}\n              </ul>\n              <p className=\"text-sm text-blue-600 mt-2\">\n                This information was captured from the URL query parameters.\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {relatedProducts.length > 0 && (\n        <div className=\"mt-12\">\n          <h3 className=\"text-3xl font-bold text-gray-900 mb-6 text-center\">Related Products You Might Like</h3>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n            {relatedProducts.map(relatedProduct => (\n              <ProductCard key={relatedProduct.id} product={relatedProduct} navigate={navigate} />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst CartPage = ({ navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n\n  // Calculate total price\n  const totalPrice = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  const handleUpdateQuantity = (productId, delta) => {\n    const existingItem = cart.find(item => item.id === productId);\n    if (!existingItem) return;\n\n    const newQuantity = existingItem.quantity + delta;\n\n    if (newQuantity <= 0) {\n      // Remove item if quantity goes to 0 or less\n      setCart(cart.filter(item => item.id !== productId));\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(existingItem, 1)]\n        });\n      }\n    } else {\n      setCart(cart.map(item =>\n        item.id === productId ? { ...item, quantity: newQuantity } : item\n      ));\n      // Product Added/Removed for quantity changes\n      if (window.analytics) {\n        if (delta > 0) {\n          window.analytics.track('Product Added', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(existingItem, delta)]\n          });\n        } else {\n          window.analytics.track('Product Removed', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(existingItem, Math.abs(delta))]\n          });\n        }\n      }\n    }\n  };\n\n  const handleRemoveItem = (productId) => {\n    const itemToRemove = cart.find(item => item.id === productId);\n    if (itemToRemove) {\n      setCart(cart.filter(item => item.id !== productId));\n      // Product Removed event for full removal\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(itemToRemove, itemToRemove.quantity)]\n        });\n      }\n    }\n  };\n\n  const handleCheckout = () => {\n    // Order Completed event\n    if (window.analytics) {\n      window.analytics.track('Order Completed', {\n        order_id: `order_${Date.now()}`, // Unique order ID\n        affiliation: 'Brandazon',\n        total: totalPrice,\n        revenue: totalPrice,\n        shipping: 0, // Assuming free shipping for simplicity\n        tax: 0, // Assuming no tax for simplicity\n        discount: 0, // Assuming no discount for simplicity\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n    setCart([]); // Clear cart after checkout\n    setShowConfirmation(true); // Show confirmation message\n  };\n\n  const handleCloseConfirmation = () => {\n    setShowConfirmation(false);\n    navigate('home'); // Go back to home after confirmation\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Your Shopping Cart</h2>\n\n      {cart.length === 0 ? (\n        <div className=\"bg-white rounded-xl shadow-lg p-8 text-center\">\n          <p className=\"text-gray-600 text-xl mb-4\">Your cart is empty.</p>\n          <button\n            onClick={() => navigate('products')}\n            className=\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out\"\n          >\n            Start Shopping\n          </button>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <div className=\"space-y-6 mb-8\">\n            {cart.map(item => (\n              <div key={item.id} className=\"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\">\n                <div className=\"flex items-center space-x-4\">\n                  <img\n                    src={item.imageUrl}\n                    alt={item.name}\n                    className=\"w-24 h-24 object-cover rounded-md shadow-sm\"\n                    onError={(e) => { e.target.onerror = null; e.target.src = generateProductPlaceholderImage(item.name, item.category); }}\n                  />\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-gray-800\">{item.name}</h3>\n                    <p className=\"text-gray-600\">${item.price.toFixed(2)} each</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"flex items-center border border-gray-300 rounded-lg\">\n                    <button\n                      onClick={() => handleUpdateQuantity(item.id, -1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-lg\"\n                    >\n                      -\n                    </button>\n                    <span className=\"px-3 py-1 border-x border-gray-300 text-gray-800\">{item.quantity}</span>\n                    <button\n                      onClick={() => handleUpdateQuantity(item.id, 1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-lg\"\n                    >\n                      +\n                    </button>\n                  </div>\n                  <p className=\"text-lg font-bold text-purple-700 w-24 text-right\">${(item.price * item.quantity).toFixed(2)}</p>\n                  <button\n                    onClick={() => handleRemoveItem(item.id)}\n                    className=\"text-red-500 hover:text-red-700 transition duration-300\"\n                    aria-label={`Remove ${item.name}`}\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"flex justify-end items-center mt-8 pt-4 border-t-2 border-gray-200\">\n            <p className=\"text-2xl font-bold text-gray-900 mr-4\">Total:</p>\n            <p className=\"text-3xl font-extrabold text-purple-800\">${totalPrice.toFixed(2)}</p>\n          </div>\n\n          <button\n            onClick={handleCheckout}\n            className=\"w-full mt-8 bg-green-600 text-white py-4 px-6 rounded-lg text-2xl font-semibold hover:bg-green-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Proceed to Checkout\n          </button>\n        </div>\n      )}\n\n      {showConfirmation && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-8 rounded-xl shadow-2xl text-center max-w-sm mx-auto\">\n            <h3 className=\"text-3xl font-bold text-green-700 mb-4\">Order Confirmed!</h3>\n            <p className=\"text-gray-700 text-lg mb-6\">Thank you for your purchase. Your order has been placed successfully.</p>\n            <button\n              onClick={handleCloseConfirmation}\n              className=\"bg-blue-600 text-white py-2 px-5 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300\"\n            >\n              Continue Shopping\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst SimulatedSearchEnginePage = ({ navigate }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  // Static UTM parameters as per user request\n  const utmSource = 'moogle';\n  const utmMedium = 'organic';\n  const utmCampaign = 'default_search';\n\n  const handleSearch = () => {\n    let productToDisplay = null;\n\n    // Try to find a product that matches the search term\n    const matchedProducts = productsWithImages.filter(p =>\n      p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      p.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      p.category.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    if (matchedProducts.length > 0) {\n      // Pick a random product from the matched list\n      const randomIndex = Math.floor(Math.random() * matchedProducts.length);\n      productToDisplay = matchedProducts[randomIndex];\n    } else {\n      // If no match, pick a random product from the entire list\n      const randomIndex = Math.floor(Math.random() * productsWithImages.length);\n      productToDisplay = productsWithImages[randomIndex];\n    }\n\n    // Construct the query string with static UTM parameters\n    const queryParams = new URLSearchParams();\n    queryParams.append('utm_source', utmSource);\n    queryParams.append('utm_medium', utmMedium);\n    queryParams.append('utm_campaign', utmCampaign);\n\n    // --- For DISPLAY PURPOSES ONLY in Moogle search results ---\n    const simulatedBrandazonDomain = 'https://www.brandazon.com';\n    const simulatedProductUrlForDisplay = `${simulatedBrandazonDomain}/product/${productToDisplay.id}?${queryParams.toString()}`;\n\n    setSearchResults([{\n      ...productToDisplay,\n      simulatedUrl: simulatedProductUrlForDisplay // This is the URL displayed in the search result\n    }]);\n\n    // Search Results Viewed event\n    if (window.analytics) {\n      window.analytics.track('Search Results Viewed', {\n        query: searchTerm, // Still log the actual search term for analytics\n        results: [{ product_id: productToDisplay.id, product_name: productToDisplay.name }],\n        utm_source: utmSource,\n        utm_medium: utmMedium,\n        utm_campaign: utmCampaign\n      });\n    }\n  };\n\n  const handleAdClick = (product) => {\n    // Product Clicked event (simulating ad click)\n    if (window.analytics) {\n      window.analytics.track('Product Clicked', {\n        ...formatProductForSegment(product), // Use existing formatter\n        list: 'Simulated Search Results',\n        position: searchResults.findIndex(p => p.id === product.id) + 1,\n        utm_source: utmSource,\n        utm_medium: utmMedium,\n        utm_campaign: utmCampaign\n      });\n    }\n    // Navigate to the product detail page, which will then read the new URL\n    // The navigate function will now handle constructing the full URL and pushing state.\n    navigate('productDetail', product.id, { fromMoogle: true }); // Pass the flag\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 min-h-[calc(100vh-120px)] flex flex-col justify-center items-center\">\n      <h2 className=\"text-5xl font-extrabold text-gray-900 mb-8 text-center\">\n        <span className=\"text-blue-600\">M</span>\n        <span className=\"text-red-500\">o</span>\n        <span className=\"text-yellow-500\">o</span>\n        <span className=\"text-blue-600\">g</span>\n        <span className=\"text-green-600\">l</span>\n        <span className=\"text-red-500\">e</span> Search\n      </h2>\n      <div className=\"bg-white rounded-xl shadow-lg p-6 mb-8 w-full max-w-2xl\">\n        <div className=\"flex flex-col md:flex-row gap-4 mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Search Moogle (e.g., Labubu, Hairbrush, Kettle)\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"flex-grow p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg\"\n          />\n          <button\n            onClick={handleSearch}\n            className=\"bg-blue-600 text-white py-3 px-6 rounded-full font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-md\"\n          >\n            Moogle Search\n          </button>\n        </div>\n        <div className=\"mt-4 p-4 border border-gray-200 rounded-lg bg-gray-50 text-gray-700\">\n          <p className=\"font-semibold\">Simulated Ad Parameters (Internal):</p>\n          <ul className=\"list-disc list-inside text-sm\">\n            <li><strong>UTM Source:</strong> {utmSource}</li>\n            <li><strong>UTM Medium:</strong> {utmMedium}</li>\n            <li><strong>UTM Campaign:</strong> {utmCampaign}</li>\n          </ul>\n          <p className=\"text-sm mt-2\">\n            Type a search term to find a matching product, or get a random one if no match.\n            Click the ad to visit the product page with these UTMs in the URL.\n          </p>\n        </div>\n      </div>\n\n      {searchResults.length > 0 && (\n        <div className=\"mt-8 w-full max-w-2xl\">\n          <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Simulated Moogle Ad Result (Click to visit page with UTMs)</h3>\n          <div className=\"space-y-4\">\n            {searchResults.map(product => (\n              <div\n                key={product.id}\n                className=\"bg-white rounded-lg shadow-md p-4 border border-blue-200 hover:shadow-xl transition duration-300 cursor-pointer\"\n                onClick={() => handleAdClick(product)}\n              >\n                <div className=\"flex items-center space-x-4\">\n                  <img\n                    src={product.imageUrl}\n                    alt={product.name}\n                    className=\"w-20 h-20 object-cover rounded-md\"\n                    onError={(e) => { e.target.onerror = null; e.target.src = generateProductPlaceholderImage(product.name, product.category); }}\n                  />\n                  <div>\n                    <h4 className=\"text-xl font-semibold text-blue-700 hover:underline\">{product.name}</h4>\n                    <p className=\"text-sm text-green-700 mt-1\">{product.simulatedUrl}</p> {/* Display the simulated Brandazon URL */}\n                    <p className=\"text-gray-600 text-sm\">{product.description}</p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n\n// --- Main App Component ---\nfunction App() {\n  // Set initial page to 'simulatedSearch'\n  const [currentPage, setCurrentPage] = useState('simulatedSearch');\n  const [currentProductId, setCurrentProductId] = useState(null);\n  const [cart, setCart] = useState([]);\n\n  // Function to handle navigation and Segment page calls\n  const navigate = (page, productId = null, options = {}) => {\n    setCurrentPage(page);\n    setCurrentProductId(productId);\n\n    let path = '';\n    let properties = {};\n    // Start with a clean base URL for constructing the new URL\n    const newUrl = new URL(window.location.origin + window.location.pathname);\n\n    // Add UTMs if navigating to product detail from Moogle\n    if (page === 'productDetail' && options.fromMoogle) {\n      newUrl.searchParams.append('utm_source', 'moogle');\n      newUrl.searchParams.append('utm_medium', 'organic');\n      newUrl.searchParams.append('utm_campaign', 'default_search');\n      newUrl.searchParams.append('from_moogle', 'true'); // Flag for Segment page call\n    }\n\n    switch (page) {\n      case 'home':\n        path = '/';\n        properties = { name: 'Home Page' };\n        break;\n      case 'products':\n        path = '/products';\n        properties = { name: 'All Products Page' };\n        break;\n      case 'productDetail':\n        path = `/product/${productId}`;\n        const product = productsWithImages.find(p => p.id === productId);\n        properties = { name: 'Product Detail Page', productId: productId, productName: product?.name };\n        break;\n      case 'cart':\n        path = '/cart';\n        properties = { name: 'Shopping Cart Page' };\n        break;\n      case 'simulatedSearch':\n        path = '/simulated-search';\n        properties = { name: 'Simulated Search Page' };\n        break;\n      default:\n        path = '/simulated-search'; // Default to simulated search\n        properties = { name: 'Simulated Search Page' };\n    }\n\n    newUrl.hash = path;\n    // Only call pushState here, centralizing URL management\n    window.history.pushState({}, '', newUrl.toString());\n\n    // Segment Page call\n    if (window.analytics) {\n      // Special handling for ProductDetailPage when coming from Moogle\n      if (page === 'productDetail' && options.fromMoogle) {\n        window.analytics.page('Home Page Viewed', properties); // User's specific request\n      } else {\n        window.analytics.page(page, properties);\n      }\n    }\n  };\n\n  // Effect to handle initial page load and browser history (popstate)\n  useEffect(() => {\n    const handlePopState = () => {\n      const hash = window.location.hash;\n      const urlParams = new URLSearchParams(window.location.search);\n      const fromMoogle = urlParams.get('from_moogle') === 'true';\n\n      let pageToNavigate = 'simulatedSearch'; // Default to simulated search\n      let productIdToNavigate = null;\n\n      if (hash.startsWith('#/product/')) {\n        productIdToNavigate = hash.replace('#/product/', '');\n        pageToNavigate = 'productDetail';\n      } else if (hash === '#/products') {\n        pageToNavigate = 'products';\n      } else if (hash === '#/cart') {\n        pageToNavigate = 'cart';\n      } else if (hash === '#/simulated-search') {\n        pageToNavigate = 'simulatedSearch';\n      }\n\n      setCurrentPage(pageToNavigate);\n      setCurrentProductId(productIdToNavigate);\n\n      // Manually trigger Segment page call for initial load or browser back/forward\n      if (window.analytics) {\n        let properties = {};\n        const product = productIdToNavigate ? productsWithImages.find(p => p.id === productIdToNavigate) : null;\n\n        switch (pageToNavigate) {\n          case 'home':\n            properties = { name: 'Home Page' };\n            break;\n          case 'products':\n            properties = { name: 'All Products Page' };\n            break;\n          case 'productDetail':\n            properties = { name: 'Product Detail Page', productId: productIdToNavigate, productName: product?.name };\n            break;\n          case 'cart':\n            properties = { name: 'Shopping Cart Page' };\n            break;\n          case 'simulatedSearch':\n            properties = { name: 'Simulated Search Page' };\n            break;\n        }\n\n        // Special handling for ProductDetailPage when coming from Moogle via popstate\n        if (pageToNavigate === 'productDetail' && fromMoogle) {\n          window.analytics.page('Home Page Viewed', properties); // User's specific request\n        } else {\n          window.analytics.page(pageToNavigate, properties);\n        }\n\n\n        // Also track Product List Viewed for relevant pages on initial load/popstate\n        if (pageToNavigate === 'home') {\n          window.analytics.track('Promotion Viewed', { // Promotion viewed on Home\n            promotion_id: 'labubu_popmart_banner_top',\n            creative: 'labubu_x_popmart_banner',\n            name: 'Labubu x Popmart Exclusive Partnership',\n            position: 'home_banner_top'\n          });\n          window.analytics.track('Product List Viewed', {\n            category: 'Featured Products',\n            products: featuredProducts.map((p, index) => formatProductForSegment(p, 1, index + 1))\n          });\n        } else if (pageToNavigate === 'products') {\n          window.analytics.track('Product List Viewed', {\n            category: 'All Products',\n            products: productsWithImages.map((p, index) => formatProductForSegment(p, 1, index + 1))\n          });\n        } else if (pageToNavigate === 'cart') {\n          window.analytics.track('Cart Viewed', {\n            cart_id: 'brandazon_cart_id',\n            products: cart.map(item => formatProductForSegment(item, item.quantity))\n          });\n        }\n      }\n    };\n\n    // Initial load\n    handlePopState();\n\n    // Listen for popstate events (browser back/forward buttons)\n    window.addEventListener('popstate', handlePopState);\n    return () => window.removeEventListener('popstate', handlePopState);\n  }, []); // Empty dependency array means this runs once on mount\n\n\n  // Render the current page\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'home':\n        return <HomePage navigate={navigate} />;\n      case 'products':\n        return <ProductsPage navigate={navigate} />;\n      case 'productDetail':\n        return <ProductDetailPage productId={currentProductId} navigate={navigate} />;\n      case 'cart':\n        return <CartPage navigate={navigate} />;\n      case 'simulatedSearch':\n        return <SimulatedSearchEnginePage navigate={navigate} />;\n      default:\n        return <SimulatedSearchEnginePage navigate={navigate} />; // Default to simulated search\n    }\n  };\n\n  return (\n    <CartContext.Provider value={{ cart, setCart }}>\n      <div className=\"min-h-screen bg-gray-100 font-inter antialiased\">\n        {/* Tailwind CSS CDN */}\n        <script src=\"https://cdn.tailwindcss.com\"></script>\n        {/* Google Fonts - Inter */}\n        <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap\" rel=\"stylesheet\" />\n        <style>\n          {`\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n            .min-h-\\[calc\\(100vh-120px\\)\\] {\n                min-height: calc(100vh - 120px); /* Adjust for header/footer height */\n            }\n          `}\n        </style>\n\n        <Header navigate={navigate} cartItemCount={cart.reduce((sum, item) => sum + item.quantity, 0)} />\n        <main className=\"py-8\">\n          {renderPage()}\n        </main>\n      </div>\n    </CartContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}