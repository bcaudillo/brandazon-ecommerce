{"ast":null,"code":"import React,{useState,useEffect,createContext,useContext}from'react';// --- Global Context for Cart Management ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();// --- Helper to format product data for Segment events ---\nconst formatProductForSegment=function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let position=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return{product_id:product.id,sku:product.sku,category:product.category,name:product.name,brand:product.brand,variant:product.variant,price:product.price,quantity:quantity,// coupon: product.coupon, // Add if coupons are implemented per product\nposition:position,url:`${window.location.origin}${window.location.pathname}#/product/${product.id}`,// Dynamic URL\nimage_url:product.imageUrl};};// --- Expanded Product Data ---\nconst products=[{id:'monopoly-3rd-edition',name:'Monopoly: 3rd Edition',description:'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',price:29.99,imageUrl:'https://placehold.co/300x300/F0F8FF/000000?text=Monopoly+3rd',category:'Games',sku:'GM-MONO-001',brand:'Hasbro',variant:'Standard'},{id:'uno-card-game',name:'Uno Card Game',description:'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',price:9.99,imageUrl:'https://placehold.co/300x300/E6E6FA/000000?text=Uno+Cards',category:'Games',sku:'GM-UNO-001',brand:'Mattel',variant:'Standard'},{id:'special-facial-soap',name:'Special Facial Soap',description:'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',price:12.50,imageUrl:'https://placehold.co/300x300/F5F5DC/000000?text=Facial+Soap',category:'Beauty',sku:'BT-SOAP-001',brand:'PureSkin',variant:'Unscented'},{id:'fancy-hairbrush',name:'Fancy Hairbrush',description:'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',price:18.00,imageUrl:'https://placehold.co/300x300/FFF0F5/000000?text=Hairbrush',category:'Beauty',sku:'BT-HBRUSH-001',brand:'GlamLocks',variant:'Large'},{id:'labubu-blind-box-series-8',name:'Labubu Blind Box Series 8',description:'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',price:16.99,imageUrl:'https://placehold.co/300x300/ADD8E6/000000?text=Labubu+Series+8',category:'Collectible',sku:'COL-LABU-S8',brand:'Popmart',variant:'Blind Box'},{id:'labubu-ghost-hunter-plush',name:'Labubu Ghost Hunter Plush',description:'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',price:25.00,imageUrl:'https://placehold.co/300x300/B0E0E6/000000?text=Labubu+Ghost',category:'Collectible',sku:'COL-LABU-GH',brand:'Popmart',variant:'Plush'},{id:'labubu-plush-keychain',name:'Labubu Plush Keychain',description:'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',price:9.50,imageUrl:'https://placehold.co/300x300/87CEEB/000000?text=Labubu+Keychain',category:'Collectible',sku:'COL-LABU-KC',brand:'Popmart',variant:'Keychain'},{id:'electric-pour-over-kettle',name:'Electric Pour-over Kettle',description:'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',price:59.99,imageUrl:'https://placehold.co/300x300/6495ED/000000?text=Pour-over+Kettle',category:'Kitchen',sku:'KCH-KETTLE-001',brand:'BrewMaster',variant:'Black'},{id:'retro-gaming-mousepad',name:'Retro Gaming Mousepad',description:'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',price:14.99,imageUrl:'https://placehold.co/300x300/4682B4/000000?text=Retro+Mousepad',category:'Electronics',sku:'EL-MPAD-001',brand:'GameGear',variant:'Large'},{id:'airpods-pro-3rd-gen',name:'AirPods Pro 3rd Gen',description:'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',price:249.00,imageUrl:'https://placehold.co/300x300/5F9EA0/000000?text=AirPods+Pro',category:'Electronics',sku:'EL-AIRPODS-003',brand:'Apple',variant:'Pro'},{id:'nintendo-switch-lite',name:'Nintendo Switch Lite',description:'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',price:199.99,imageUrl:'https://placehold.co/300x300/7FFFD4/000000?text=Switch+Lite',category:'Electronics',sku:'GM-SWITCHL-001',brand:'Nintendo',variant:'Yellow'},{id:'collectible-ceramic-mug',name:'Collectible Ceramic Mug',description:'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',price:11.99,imageUrl:'https://placehold.co/300x300/AFEEEE/000000?text=Ceramic+Mug',category:'Collectible',sku:'COL-MUG-001',brand:'ArtisanCraft',variant:'Standard'},{id:'summer-splash-towel',name:'Summer Splash Towel',description:'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',price:19.99,imageUrl:'https://placehold.co/300x300/00CED1/000000?text=Splash+Towel',category:'Home Goods',sku:'HG-TOWEL-001',brand:'AquaDry',variant:'Beach'},{id:'holiday-cookie-tin',name:'Holiday Cookie Tin',description:'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',price:15.00,imageUrl:'https://placehold.co/300x300/40E0D0/000000?text=Cookie+Tin',category:'Food',sku:'FD-COOKIE-001',brand:'SweetTreats',variant:'Assorted'},{id:'wireless-pet-tracker',name:'Wireless Pet Tracker',description:'Keep track of your furry friend with this compact and reliable wireless pet tracker.',price:45.00,imageUrl:'https://placehold.co/300x300/20B2AA/000000?text=Pet+Tracker',category:'Pet Supplies',sku:'PET-TRACK-001',brand:'PetSafe',variant:'GPS'},{id:'smart-home-hub-mini',name:'Smart Home Hub Mini',description:'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',price:79.99,imageUrl:'https://placehold.co/300x300/3CB371/000000?text=Smart+Hub',category:'Smart Home',sku:'SMART-HUB-001',brand:'ConnectHome',variant:'Mini'},{id:'mystery-snack-pack',name:'Mystery Snack Pack',description:'A surprise assortment of delicious and unique snacks from around the world. What will you get?',price:10.00,imageUrl:'https://placehold.co/300x300/98FB98/000000?text=Mystery+Snack',category:'Food',sku:'FD-SNACK-001',brand:'GlobalBites',variant:'Assorted'},{id:'stainless-steel-tumbler',name:'Stainless Steel Tumbler',description:'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',price:22.99,imageUrl:'https://placehold.co/300x300/ADFF2F/000000?text=Steel+Tumbler',category:'Home Goods',sku:'HG-TUMBLER-001',brand:'HydratePro',variant:'20oz'},{id:'rechargeable-hand-warmer',name:'Rechargeable Hand Warmer',description:'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',price:28.00,imageUrl:'https://placehold.co/300x300/7CFC00/000000?text=Hand+Warmer',category:'Outdoor',sku:'OUT-HWARM-001',brand:'WarmHands',variant:'USB'},{id:'super-soft-throw-blanket',name:'Super Soft Throw Blanket',description:'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',price:35.00,imageUrl:'https://placehold.co/300x300/00FF7F/000000?text=Throw+Blanket',category:'Home Goods',sku:'HG-BLANKET-001',brand:'CozyHome',variant:'Fleece'},{id:'labubu-golden-edition-figure',name:'Labubu Golden Edition Figure',description:'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',price:49.99,imageUrl:'https://placehold.co/300x300/32CD32/000000?text=Labubu+Golden',category:'Collectible',sku:'COL-LABU-GOLD',brand:'Popmart',variant:'Golden'},{id:'wireless-earbuds-gen2',name:'Wireless Earbuds Gen2',description:'Second generation wireless earbuds with enhanced sound quality and longer battery life.',price:89.99,imageUrl:'https://placehold.co/300x300/228B22/000000?text=Earbuds+Gen2',category:'Electronics',sku:'EL-EARBUDS-002',brand:'AudioPro',variant:'Black'},{id:'led-desk-lamp-pro',name:'LED Desk Lamp Pro',description:'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',price:49.00,imageUrl:'https://placehold.co/300x300/008000/000000?text=Desk+Lamp+Pro',category:'Home Office',sku:'HO-LAMP-001',brand:'BrightDesk',variant:'Pro'},{id:'ergonomic-office-chair',name:'Ergonomic Office Chair',description:'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',price:199.00,imageUrl:'https://placehold.co/300x300/006400/000000?text=Office+Chair',category:'Home Office',sku:'HO-OCHAIR-001',brand:'ErgoSit',variant:'Mesh'},{id:'bluetooth-speaker-splash',name:'Bluetooth Speaker Splash',description:'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',price:65.00,imageUrl:'https://placehold.co/300x300/2E8B57/000000?text=Bluetooth+Speaker',category:'Electronics',sku:'EL-SPEAKER-001',brand:'SoundWave',variant:'Waterproof'},{id:'crystal-growing-kit',name:'Crystal Growing Kit',description:'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',price:20.00,imageUrl:'https://placehold.co/300x300/3CB371/000000?text=Crystal+Kit',category:'Toys & Hobbies',sku:'TH-CRYSTAL-001',brand:'ScienceFun',variant:'Large'},{id:'build-your-own-robot-kit',name:'Build-Your-Own Robot Kit',description:'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',price:75.00,imageUrl:'https://placehold.co/300x300/66CDAA/000000?text=Robot+Kit',category:'Toys & Hobbies',sku:'TH-ROBOT-001',brand:'RoboKids',variant:'Beginner'},{id:'color-changing-mug',name:'Color-Changing Mug',description:'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',price:14.00,imageUrl:'https://placehold.co/300x300/8FBC8F/000000?text=Color+Mug',category:'Home Goods',sku:'HG-MUG-001',brand:'MagicMugs',variant:'Heat Reveal'},{id:'fashion-face-mask-3-pack',name:'Fashion Face Mask (3-pack)',description:'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',price:18.00,imageUrl:'https://placehold.co/300x300/90EE90/000000?text=Face+Masks',category:'Apparel',sku:'APP-MASK-001',brand:'StyleWear',variant:'Assorted'},{id:'mini-projector-hd',name:'Mini Projector HD',description:'Compact and portable HD projector for movies, presentations, or gaming on the go.',price:120.00,imageUrl:'https://placehold.co/300x300/9ACD32/000000?text=Mini+Projector',category:'Electronics',sku:'EL-PROJECTOR-001',brand:'ViewMax',variant:'HD'},{id:'doggo-deluxe-bed',name:'Doggo Deluxe Bed',description:'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',price:55.00,imageUrl:'https://placehold.co/300x300/6B8E23/000000?text=Dog+Bed',category:'Pet Supplies',sku:'PET-DBED-001',brand:'ComfyPaws',variant:'Large'},{id:'cat-castle-tower',name:'Cat Castle Tower',description:'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',price:85.00,imageUrl:'https://placehold.co/300x300/808000/000000?text=Cat+Tower',category:'Pet Supplies',sku:'PET-CTOWER-001',brand:'KittyKingdom',variant:'Multi-level'},{id:'all-season-yoga-mat',name:'All-Season Yoga Mat',description:'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',price:29.99,imageUrl:'https://placehold.co/300x300/BDB76B/000000?text=Yoga+Mat',category:'Sports & Fitness',sku:'SF-YOGA-001',brand:'ZenFit',variant:'Standard'},{id:'travel-packing-cubes',name:'Travel Packing Cubes',description:'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',price:24.99,imageUrl:'https://placehold.co/300x300/DAA520/000000?text=Packing+Cubes',category:'Travel',sku:'TRVL-PCUBE-001',brand:'PackSmart',variant:'Set of 3'},{id:'smart-plant-sensor',name:'Smart Plant Sensor',description:'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',price:39.99,imageUrl:'https://placehold.co/300x300/FFD700/000000?text=Plant+Sensor',category:'Smart Home',sku:'SMART-PLANT-001',brand:'GreenThumb',variant:'Basic'},{id:'pop-culture-puzzle-set',name:'Pop Culture Puzzle Set',description:'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',price:22.00,imageUrl:'https://placehold.co/300x300/FFA500/000000?text=Pop+Puzzle',category:'Games',sku:'GM-PUZZLE-001',brand:'NerdPuzzles',variant:'1000pc'},{id:'classic-denim-jacket',name:'Classic Denim Jacket',description:'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',price:69.00,imageUrl:'https://placehold.co/300x300/FF8C00/000000?text=Denim+Jacket',category:'Apparel',sku:'APP-DENIM-001',brand:'FashionCo',variant:'Blue'},{id:'pocket-blender-pro',name:'Pocket Blender Pro',description:'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',price:39.99,imageUrl:'https://placehold.co/300x300/FF4500/000000?text=Pocket+Blender',category:'Kitchen',sku:'KCH-PBLEND-001',brand:'BlendGo',variant:'Pro'},{id:'microfiber-cleaning-slippers',name:'Microfiber Cleaning Slippers',description:'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',price:15.00,imageUrl:'https://placehold.co/300x300/FF6347/000000?text=Cleaning+Slippers',category:'Home Goods',sku:'HG-SLIPPER-001',brand:'CleanFeet',variant:'Grey'},{id:'personal-blender-bottle',name:'Personal Blender Bottle',description:'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',price:25.00,imageUrl:'https://placehold.co/300x300/CD5C5C/000000?text=Blender+Bottle',category:'Kitchen',sku:'KCH-BOTTLE-001',brand:'ShakeIt',variant:'24oz'},{id:'wireless-charging-pad',name:'Wireless Charging Pad',description:'Fast and efficient wireless charging pad for compatible smartphones and devices.',price:29.00,imageUrl:'https://placehold.co/300x300/DC143C/000000?text=Charging+Pad',category:'Electronics',sku:'EL-CHARGE-001',brand:'PowerUp',variant:'Fast'},{id:'kitchen-chef-knife-set',name:'Kitchen Chef Set',description:'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',price:89.99,imageUrl:'https://placehold.co/300x300/B22222/000000?text=Knife+Set',category:'Kitchen',sku:'KCH-KNIFE-001',brand:'ChefPro',variant:'5-piece'},{id:'instant-cold-brew-maker',name:'Instant Cold Brew Maker',description:'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',price:34.99,imageUrl:'https://placehold.co/300x300/8B0000/000000?text=Cold+Brew+Maker',category:'Kitchen',sku:'KCH-COLDBREW-001',brand:'BrewQuick',variant:'Standard'},{id:'uv-sanitizing-box',name:'UV Sanitizing Box',description:'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',price:49.99,imageUrl:'https://placehold.co/300x300/A52A2A/000000?text=UV+Sanitizer',category:'Health & Personal Care',sku:'HPC-UVSAN-001',brand:'CleanTech',variant:'Compact'},{id:'portable-fire-pit',name:'Portable Fire Pit',description:'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',price:79.00,imageUrl:'https://placehold.co/300x300/D2B48C/000000?text=Fire+Pit',category:'Outdoor',sku:'OUT-FIREPIT-001',brand:'CampFire',variant:'Portable'},{id:'commuter-insulated-backpack',name:'Commuter Insulated Backpack',description:'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',price:59.00,imageUrl:'https://placehold.co/300x300/F4A460/000000?text=Insulated+Backpack',category:'Travel',sku:'TRVL-BPACK-001',brand:'GoPack',variant:'Insulated'},{id:'labubu-vampire-bunny-plush',name:'Labubu Vampire Bunny Plush',description:'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',price:28.00,imageUrl:'https://placehold.co/300x300/FF7F50/000000?text=Labubu+Vampire',category:'Collectible',sku:'COL-LABU-VAMP',brand:'Popmart',variant:'Vampire'},{id:'labubu-sweet-dream-figure',name:'Labubu Sweet Dream Figure',description:'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',price:17.50,imageUrl:'https://placehold.co/300x300/FF69B4/000000?text=Labubu+Sweet+Dream',category:'Collectible',sku:'COL-LABU-SD',brand:'Popmart',variant:'Sweet Dream'},{id:'labubu-trick-or-treat-series',name:'Labubu Trick-or-Treat Series',description:'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',price:16.99,imageUrl:'https://placehold.co/300x300/FF1493/000000?text=Labubu+Trick',category:'Collectible',sku:'COL-LABU-TOT',brand:'Popmart',variant:'Halloween'},{id:'marvel-collector-keychain',name:'Marvel Collector Keychain',description:'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',price:7.99,imageUrl:'https://placehold.co/300x300/C71585/000000?text=Marvel+Keychain',category:'Collectible',sku:'COL-MARVEL-KC',brand:'Marvel',variant:'Assorted'},{id:'holiday-advent-calendar',name:'Holiday Advent Calendar',description:'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',price:25.00,imageUrl:'https://placehold.co/300x300/DB7093/000000?text=Advent+Calendar',category:'Holiday',sku:'HOL-ADVENT-001',brand:'FestiveFun',variant:'Standard'}];// Define a subset of products for the \"Featured Products\" section on the Home Page\nconst featuredProducts=products.filter(product=>product.name.toLowerCase().includes('labubu')||product.category==='Collectible');// --- Components ---\nconst Header=_ref=>{let{navigate,cartItemCount}=_ref;return/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold font-inter cursor-pointer\",onClick:()=>navigate('home'),children:\"Brandazon\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:\"Home\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('products'),className:\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:\"Products\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('simulatedSearch'),className:\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:\"Simulate Ad\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('cart'),className:\"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\",children:[\"Cart (\",cartItemCount,\")\",cartItemCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\",children:cartItemCount})]})]})]})});};const PartnershipBanner=()=>{// Removed Promotion Viewed event from useEffect, now only triggered by click\nconst handleShopNowClick=()=>{// Promotion Clicked event\nif(window.analytics){window.analytics.track('Promotion Clicked',{promotion_id:'labubu_popmart_banner_top',creative:'labubu_x_popmart_banner',name:'Labubu x Popmart Exclusive Partnership',position:'home_banner_top'});}// In a real app, this would navigate to a specific Labubu category page or product list\n};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://placehold.co/150x150/FFFFFF/FF69B4?text=Labubu+x+Popmart\",alt:\"Labubu x Popmart Partnership\",className:\"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/150x150/CCCCCC/000000?text=Partnership`;}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block\",children:\"Brandazon x Labubu\"}),/*#__PURE__*/_jsx(\"span\",{className:\"block text-2xl md:text-3xl font-semibold mt-1\",children:\"Exclusive Partnership with Popmart!\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg md:text-xl font-medium opacity-90\",children:\"Discover the latest Labubu drops and limited editions, only here.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleShopNowClick,className:\"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\",children:\"Shop Labubu Now!\"})]})]})});};const ProductCard=_ref2=>{let{product,navigate,position}=_ref2;const{cart,setCart}=useContext(CartContext);const handleAddToCart=()=>{const existingItem=cart.find(item=>item.id===product.id);if(existingItem){setCart(cart.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item));}else{setCart([...cart,{...product,quantity:1}]);}// Product Added event\nif(window.analytics){window.analytics.track('Product Added',{cart_id:'brandazon_cart_id',// Placeholder cart ID\nproducts:[formatProductForSegment(product,1)]// Always add 1 unit per click\n});}};const handleViewDetails=()=>{// Product Clicked event\nif(window.analytics){window.analytics.track('Product Clicked',formatProductForSegment(product,1,position));}// Product Viewed event - Triggered by button click, not just component mount\nif(window.analytics){window.analytics.track('Product Viewed',{product_id:product.id,sku:product.sku,category:product.category,name:product.name,brand:product.brand,variant:product.variant,price:product.price,quantity:1,currency:'USD',value:product.price,url:`${window.location.origin}${window.location.pathname}#/product/${product.id}`,image_url:product.imageUrl});}navigate('productDetail',product.id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name,className:\"w-full h-48 object-cover rounded-t-xl\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/300x300/CCCCCC/000000?text=Image+Not+Found`;}}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 flex-grow flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3 line-clamp-3\",children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-purple-700 mb-4\",children:[\"$\",product.price.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleViewDetails,className:\"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Add to Cart\"})]})]})]});};const HomePage=_ref3=>{let{navigate}=_ref3;// Removed Product List Viewed event from useEffect\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(PartnershipBanner,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"Featured Labubu & Popmart Collectibles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",children:featuredProducts.map((product,index)=>/*#__PURE__*/_jsx(ProductCard,{product:product,navigate:navigate,position:index+1},product.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-12\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('products'),className:\"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"View All Products\"})})]});};const ProductsPage=_ref4=>{let{navigate}=_ref4;// Removed Product List Viewed event from useEffect\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"All Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",children:products.map((product,index)=>/*#__PURE__*/_jsx(ProductCard,{product:product,navigate:navigate,position:index+1},product.id))})]});};const ProductDetailPage=_ref5=>{let{productId,navigate}=_ref5;const[utmParams,setUtmParams]=useState(null);// Keep this state for UTMs\nconst{cart,setCart}=useContext(CartContext);const product=products.find(p=>p.id===productId);useEffect(()=>{// Campaign Attribution Recorded (if UTMs are present) - Now triggered by the ProductDetailPage loading\n// and checking for UTMs, which is a page-specific attribution, not a general \"track\" event on mount.\n// This is a special case where the \"track\" event is directly related to the URL state.\nif(window.analytics&&product){const hashParts=window.location.hash.split('?');const queryString=hashParts.length>1?hashParts[1]:'';const params=new URLSearchParams(queryString);const parsedUtm={};for(let[key,value]of params.entries()){if(key.startsWith('utm_')||key.startsWith('gad_')||key.startsWith('gclid')||key.startsWith('gbraid')){parsedUtm[key]=value;}}if(Object.keys(parsedUtm).length>0){setUtmParams(parsedUtm);// Update state with parsed UTMs\nwindow.analytics.track('Campaign Attribution Recorded',{product_id:product.id,product_name:product.name,...parsedUtm});}else{setUtmParams(null);// Clear if no UTMs are present\n}}},[productId,product]);// Depend on productId and product only for this effect\nif(!product){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6 text-center text-red-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"Product Not Found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"mt-4 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\",children:\"Back to Home\"})]});}const handleAddToCart=()=>{const existingItem=cart.find(item=>item.id===product.id);if(existingItem){setCart(cart.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item));}else{setCart([...cart,{...product,quantity:1}]);}// Product Added event\nif(window.analytics){window.analytics.track('Product Added',{cart_id:'brandazon_cart_id',// Placeholder cart ID\nproducts:[formatProductForSegment(product,1)]// Always add 1 unit per click\n});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start gap-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name,className:\"w-full md:w-1/2 lg:w-1/3 h-auto object-cover rounded-lg shadow-md\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/400x400/CCCCCC/000000?text=Image+Not+Found`;}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-4\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-lg mb-6\",children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-4xl font-bold text-purple-700 mb-6\",children:[\"$\",product.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"bg-purple-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"ml-4 bg-gray-300 text-gray-800 py-3 px-8 rounded-lg text-xl font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"Back to Home\"})]})]})});};const CartPage=_ref6=>{let{navigate}=_ref6;const{cart,setCart}=useContext(CartContext);// Removed Cart Viewed event from useEffect\n// It's generally better to track Cart Viewed as part of a page() call or\n// only when the user explicitly interacts with the cart (e.g., clicks a \"View Cart\" button)\nconst updateQuantity=(id,delta)=>{const item=cart.find(i=>i.id===id);if(!item)return;const newQuantity=item.quantity+delta;if(newQuantity<=0){// Product Removed event\nif(window.analytics){window.analytics.track('Product Removed',{cart_id:'brandazon_cart_id',products:[formatProductForSegment(item,item.quantity)]// Track original quantity being removed\n});}setCart(cart.filter(i=>i.id!==id));}else{setCart(cart.map(i=>i.id===id?{...i,quantity:newQuantity}:i));if(delta>0){// Product Added event (for quantity increase)\nif(window.analytics){window.analytics.track('Product Added',{cart_id:'brandazon_cart_id',products:[formatProductForSegment(item,1)]// Track 1 unit added\n});}}else{// Product Removed event (for quantity decrease)\nif(window.analytics){window.analytics.track('Product Removed',{cart_id:'brandazon_cart_id',products:[formatProductForSegment(item,1)]// Track 1 unit removed\n});}}}};const removeItem=id=>{const itemToRemove=cart.find(item=>item.id===id);if(itemToRemove){// Product Removed event (for full item removal)\nif(window.analytics){window.analytics.track('Product Removed',{cart_id:'brandazon_cart_id',products:[formatProductForSegment(itemToRemove,itemToRemove.quantity)]});}setCart(cart.filter(item=>item.id!==id));}};const totalAmount=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);const handleCheckout=()=>{// Checkout Started event\nif(window.analytics){window.analytics.track('Checkout Started',{order_id:`ORDER-${Date.now()}-${Math.floor(Math.random()*1000)}`,// Generate a unique order_id\naffiliation:'Brandazon Online Store',value:totalAmount,revenue:totalAmount,// Assuming no separate discounts/taxes for simplicity here\nshipping:0,// Placeholder\ntax:0,// Placeholder\ndiscount:0,// Placeholder\ncurrency:'USD',products:cart.map(item=>formatProductForSegment(item,item.quantity))});}navigate('checkout');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"Your Shopping Cart\"}),cart.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-600 text-xl\",children:[\"Your cart is empty. \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"text-blue-600 hover:underline\",children:\"Start shopping!\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.name,className:\"w-20 h-20 object-cover rounded-lg shadow-sm\",onError:e=>{e.target.onerror=null;e.target.src=`https://placehold.co/80x80/CCCCCC/000000?text=Img`;}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"$\",item.price.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border border-gray-300 rounded-md\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,-1),className:\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-md\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 border-x border-gray-300\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,1),className:\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-md\",children:\"+\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-purple-700 w-24 text-right\",children:[\"$\",(item.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItem(item.id),className:\"text-red-500 hover:text-red-700 transition duration-300\",title:\"Remove item\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center mt-8 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 mr-4\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-extrabold text-purple-800\",children:[\"$\",totalAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end mt-6 space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Continue Shopping\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckout,disabled:cart.length===0,className:`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length===0?'bg-gray-400 text-gray-600 cursor-not-allowed':'bg-green-600 text-white hover:bg-green-700'}`,children:\"Proceed to Checkout\"})]})]})]});};const CheckoutPage=_ref7=>{let{navigate}=_ref7;const{cart,setCart}=useContext(CartContext);const[orderPlaced,setOrderPlaced]=useState(false);const totalAmount=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);useEffect(()=>{// Placeholder for user ID - In a real app, this would come from an auth system\nconst userId='user_12345';const userTraits={email:'user@example.com',name:'John Doe'};// Identify call on checkout page load (or when user logs in/is identified)\nif(window.analytics){window.analytics.identify(userId,userTraits);}// Removed Checkout Step Viewed event from useEffect\n},[]);// Only on mount\nconst handlePlaceOrder=()=>{const orderId=`ORDER-${Date.now()}-${Math.floor(Math.random()*1000)}`;const revenue=totalAmount;const shipping=0;const tax=0;const discount=0;const coupon='N/A';// Payment Info Entered event (simulated before Order Completed)\nif(window.analytics){window.analytics.track('Payment Info Entered',{checkout_id:'brandazon_checkout_id',order_id:orderId,payment_method:'Credit Card'// Placeholder\n});}// Order Completed event\nif(window.analytics){window.analytics.track('Order Completed',{checkout_id:'brandazon_checkout_id',order_id:orderId,affiliation:'Brandazon Online Store',total:totalAmount+shipping+tax-discount,subtotal:totalAmount,revenue:revenue,shipping:shipping,tax:tax,discount:discount,coupon:coupon,currency:'USD',products:cart.map(item=>formatProductForSegment(item,item.quantity))});}setOrderPlaced(true);setCart([]);// Clear cart after purchase\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8 text-center\",children:\"Checkout\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:orderPlaced?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-green-700 text-2xl font-semibold\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"\\uD83C\\uDF89 Your order has been placed successfully!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for shopping with Brandazon!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('home'),className:\"mt-8 bg-purple-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Continue Shopping\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Order Summary\"}),cart.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Your cart is empty. Please add items before checking out.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between text-gray-700 text-lg\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" (x\",item.quantity,\")\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",(item.price*item.quantity).toFixed(2)]})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-6 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 mr-4\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-extrabold text-purple-800\",children:[\"$\",totalAmount.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Shipping Information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullName\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"fullName\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"John Doe\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"123 Main St\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"Anytown\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zip\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Zip Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"zip\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"12345\",required:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Payment Information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cardNumber\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Card Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cardNumber\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"**** **** **** ****\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expiryDate\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Expiry Date (MM/YY)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"expiryDate\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"12/25\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cvv\",className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"CVV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cvv\",className:\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"123\",required:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('cart'),className:\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\",children:\"Back to Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePlaceOrder,disabled:cart.length===0,className:`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length===0?'bg-gray-400 text-gray-600 cursor-not-allowed':'bg-green-600 text-white hover:bg-green-700'}`,children:\"Place Order\"})]})]})})]});};const SimulatedSearchEnginePage=_ref8=>{let{products}=_ref8;const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{// Page view for Simulated Search Engine (this is a page, not a track event on mount)\nif(window.analytics){window.analytics.page('Marketing','Simulated Search Engine Page',{path:window.location.pathname+window.location.hash,url:window.location.href});}},[]);const handleAdClick=()=>{const lowerCaseSearchTerm=searchTerm.toLowerCase();let targetProductId='labubu-blind-box-series-8';// Default Labubu product\nconst matchedProduct=products.find(p=>p.name.toLowerCase().includes(lowerCaseSearchTerm)||p.description.toLowerCase().includes(lowerCaseSearchTerm)||p.category.toLowerCase().includes(lowerCaseSearchTerm));if(matchedProduct){targetProductId=matchedProduct.id;}// Products Searched event (triggered by click)\nif(window.analytics){window.analytics.track('Products Searched',{query:searchTerm.trim()});}// Construct the query parameters string\nconst queryParams=new URLSearchParams();queryParams.append('utm_source','google');queryParams.append('utm_medium','cpc');queryParams.append('utm_campaign','labubu_launch_q3');queryParams.append('utm_content','search_ad_banner');queryParams.append('utm_term',searchTerm.trim()||'default_search_term');queryParams.append('gad_source','1');queryParams.append('gad_campaignid','22690431292');queryParams.append('gbraid','0AAAAApZoGaVNZnuRe968aNy6x-Z4Y9TI6');queryParams.append('gclid','CjwKCAjw1ozEBhAdEiwAn9qbzT99fJagIv7foNLlQnHysh63ZqtvIRL_hVhVDsUw_948_5Hs1WQu-BoCZCYQAvD_BwE');// Example GCLID\nconst baseUrl=window.location.origin+window.location.pathname;const constructedUrl=`${baseUrl}#/product/${targetProductId}?${queryParams.toString()}`;window.location.href=constructedUrl;};return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-6 flex flex-col items-center justify-center min-h-[60vh]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-gray-900 mb-8\",children:\"Simulate a Search Engine Ad\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-lg mb-6\",children:\"Type a search query below and click \\\"Simulate Ad Click\\\" to see how UTM parameters would be passed to Brandazon.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 mb-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"flex-grow shadow appearance-none border rounded-lg py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"e.g., Labubu, Earbuds, Monopoly\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onKeyPress:e=>{if(e.key==='Enter')handleAdClick();}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAdClick,className:\"bg-blue-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\",children:\"Simulate Ad Click\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"(This will change the URL in your browser's address bar and navigate to the product page.)\"})]})});};// --- Main App Component ---\nconst App=()=>{// We'll manage routing based on window.location.hash directly\nconst[currentPage,setCurrentPage]=useState('home');const[selectedProductId,setSelectedProductId]=useState(null);const[cart,setCart]=useState([]);// Effect to handle initial page load and hash changes for routing and Segment page calls\nuseEffect(()=>{const handleNavigationAndTracking=()=>{const hash=window.location.hash;let pageName='';let pageCategory='';let currentProductId=null;// To store product ID if on product detail page\nif(hash.startsWith('#/product/')){const productIdFromHash=hash.split('?')[0].replace('#/product/','');setCurrentPage('productDetail');currentProductId=productIdFromHash;setSelectedProductId(productIdFromHash);pageName='Product Detail Page';pageCategory='E-commerce';}else if(hash==='#/products'){setCurrentPage('products');setSelectedProductId(null);pageName='All Products Page';pageCategory='E-commerce';}else if(hash==='#/simulatedSearch'){setCurrentPage('simulatedSearch');setSelectedProductId(null);pageName='Simulated Search Engine Page';pageCategory='Marketing';}else if(hash==='#/cart'){setCurrentPage('cart');setSelectedProductId(null);pageName='Cart Page';pageCategory='E-commerce';}else if(hash==='#/checkout'){setCurrentPage('checkout');setSelectedProductId(null);pageName='Checkout Page';pageCategory='E-commerce';}else{setCurrentPage('home');setSelectedProductId(null);pageName='Home Page';pageCategory='E-commerce';}// Segment Page call for every route change, including initial load after refresh\nif(window.analytics){window.analytics.page(pageCategory,pageName,{path:window.location.pathname+window.location.hash,url:window.location.href,// Add product_id to page properties if on product detail page\n...(currentProductId&&{product_id:currentProductId})});}};// Set initial page and trigger Segment page call on component mount (after refresh)\nhandleNavigationAndTracking();// Listen for hash changes for subsequent in-app navigation\nwindow.addEventListener('hashchange',handleNavigationAndTracking);// Cleanup listener\nreturn()=>{window.removeEventListener('hashchange',handleNavigationAndTracking);};},[]);// Run once on mount\n// Placeholder for initial user identification (e.g., on first load or after login)\nuseEffect(()=>{const anonymousId=localStorage.getItem('anonymousId');if(!anonymousId){const newAnonymousId=`anon-${Date.now()}-${Math.floor(Math.random()*100000)}`;localStorage.setItem('anonymousId',newAnonymousId);if(window.analytics){window.analytics.identify(newAnonymousId);}}else{if(window.analytics){window.analytics.identify(anonymousId);}}if(window.analytics){window.analytics.track('Application Loaded');}},[]);// Internal navigation function (for internal app links)\nconst navigate=function(page){let productId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let newHash='';switch(page){case'home':newHash='';// Empty hash for home\nbreak;case'products':newHash='#/products';break;case'simulatedSearch':newHash='#/simulatedSearch';break;case'productDetail':newHash=`#/product/${productId}`;break;case'cart':newHash='#/cart';break;case'checkout':newHash='#/checkout';break;default:newHash='';}window.location.hash=newHash;// Update hash, which will trigger handleNavigationAndTracking\n};const cartItemCount=cart.reduce((count,item)=>count+item.quantity,0);return(/*#__PURE__*/// Provide the cart context to all child components\n_jsx(CartContext.Provider,{value:{cart,setCart},children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 font-inter antialiased\",children:[/*#__PURE__*/_jsx(\"style\",{children:`\n            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n          `}),/*#__PURE__*/_jsx(Header,{navigate:navigate,cartItemCount:cartItemCount}),/*#__PURE__*/_jsx(\"main\",{className:\"py-8\",children:(()=>{switch(currentPage){case'home':return/*#__PURE__*/_jsx(HomePage,{navigate:navigate});case'products':return/*#__PURE__*/_jsx(ProductsPage,{navigate:navigate});case'simulatedSearch':return/*#__PURE__*/_jsx(SimulatedSearchEnginePage,{products:products});// Pass products to SimulatedSearchEnginePage\ncase'productDetail':// ProductDetailPage now reads its own productId and UTMs from the URL\nreturn/*#__PURE__*/_jsx(ProductDetailPage,{productId:selectedProductId,navigate:navigate});case'cart':return/*#__PURE__*/_jsx(CartPage,{navigate:navigate});case'checkout':return/*#__PURE__*/_jsx(CheckoutPage,{navigate:navigate});default:return/*#__PURE__*/_jsx(HomePage,{navigate:navigate});}})()})]})}));};export default App;","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartContext","formatProductForSegment","product","quantity","arguments","length","undefined","position","product_id","id","sku","category","name","brand","variant","price","url","window","location","origin","pathname","image_url","imageUrl","products","description","featuredProducts","filter","toLowerCase","includes","Header","_ref","navigate","cartItemCount","className","children","onClick","PartnershipBanner","handleShopNowClick","analytics","track","promotion_id","creative","src","alt","onError","e","target","onerror","ProductCard","_ref2","cart","setCart","handleAddToCart","existingItem","find","item","map","cart_id","handleViewDetails","currency","value","toFixed","HomePage","_ref3","index","ProductsPage","_ref4","ProductDetailPage","_ref5","productId","utmParams","setUtmParams","p","hashParts","hash","split","queryString","params","URLSearchParams","parsedUtm","key","entries","startsWith","Object","keys","product_name","CartPage","_ref6","updateQuantity","delta","i","newQuantity","removeItem","itemToRemove","totalAmount","reduce","sum","handleCheckout","order_id","Date","now","Math","floor","random","affiliation","revenue","shipping","tax","discount","title","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","CheckoutPage","_ref7","orderPlaced","setOrderPlaced","userId","userTraits","email","identify","handlePlaceOrder","orderId","coupon","checkout_id","payment_method","total","subtotal","htmlFor","type","placeholder","required","SimulatedSearchEnginePage","_ref8","searchTerm","setSearchTerm","page","path","href","handleAdClick","lowerCaseSearchTerm","targetProductId","matchedProduct","query","trim","queryParams","append","baseUrl","constructedUrl","toString","onChange","onKeyPress","App","currentPage","setCurrentPage","selectedProductId","setSelectedProductId","handleNavigationAndTracking","pageName","pageCategory","currentProductId","productIdFromHash","replace","addEventListener","removeEventListener","anonymousId","localStorage","getItem","newAnonymousId","setItem","newHash","count","Provider"],"sources":["/Users/brandoncaudillo/Development/code/data_science_backup/Data-Science-Portfolio/brandazon-ecommerce/src/app.jsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\n\n// --- Global Context for Cart Management ---\nconst CartContext = createContext();\n\n// --- Helper to format product data for Segment events ---\nconst formatProductForSegment = (product, quantity = 1, position = null) => {\n  return {\n    product_id: product.id,\n    sku: product.sku,\n    category: product.category,\n    name: product.name,\n    brand: product.brand,\n    variant: product.variant,\n    price: product.price,\n    quantity: quantity,\n    // coupon: product.coupon, // Add if coupons are implemented per product\n    position: position,\n    url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`, // Dynamic URL\n    image_url: product.imageUrl,\n  };\n};\n\n// --- Expanded Product Data ---\nconst products = [\n  {\n    id: 'monopoly-3rd-edition',\n    name: 'Monopoly: 3rd Edition',\n    description: 'The classic board game of property trading, updated with new tokens and rules for the 3rd edition.',\n    price: 29.99,\n    imageUrl: 'https://placehold.co/300x300/F0F8FF/000000?text=Monopoly+3rd',\n    category: 'Games',\n    sku: 'GM-MONO-001',\n    brand: 'Hasbro',\n    variant: 'Standard'\n  },\n  {\n    id: 'uno-card-game',\n    name: 'Uno Card Game',\n    description: 'The timeless card game of matching colors and numbers. Easy to pick up, impossible to put down!',\n    price: 9.99,\n    imageUrl: 'https://placehold.co/300x300/E6E6FA/000000?text=Uno+Cards',\n    category: 'Games',\n    sku: 'GM-UNO-001',\n    brand: 'Mattel',\n    variant: 'Standard'\n  },\n  {\n    id: 'special-facial-soap',\n    name: 'Special Facial Soap',\n    description: 'Gentle and effective facial soap designed for all skin types, leaving your face feeling fresh and clean.',\n    price: 12.50,\n    imageUrl: 'https://placehold.co/300x300/F5F5DC/000000?text=Facial+Soap',\n    category: 'Beauty',\n    sku: 'BT-SOAP-001',\n    brand: 'PureSkin',\n    variant: 'Unscented'\n  },\n  {\n    id: 'fancy-hairbrush',\n    name: 'Fancy Hairbrush',\n    description: 'Ergonomically designed hairbrush with natural bristles for smooth, tangle-free hair.',\n    price: 18.00,\n    imageUrl: 'https://placehold.co/300x300/FFF0F5/000000?text=Hairbrush',\n    category: 'Beauty',\n    sku: 'BT-HBRUSH-001',\n    brand: 'GlamLocks',\n    variant: 'Large'\n  },\n  {\n    id: 'labubu-blind-box-series-8',\n    name: 'Labubu Blind Box Series 8',\n    description: 'Discover the magic of Labubu with a surprise figure from Series 8. Collect them all!',\n    price: 16.99,\n    imageUrl: 'https://placehold.co/300x300/ADD8E6/000000?text=Labubu+Series+8',\n    category: 'Collectible',\n    sku: 'COL-LABU-S8',\n    brand: 'Popmart',\n    variant: 'Blind Box'\n  },\n  {\n    id: 'labubu-ghost-hunter-plush',\n    name: 'Labubu Ghost Hunter Plush',\n    description: 'Cuddly Labubu plush in a spooky ghost hunter outfit. Perfect for fans and collectors.',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/B0E0E6/000000?text=Labubu+Ghost',\n    category: 'Collectible',\n    sku: 'COL-LABU-GH',\n    brand: 'Popmart',\n    variant: 'Plush'\n  },\n  {\n    id: 'labubu-plush-keychain',\n    name: 'Labubu Plush Keychain',\n    description: 'Take Labubu with you everywhere with this adorable plush keychain. A small but mighty collectible.',\n    price: 9.50,\n    imageUrl: 'https://placehold.co/300x300/87CEEB/000000?text=Labubu+Keychain',\n    category: 'Collectible',\n    sku: 'COL-LABU-KC',\n    brand: 'Popmart',\n    variant: 'Keychain'\n  },\n  {\n    id: 'electric-pour-over-kettle',\n    name: 'Electric Pour-over Kettle',\n    description: 'Precision temperature control for the perfect pour-over coffee. Sleek design for any kitchen.',\n    price: 59.99,\n    imageUrl: 'https://placehold.co/300x300/6495ED/000000?text=Pour-over+Kettle',\n    category: 'Kitchen',\n    sku: 'KCH-KETTLE-001',\n    brand: 'BrewMaster',\n    variant: 'Black'\n  },\n  {\n    id: 'retro-gaming-mousepad',\n    name: 'Retro Gaming Mousepad',\n    description: 'Large mousepad with a nostalgic retro gaming design. Smooth surface for optimal mouse control.',\n    price: 14.99,\n    imageUrl: 'https://placehold.co/300x300/4682B4/000000?text=Retro+Mousepad',\n    category: 'Electronics',\n    sku: 'EL-MPAD-001',\n    brand: 'GameGear',\n    variant: 'Large'\n  },\n  {\n    id: 'airpods-pro-3rd-gen',\n    name: 'AirPods Pro 3rd Gen',\n    description: 'Immersive sound with active noise cancellation. The latest generation for superior audio experience.',\n    price: 249.00,\n    imageUrl: 'https://placehold.co/300x300/5F9EA0/000000?text=AirPods+Pro',\n    category: 'Electronics',\n    sku: 'EL-AIRPODS-003',\n    brand: 'Apple',\n    variant: 'Pro'\n  },\n  {\n    id: 'nintendo-switch-lite',\n    name: 'Nintendo Switch Lite',\n    description: 'Compact, lightweight Nintendo Switch system dedicated to handheld play. Perfect for gaming on the go.',\n    price: 199.99,\n    imageUrl: 'https://placehold.co/300x300/7FFFD4/000000?text=Switch+Lite',\n    category: 'Electronics',\n    sku: 'GM-SWITCHL-001',\n    brand: 'Nintendo',\n    variant: 'Yellow'\n  },\n  {\n    id: 'collectible-ceramic-mug',\n    name: 'Collectible Ceramic Mug',\n    description: 'High-quality ceramic mug with a unique design, perfect for collectors or daily use.',\n    price: 11.99,\n    imageUrl: 'https://placehold.co/300x300/AFEEEE/000000?text=Ceramic+Mug',\n    category: 'Collectible',\n    sku: 'COL-MUG-001',\n    brand: 'ArtisanCraft',\n    variant: 'Standard'\n  },\n  {\n    id: 'summer-splash-towel',\n    name: 'Summer Splash Towel',\n    description: 'Ultra-absorbent and quick-drying towel, ideal for beach days, pool parties, or gym sessions.',\n    price: 19.99,\n    imageUrl: 'https://placehold.co/300x300/00CED1/000000?text=Splash+Towel',\n    category: 'Home Goods',\n    sku: 'HG-TOWEL-001',\n    brand: 'AquaDry',\n    variant: 'Beach'\n  },\n  {\n    id: 'holiday-cookie-tin',\n    name: 'Holiday Cookie Tin',\n    description: 'A festive tin filled with an assortment of delicious holiday cookies. Great for gifting!',\n    price: 15.00,\n    imageUrl: 'https://placehold.co/300x300/40E0D0/000000?text=Cookie+Tin',\n    category: 'Food',\n    sku: 'FD-COOKIE-001',\n    brand: 'SweetTreats',\n    variant: 'Assorted'\n  },\n  {\n    id: 'wireless-pet-tracker',\n    name: 'Wireless Pet Tracker',\n    description: 'Keep track of your furry friend with this compact and reliable wireless pet tracker.',\n    price: 45.00,\n    imageUrl: 'https://placehold.co/300x300/20B2AA/000000?text=Pet+Tracker',\n    category: 'Pet Supplies',\n    sku: 'PET-TRACK-001',\n    brand: 'PetSafe',\n    variant: 'GPS'\n  },\n  {\n    id: 'smart-home-hub-mini',\n    name: 'Smart Home Hub Mini',\n    description: 'Centralize your smart home devices with this mini hub. Control lights, thermostats, and more.',\n    price: 79.99,\n    imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Smart+Hub',\n    category: 'Smart Home',\n    sku: 'SMART-HUB-001',\n    brand: 'ConnectHome',\n    variant: 'Mini'\n  },\n  {\n    id: 'mystery-snack-pack',\n    name: 'Mystery Snack Pack',\n    description: 'A surprise assortment of delicious and unique snacks from around the world. What will you get?',\n    price: 10.00,\n    imageUrl: 'https://placehold.co/300x300/98FB98/000000?text=Mystery+Snack',\n    category: 'Food',\n    sku: 'FD-SNACK-001',\n    brand: 'GlobalBites',\n    variant: 'Assorted'\n  },\n  {\n    id: 'stainless-steel-tumbler',\n    name: 'Stainless Steel Tumbler',\n    description: 'Double-walled insulated tumbler to keep your drinks hot or cold for hours. Perfect for on-the-go.',\n    price: 22.99,\n    imageUrl: 'https://placehold.co/300x300/ADFF2F/000000?text=Steel+Tumbler',\n    category: 'Home Goods',\n    sku: 'HG-TUMBLER-001',\n    brand: 'HydratePro',\n    variant: '20oz'\n  },\n  {\n    id: 'rechargeable-hand-warmer',\n    name: 'Rechargeable Hand Warmer',\n    description: 'Stay warm in cold weather with this portable and rechargeable hand warmer. Reusable and eco-friendly.',\n    price: 28.00,\n    imageUrl: 'https://placehold.co/300x300/7CFC00/000000?text=Hand+Warmer',\n    category: 'Outdoor',\n    sku: 'OUT-HWARM-001',\n    brand: 'WarmHands',\n    variant: 'USB'\n  },\n  {\n    id: 'super-soft-throw-blanket',\n    name: 'Super Soft Throw Blanket',\n    description: 'Luxuriously soft throw blanket, perfect for cozying up on the couch or adding a touch of comfort to any room.',\n    price: 35.00,\n    imageUrl: 'https://placehold.co/300x300/00FF7F/000000?text=Throw+Blanket',\n    category: 'Home Goods',\n    sku: 'HG-BLANKET-001',\n    brand: 'CozyHome',\n    variant: 'Fleece'\n  },\n  {\n    id: 'labubu-golden-edition-figure',\n    name: 'Labubu Golden Edition Figure',\n    description: 'A rare and exclusive golden edition Labubu figure. A must-have for serious collectors!',\n    price: 49.99,\n    imageUrl: 'https://placehold.co/300x300/32CD32/000000?text=Labubu+Golden',\n    category: 'Collectible',\n    sku: 'COL-LABU-GOLD',\n    brand: 'Popmart',\n    variant: 'Golden'\n  },\n  {\n    id: 'wireless-earbuds-gen2',\n    name: 'Wireless Earbuds Gen2',\n    description: 'Second generation wireless earbuds with enhanced sound quality and longer battery life.',\n    price: 89.99,\n    imageUrl: 'https://placehold.co/300x300/228B22/000000?text=Earbuds+Gen2',\n    category: 'Electronics',\n    sku: 'EL-EARBUDS-002',\n    brand: 'AudioPro',\n    variant: 'Black'\n  },\n  {\n    id: 'led-desk-lamp-pro',\n    name: 'LED Desk Lamp Pro',\n    description: 'Adjustable LED desk lamp with multiple brightness and color temperature settings. Perfect for work or study.',\n    price: 49.00,\n    imageUrl: 'https://placehold.co/300x300/008000/000000?text=Desk+Lamp+Pro',\n    category: 'Home Office',\n    sku: 'HO-LAMP-001',\n    brand: 'BrightDesk',\n    variant: 'Pro'\n  },\n  {\n    id: 'ergonomic-office-chair',\n    name: 'Ergonomic Office Chair',\n    description: 'Comfortable and supportive office chair designed for long hours of work. Promotes good posture.',\n    price: 199.00,\n    imageUrl: 'https://placehold.co/300x300/006400/000000?text=Office+Chair',\n    category: 'Home Office',\n    sku: 'HO-OCHAIR-001',\n    brand: 'ErgoSit',\n    variant: 'Mesh'\n  },\n  {\n    id: 'bluetooth-speaker-splash',\n    name: 'Bluetooth Speaker Splash',\n    description: 'Waterproof portable Bluetooth speaker with powerful sound. Ideal for outdoor adventures.',\n    price: 65.00,\n    imageUrl: 'https://placehold.co/300x300/2E8B57/000000?text=Bluetooth+Speaker',\n    category: 'Electronics',\n    sku: 'EL-SPEAKER-001',\n    brand: 'SoundWave',\n    variant: 'Waterproof'\n  },\n  {\n    id: 'crystal-growing-kit',\n    name: 'Crystal Growing Kit',\n    description: 'Fun and educational kit for growing your own beautiful crystals. A great science project for kids.',\n    price: 20.00,\n    imageUrl: 'https://placehold.co/300x300/3CB371/000000?text=Crystal+Kit',\n    category: 'Toys & Hobbies',\n    sku: 'TH-CRYSTAL-001',\n    brand: 'ScienceFun',\n    variant: 'Large'\n  },\n  {\n    id: 'build-your-own-robot-kit',\n    name: 'Build-Your-Own Robot Kit',\n    description: 'Assemble your own functional robot with this engaging and educational kit. Learn about robotics.',\n    price: 75.00,\n    imageUrl: 'https://placehold.co/300x300/66CDAA/000000?text=Robot+Kit',\n    category: 'Toys & Hobbies',\n    sku: 'TH-ROBOT-001',\n    brand: 'RoboKids',\n    variant: 'Beginner'\n  },\n  {\n    id: 'color-changing-mug',\n    name: 'Color-Changing Mug',\n    description: 'Watch your mug transform as you pour in hot liquids! A magical addition to your morning routine.',\n    price: 14.00,\n    imageUrl: 'https://placehold.co/300x300/8FBC8F/000000?text=Color+Mug',\n    category: 'Home Goods',\n    sku: 'HG-MUG-001',\n    brand: 'MagicMugs',\n    variant: 'Heat Reveal'\n  },\n  {\n    id: 'fashion-face-mask-3-pack',\n    name: 'Fashion Face Mask (3-pack)',\n    description: 'Stylish and comfortable reusable face masks. Comes in a pack of three with assorted designs.',\n    price: 18.00,\n    imageUrl: 'https://placehold.co/300x300/90EE90/000000?text=Face+Masks',\n    category: 'Apparel',\n    sku: 'APP-MASK-001',\n    brand: 'StyleWear',\n    variant: 'Assorted'\n  },\n  {\n    id: 'mini-projector-hd',\n    name: 'Mini Projector HD',\n    description: 'Compact and portable HD projector for movies, presentations, or gaming on the go.',\n    price: 120.00,\n    imageUrl: 'https://placehold.co/300x300/9ACD32/000000?text=Mini+Projector',\n    category: 'Electronics',\n    sku: 'EL-PROJECTOR-001',\n    brand: 'ViewMax',\n    variant: 'HD'\n  },\n  {\n    id: 'doggo-deluxe-bed',\n    name: 'Doggo Deluxe Bed',\n    description: 'Plush and supportive bed for your beloved canine companion. Provides ultimate comfort.',\n    price: 55.00,\n    imageUrl: 'https://placehold.co/300x300/6B8E23/000000?text=Dog+Bed',\n    category: 'Pet Supplies',\n    sku: 'PET-DBED-001',\n    brand: 'ComfyPaws',\n    variant: 'Large'\n  },\n  {\n    id: 'cat-castle-tower',\n    name: 'Cat Castle Tower',\n    description: 'Multi-level cat tower with scratching posts, perches, and hideaways for endless feline fun.',\n    price: 85.00,\n    imageUrl: 'https://placehold.co/300x300/808000/000000?text=Cat+Tower',\n    category: 'Pet Supplies',\n    sku: 'PET-CTOWER-001',\n    brand: 'KittyKingdom',\n    variant: 'Multi-level'\n  },\n  {\n    id: 'all-season-yoga-mat',\n    name: 'All-Season Yoga Mat',\n    description: 'Durable and comfortable yoga mat suitable for all seasons and various types of workouts.',\n    price: 29.99,\n    imageUrl: 'https://placehold.co/300x300/BDB76B/000000?text=Yoga+Mat',\n    category: 'Sports & Fitness',\n    sku: 'SF-YOGA-001',\n    brand: 'ZenFit',\n    variant: 'Standard'\n  },\n  {\n    id: 'travel-packing-cubes',\n    name: 'Travel Packing Cubes',\n    description: 'Organize your luggage with these versatile packing cubes. Maximize space and minimize wrinkles.',\n    price: 24.99,\n    imageUrl: 'https://placehold.co/300x300/DAA520/000000?text=Packing+Cubes',\n    category: 'Travel',\n    sku: 'TRVL-PCUBE-001',\n    brand: 'PackSmart',\n    variant: 'Set of 3'\n  },\n  {\n    id: 'smart-plant-sensor',\n    name: 'Smart Plant Sensor',\n    description: 'Monitor your plant\\'s health with this smart sensor. Provides data on light, moisture, and nutrients.',\n    price: 39.99,\n    imageUrl: 'https://placehold.co/300x300/FFD700/000000?text=Plant+Sensor',\n    category: 'Smart Home',\n    sku: 'SMART-PLANT-001',\n    brand: 'GreenThumb',\n    variant: 'Basic'\n  },\n  {\n    id: 'pop-culture-puzzle-set',\n    name: 'Pop Culture Puzzle Set',\n    description: 'Challenging puzzle set featuring iconic pop culture references. Great for movie and TV enthusiasts.',\n    price: 22.00,\n    imageUrl: 'https://placehold.co/300x300/FFA500/000000?text=Pop+Puzzle',\n    category: 'Games',\n    sku: 'GM-PUZZLE-001',\n    brand: 'NerdPuzzles',\n    variant: '1000pc'\n  },\n  {\n    id: 'classic-denim-jacket',\n    name: 'Classic Denim Jacket',\n    description: 'Timeless denim jacket, a versatile wardrobe staple for any season. Available in various washes.',\n    price: 69.00,\n    imageUrl: 'https://placehold.co/300x300/FF8C00/000000?text=Denim+Jacket',\n    category: 'Apparel',\n    sku: 'APP-DENIM-001',\n    brand: 'FashionCo',\n    variant: 'Blue'\n  },\n  {\n    id: 'pocket-blender-pro',\n    name: 'Pocket Blender Pro',\n    description: 'Compact and powerful personal blender, perfect for smoothies on the go. Rechargeable battery.',\n    price: 39.99,\n    imageUrl: 'https://placehold.co/300x300/FF4500/000000?text=Pocket+Blender',\n    category: 'Kitchen',\n    sku: 'KCH-PBLEND-001',\n    brand: 'BlendGo',\n    variant: 'Pro'\n  },\n  {\n    id: 'microfiber-cleaning-slippers',\n    name: 'Microfiber Cleaning Slippers',\n    description: 'Clean your floors effortlessly while you walk with these innovative microfiber cleaning slippers.',\n    price: 15.00,\n    imageUrl: 'https://placehold.co/300x300/FF6347/000000?text=Cleaning+Slippers',\n    category: 'Home Goods',\n    sku: 'HG-SLIPPER-001',\n    brand: 'CleanFeet',\n    variant: 'Grey'\n  },\n  {\n    id: 'personal-blender-bottle',\n    name: 'Personal Blender Bottle',\n    description: 'A convenient blender bottle for quick shakes and smoothies. Easy to clean and portable.',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/CD5C5C/000000?text=Blender+Bottle',\n    category: 'Kitchen',\n    sku: 'KCH-BOTTLE-001',\n    brand: 'ShakeIt',\n    variant: '24oz'\n  },\n  {\n    id: 'wireless-charging-pad',\n    name: 'Wireless Charging Pad',\n    description: 'Fast and efficient wireless charging pad for compatible smartphones and devices.',\n    price: 29.00,\n    imageUrl: 'https://placehold.co/300x300/DC143C/000000?text=Charging+Pad',\n    category: 'Electronics',\n    sku: 'EL-CHARGE-001',\n    brand: 'PowerUp',\n    variant: 'Fast'\n  },\n  {\n    id: 'kitchen-chef-knife-set',\n    name: 'Kitchen Chef Set',\n    description: 'Professional-grade chef knife set with essential knives for every culinary task. High-quality steel.',\n    price: 89.99,\n    imageUrl: 'https://placehold.co/300x300/B22222/000000?text=Knife+Set',\n    category: 'Kitchen',\n    sku: 'KCH-KNIFE-001',\n    brand: 'ChefPro',\n    variant: '5-piece'\n  },\n  {\n    id: 'instant-cold-brew-maker',\n    name: 'Instant Cold Brew Maker',\n    description: 'Make delicious cold brew coffee at home in minutes with this easy-to-use instant maker.',\n    price: 34.99,\n    imageUrl: 'https://placehold.co/300x300/8B0000/000000?text=Cold+Brew+Maker',\n    category: 'Kitchen',\n    sku: 'KCH-COLDBREW-001',\n    brand: 'BrewQuick',\n    variant: 'Standard'\n  },\n  {\n    id: 'uv-sanitizing-box',\n    name: 'UV Sanitizing Box',\n    description: 'Sterilize your phone, keys, and other small items with powerful UV-C light. Keep germs at bay.',\n    price: 49.99,\n    imageUrl: 'https://placehold.co/300x300/A52A2A/000000?text=UV+Sanitizer',\n    category: 'Health & Personal Care',\n    sku: 'HPC-UVSAN-001',\n    brand: 'CleanTech',\n    variant: 'Compact'\n  },\n  {\n    id: 'portable-fire-pit',\n    name: 'Portable Fire Pit',\n    description: 'Enjoy cozy evenings outdoors with this compact and easy-to-assemble portable fire pit.',\n    price: 79.00,\n    imageUrl: 'https://placehold.co/300x300/D2B48C/000000?text=Fire+Pit',\n    category: 'Outdoor',\n    sku: 'OUT-FIREPIT-001',\n    brand: 'CampFire',\n    variant: 'Portable'\n  },\n  {\n    id: 'commuter-insulated-backpack',\n    name: 'Commuter Insulated Backpack',\n    description: 'Keep your food and drinks cool on the go with this stylish and insulated commuter backpack.',\n    price: 59.00,\n    imageUrl: 'https://placehold.co/300x300/F4A460/000000?text=Insulated+Backpack',\n    category: 'Travel',\n    sku: 'TRVL-BPACK-001',\n    brand: 'GoPack',\n    variant: 'Insulated'\n  },\n  {\n    id: 'labubu-vampire-bunny-plush',\n    name: 'Labubu Vampire Bunny Plush',\n    description: 'A special edition Labubu plush, dressed as a charming vampire bunny. Spooky and cute!',\n    price: 28.00,\n    imageUrl: 'https://placehold.co/300x300/FF7F50/000000?text=Labubu+Vampire',\n    category: 'Collectible',\n    sku: 'COL-LABU-VAMP',\n    brand: 'Popmart',\n    variant: 'Vampire'\n  },\n  {\n    id: 'labubu-sweet-dream-figure',\n    name: 'Labubu Sweet Dream Figure',\n    description: 'A delightful Labubu figure depicting a sweet dream scene. Perfect for display.',\n    price: 17.50,\n    imageUrl: 'https://placehold.co/300x300/FF69B4/000000?text=Labubu+Sweet+Dream',\n    category: 'Collectible',\n    sku: 'COL-LABU-SD',\n    brand: 'Popmart',\n    variant: 'Sweet Dream'\n  },\n  {\n    id: 'labubu-trick-or-treat-series',\n    name: 'Labubu Trick-or-Treat Series',\n    description: 'Get into the Halloween spirit with the Labubu Trick-or-Treat blind box series. Collect all the ghoulishly cute figures!',\n    price: 16.99,\n    imageUrl: 'https://placehold.co/300x300/FF1493/000000?text=Labubu+Trick',\n    category: 'Collectible',\n    sku: 'COL-LABU-TOT',\n    brand: 'Popmart',\n    variant: 'Halloween'\n  },\n  {\n    id: 'marvel-collector-keychain',\n    name: 'Marvel Collector Keychain',\n    description: 'Officially licensed Marvel collectible keychain. Choose your favorite superhero!',\n    price: 7.99,\n    imageUrl: 'https://placehold.co/300x300/C71585/000000?text=Marvel+Keychain',\n    category: 'Collectible',\n    sku: 'COL-MARVEL-KC',\n    brand: 'Marvel',\n    variant: 'Assorted'\n  },\n  {\n    id: 'holiday-advent-calendar',\n    name: 'Holiday Advent Calendar',\n    description: 'Count down to the holidays with a surprise treat or toy each day. A festive way to celebrate!',\n    price: 25.00,\n    imageUrl: 'https://placehold.co/300x300/DB7093/000000?text=Advent+Calendar',\n    category: 'Holiday',\n    sku: 'HOL-ADVENT-001',\n    brand: 'FestiveFun',\n    variant: 'Standard'\n  }\n];\n\n// Define a subset of products for the \"Featured Products\" section on the Home Page\nconst featuredProducts = products.filter(product =>\n  product.name.toLowerCase().includes('labubu') || product.category === 'Collectible'\n);\n\n\n// --- Components ---\n\nconst Header = ({ navigate, cartItemCount }) => {\n  return (\n    <header className=\"bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-4 shadow-md rounded-b-lg\">\n      <div className=\"container mx-auto flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold font-inter cursor-pointer\" onClick={() => navigate('home')}>Brandazon</h1>\n        <nav className=\"flex items-center space-x-6\">\n          <button\n            onClick={() => navigate('home')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Home\n          </button>\n          <button\n            onClick={() => navigate('products')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Products\n          </button>\n          <button\n            onClick={() => navigate('simulatedSearch')}\n            className=\"text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Simulate Ad\n          </button>\n          <button\n            onClick={() => navigate('cart')}\n            className=\"relative text-lg hover:text-purple-200 transition duration-300 ease-in-out transform hover:scale-105\"\n          >\n            Cart ({cartItemCount})\n            {cartItemCount > 0 && (\n              <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\">\n                {cartItemCount}\n              </span>\n            )}\n          </button>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nconst PartnershipBanner = () => {\n  // Removed Promotion Viewed event from useEffect, now only triggered by click\n  const handleShopNowClick = () => {\n    // Promotion Clicked event\n    if (window.analytics) {\n      window.analytics.track('Promotion Clicked', {\n        promotion_id: 'labubu_popmart_banner_top',\n        creative: 'labubu_x_popmart_banner',\n        name: 'Labubu x Popmart Exclusive Partnership',\n        position: 'home_banner_top'\n      });\n    }\n    // In a real app, this would navigate to a specific Labubu category page or product list\n  };\n\n  return (\n    <div className=\"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-8 px-4 rounded-xl shadow-lg mb-12 text-center transform transition duration-500 hover:scale-102\">\n      <div className=\"container mx-auto flex flex-col md:flex-row items-center justify-center gap-6\">\n        <img\n          src=\"https://placehold.co/150x150/FFFFFF/FF69B4?text=Labubu+x+Popmart\"\n          alt=\"Labubu x Popmart Partnership\"\n          className=\"w-32 h-32 object-contain rounded-full border-4 border-white shadow-md\"\n          onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/150x150/CCCCCC/000000?text=Partnership`; }}\n        />\n        <div>\n          <h2 className=\"text-4xl md:text-5xl font-extrabold mb-2 leading-tight\">\n            <span className=\"block\">Brandazon x Labubu</span>\n            <span className=\"block text-2xl md:text-3xl font-semibold mt-1\">Exclusive Partnership with Popmart!</span>\n          </h2>\n          <p className=\"text-lg md:text-xl font-medium opacity-90\">\n            Discover the latest Labubu drops and limited editions, only here.\n          </p>\n          <button\n            onClick={handleShopNowClick}\n            className=\"mt-6 bg-white text-purple-700 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-100 hover:text-purple-800 transition duration-300 transform hover:scale-105\"\n          >\n            Shop Labubu Now!\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nconst ProductCard = ({ product, navigate, position }) => {\n  const { cart, setCart } = useContext(CartContext);\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id', // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n\n  const handleViewDetails = () => {\n    // Product Clicked event\n    if (window.analytics) {\n      window.analytics.track('Product Clicked', formatProductForSegment(product, 1, position));\n    }\n    // Product Viewed event - Triggered by button click, not just component mount\n    if (window.analytics) {\n      window.analytics.track('Product Viewed', {\n        product_id: product.id,\n        sku: product.sku,\n        category: product.category,\n        name: product.name,\n        brand: product.brand,\n        variant: product.variant,\n        price: product.price,\n        quantity: 1,\n        currency: 'USD',\n        value: product.price,\n        url: `${window.location.origin}${window.location.pathname}#/product/${product.id}`,\n        image_url: product.imageUrl,\n      });\n    }\n    navigate('productDetail', product.id);\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl flex flex-col\">\n      <img\n        src={product.imageUrl}\n        alt={product.name}\n        className=\"w-full h-48 object-cover rounded-t-xl\"\n        onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/300x300/CCCCCC/000000?text=Image+Not+Found`; }}\n      />\n      <div className=\"p-5 flex-grow flex flex-col justify-between\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">{product.name}</h3>\n          <p className=\"text-gray-600 text-sm mb-3 line-clamp-3\">{product.description}</p>\n          <p className=\"text-2xl font-bold text-purple-700 mb-4\">${product.price.toFixed(2)}</p>\n        </div>\n        <div className=\"flex flex-col space-y-3\">\n          <button\n            onClick={handleViewDetails}\n            className=\"w-full bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            View Details\n          </button>\n          <button\n            onClick={handleAddToCart}\n            className=\"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst HomePage = ({ navigate }) => {\n  // Removed Product List Viewed event from useEffect\n  return (\n    <div className=\"container mx-auto p-6\">\n      <PartnershipBanner />\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Featured Labubu & Popmart Collectibles</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {featuredProducts.map((product, index) => (\n          <ProductCard key={product.id} product={product} navigate={navigate} position={index + 1} />\n        ))}\n      </div>\n      <div className=\"text-center mt-12\">\n        <button\n          onClick={() => navigate('products')}\n          className=\"bg-blue-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n        >\n          View All Products\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst ProductsPage = ({ navigate }) => {\n  // Removed Product List Viewed event from useEffect\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">All Products</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n        {products.map((product, index) => (\n          <ProductCard key={product.id} product={product} navigate={navigate} position={index + 1} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ProductDetailPage = ({ productId, navigate }) => {\n  const [utmParams, setUtmParams] = useState(null); // Keep this state for UTMs\n  const { cart, setCart } = useContext(CartContext);\n\n  const product = products.find(p => p.id === productId);\n\n  useEffect(() => {\n    // Campaign Attribution Recorded (if UTMs are present) - Now triggered by the ProductDetailPage loading\n    // and checking for UTMs, which is a page-specific attribution, not a general \"track\" event on mount.\n    // This is a special case where the \"track\" event is directly related to the URL state.\n    if (window.analytics && product) {\n      const hashParts = window.location.hash.split('?');\n      const queryString = hashParts.length > 1 ? hashParts[1] : '';\n      const params = new URLSearchParams(queryString);\n\n      const parsedUtm = {};\n      for (let [key, value] of params.entries()) {\n        if (key.startsWith('utm_') || key.startsWith('gad_') || key.startsWith('gclid') || key.startsWith('gbraid')) {\n          parsedUtm[key] = value;\n        }\n      }\n\n      if (Object.keys(parsedUtm).length > 0) {\n        setUtmParams(parsedUtm); // Update state with parsed UTMs\n        window.analytics.track('Campaign Attribution Recorded', {\n          product_id: product.id,\n          product_name: product.name,\n          ...parsedUtm\n        });\n      } else {\n        setUtmParams(null); // Clear if no UTMs are present\n      }\n    }\n  }, [productId, product]); // Depend on productId and product only for this effect\n\n  if (!product) {\n    return (\n      <div className=\"container mx-auto p-6 text-center text-red-500\">\n        <h2 className=\"text-3xl font-bold mb-4\">Product Not Found</h2>\n        <button onClick={() => navigate('home')} className=\"mt-4 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600\">\n          Back to Home\n        </button>\n      </div>\n    );\n  }\n\n  const handleAddToCart = () => {\n    const existingItem = cart.find(item => item.id === product.id);\n    if (existingItem) {\n      setCart(cart.map(item =>\n        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n      ));\n    } else {\n      setCart([...cart, { ...product, quantity: 1 }]);\n    }\n    // Product Added event\n    if (window.analytics) {\n      window.analytics.track('Product Added', {\n        cart_id: 'brandazon_cart_id', // Placeholder cart ID\n        products: [formatProductForSegment(product, 1)] // Always add 1 unit per click\n      });\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start gap-8\">\n        <img\n          src={product.imageUrl}\n          alt={product.name}\n          className=\"w-full md:w-1/2 lg:w-1/3 h-auto object-cover rounded-lg shadow-md\"\n          onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/400x400/CCCCCC/000000?text=Image+Not+Found`; }}\n        />\n        <div className=\"flex-grow\">\n          <h2 className=\"text-4xl font-extrabold text-gray-900 mb-4\">{product.name}</h2>\n          <p className=\"text-gray-700 text-lg mb-6\">{product.description}</p>\n          <p className=\"text-4xl font-bold text-purple-700 mb-6\">${product.price.toFixed(2)}</p>\n          <button\n            onClick={handleAddToCart}\n            className=\"bg-purple-600 text-white py-3 px-8 rounded-lg text-xl font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Add to Cart\n          </button>\n          <button\n            onClick={() => navigate('home')}\n            className=\"ml-4 bg-gray-300 text-gray-800 py-3 px-8 rounded-lg text-xl font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Back to Home\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CartPage = ({ navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n\n  // Removed Cart Viewed event from useEffect\n  // It's generally better to track Cart Viewed as part of a page() call or\n  // only when the user explicitly interacts with the cart (e.g., clicks a \"View Cart\" button)\n\n  const updateQuantity = (id, delta) => {\n    const item = cart.find(i => i.id === id);\n    if (!item) return;\n\n    const newQuantity = item.quantity + delta;\n    if (newQuantity <= 0) {\n      // Product Removed event\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(item, item.quantity)] // Track original quantity being removed\n        });\n      }\n      setCart(cart.filter(i => i.id !== id));\n    } else {\n      setCart(cart.map(i =>\n        i.id === id ? { ...i, quantity: newQuantity } : i\n      ));\n      if (delta > 0) {\n        // Product Added event (for quantity increase)\n        if (window.analytics) {\n          window.analytics.track('Product Added', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(item, 1)] // Track 1 unit added\n          });\n        }\n      } else {\n        // Product Removed event (for quantity decrease)\n        if (window.analytics) {\n          window.analytics.track('Product Removed', {\n            cart_id: 'brandazon_cart_id',\n            products: [formatProductForSegment(item, 1)] // Track 1 unit removed\n          });\n        }\n      }\n    }\n  };\n\n  const removeItem = (id) => {\n    const itemToRemove = cart.find(item => item.id === id);\n    if (itemToRemove) {\n      // Product Removed event (for full item removal)\n      if (window.analytics) {\n        window.analytics.track('Product Removed', {\n          cart_id: 'brandazon_cart_id',\n          products: [formatProductForSegment(itemToRemove, itemToRemove.quantity)]\n        });\n      }\n      setCart(cart.filter(item => item.id !== id));\n    }\n  };\n\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  const handleCheckout = () => {\n    // Checkout Started event\n    if (window.analytics) {\n      window.analytics.track('Checkout Started', {\n        order_id: `ORDER-${Date.now()}-${Math.floor(Math.random() * 1000)}`, // Generate a unique order_id\n        affiliation: 'Brandazon Online Store',\n        value: totalAmount,\n        revenue: totalAmount, // Assuming no separate discounts/taxes for simplicity here\n        shipping: 0, // Placeholder\n        tax: 0,      // Placeholder\n        discount: 0, // Placeholder\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n    navigate('checkout');\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Your Shopping Cart</h2>\n      {cart.length === 0 ? (\n        <div className=\"text-center text-gray-600 text-xl\">\n          Your cart is empty. <button onClick={() => navigate('home')} className=\"text-blue-600 hover:underline\">Start shopping!</button>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <div className=\"space-y-6\">\n            {cart.map(item => (\n              <div key={item.id} className=\"flex items-center justify-between border-b pb-4 last:border-b-0 last:pb-0\">\n                <div className=\"flex items-center space-x-4\">\n                  <img\n                    src={item.imageUrl}\n                    alt={item.name}\n                    className=\"w-20 h-20 object-cover rounded-lg shadow-sm\"\n                    onError={(e) => { e.target.onerror = null; e.target.src = `https://placehold.co/80x80/CCCCCC/000000?text=Img`; }}\n                  />\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-gray-800\">{item.name}</h3>\n                    <p className=\"text-gray-600\">${item.price.toFixed(2)}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"flex items-center border border-gray-300 rounded-md\">\n                    <button\n                      onClick={() => updateQuantity(item.id, -1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-l-md\"\n                    >\n                      -\n                    </button>\n                    <span className=\"px-3 py-1 border-x border-gray-300\">{item.quantity}</span>\n                    <button\n                      onClick={() => updateQuantity(item.id, 1)}\n                      className=\"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded-r-md\"\n                    >\n                      +\n                    </button>\n                  </div>\n                  <p className=\"text-xl font-bold text-purple-700 w-24 text-right\">${(item.price * item.quantity).toFixed(2)}</p>\n                  <button\n                    onClick={() => removeItem(item.id)}\n                    className=\"text-red-500 hover:text-red-700 transition duration-300\"\n                    title=\"Remove item\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"flex justify-end items-center mt-8 pt-6 border-t border-gray-200\">\n            <p className=\"text-2xl font-bold text-gray-900 mr-4\">Total:</p>\n            <p className=\"text-3xl font-extrabold text-purple-800\">${totalAmount.toFixed(2)}</p>\n          </div>\n          <div className=\"flex justify-end mt-6 space-x-4\">\n            <button\n              onClick={() => navigate('home')}\n              className=\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n            >\n              Continue Shopping\n            </button>\n            <button\n              onClick={handleCheckout}\n              disabled={cart.length === 0}\n              className={`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length === 0 ? 'bg-gray-400 text-gray-600 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}`}\n            >\n              Proceed to Checkout\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst CheckoutPage = ({ navigate }) => {\n  const { cart, setCart } = useContext(CartContext);\n  const [orderPlaced, setOrderPlaced] = useState(false);\n  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  useEffect(() => {\n    // Placeholder for user ID - In a real app, this would come from an auth system\n    const userId = 'user_12345';\n    const userTraits = {\n      email: 'user@example.com',\n      name: 'John Doe',\n    };\n\n    // Identify call on checkout page load (or when user logs in/is identified)\n    if (window.analytics) {\n      window.analytics.identify(userId, userTraits);\n    }\n\n    // Removed Checkout Step Viewed event from useEffect\n  }, []); // Only on mount\n\n  const handlePlaceOrder = () => {\n    const orderId = `ORDER-${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n    const revenue = totalAmount;\n    const shipping = 0;\n    const tax = 0;\n    const discount = 0;\n    const coupon = 'N/A';\n\n    // Payment Info Entered event (simulated before Order Completed)\n    if (window.analytics) {\n      window.analytics.track('Payment Info Entered', {\n        checkout_id: 'brandazon_checkout_id',\n        order_id: orderId,\n        payment_method: 'Credit Card' // Placeholder\n      });\n    }\n\n    // Order Completed event\n    if (window.analytics) {\n      window.analytics.track('Order Completed', {\n        checkout_id: 'brandazon_checkout_id',\n        order_id: orderId,\n        affiliation: 'Brandazon Online Store',\n        total: totalAmount + shipping + tax - discount,\n        subtotal: totalAmount,\n        revenue: revenue,\n        shipping: shipping,\n        tax: tax,\n        discount: discount,\n        coupon: coupon,\n        currency: 'USD',\n        products: cart.map(item => formatProductForSegment(item, item.quantity))\n      });\n    }\n\n    setOrderPlaced(true);\n    setCart([]); // Clear cart after purchase\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8 text-center\">Checkout</h2>\n      <div className=\"bg-white rounded-xl shadow-lg p-8\">\n        {orderPlaced ? (\n          <div className=\"text-center text-green-700 text-2xl font-semibold\">\n            <p className=\"mb-4\"> Your order has been placed successfully!</p>\n            <p>Thank you for shopping with Brandazon!</p>\n            <button\n              onClick={() => navigate('home')}\n              className=\"mt-8 bg-purple-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-purple-700 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n            >\n              Continue Shopping\n            </button>\n          </div>\n        ) : (\n          <>\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Order Summary</h3>\n              {cart.length === 0 ? (\n                <p className=\"text-gray-600\">Your cart is empty. Please add items before checking out.</p>\n              ) : (\n                <ul className=\"space-y-3\">\n                  {cart.map(item => (\n                    <li key={item.id} className=\"flex justify-between text-gray-700 text-lg\">\n                      <span>{item.name} (x{item.quantity})</span>\n                      <span>${(item.price * item.quantity).toFixed(2)}</span>\n                    </li>\n                  ))}\n                </ul>\n              )}\n              <div className=\"flex justify-between items-center mt-6 pt-4 border-t border-gray-200\">\n                <p className=\"text-2xl font-bold text-gray-900 mr-4\">Total:</p>\n                <p className=\"text-3xl font-extrabold text-purple-800\">${totalAmount.toFixed(2)}</p>\n              </div>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Shipping Information</h3>\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"fullName\" className=\"block text-gray-700 text-sm font-bold mb-2\">Full Name</label>\n                  <input type=\"text\" id=\"fullName\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"John Doe\" required />\n                </div>\n                <div>\n                  <label htmlFor=\"address\" className=\"block text-gray-700 text-sm font-bold mb-2\">Address</label>\n                  <input type=\"text\" id=\"address\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"123 Main St\" required />\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"city\" className=\"block text-gray-700 text-sm font-bold mb-2\">City</label>\n                    <input type=\"text\" id=\"city\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"Anytown\" required />\n                  </div>\n                  <div>\n                    <label htmlFor=\"zip\" className=\"block text-gray-700 text-sm font-bold mb-2\">Zip Code</label>\n                    <input type=\"text\" id=\"zip\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"12345\" required />\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Payment Information</h3>\n              <form className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"cardNumber\" className=\"block text-gray-700 text-sm font-bold mb-2\">Card Number</label>\n                  <input type=\"text\" id=\"cardNumber\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"**** **** **** ****\" required />\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label htmlFor=\"expiryDate\" className=\"block text-gray-700 text-sm font-bold mb-2\">Expiry Date (MM/YY)</label>\n                    <input type=\"text\" id=\"expiryDate\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"12/25\" required />\n                  </div>\n                  <div>\n                    <label htmlFor=\"cvv\" className=\"block text-gray-700 text-sm font-bold mb-2\">CVV</label>\n                    <input type=\"text\" id=\"cvv\" className=\"shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-purple-500\" placeholder=\"123\" required />\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <div className=\"flex justify-end space-x-4\">\n              <button\n                onClick={() => navigate('cart')}\n                className=\"bg-gray-300 text-gray-800 py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-400 transition duration-300 ease-in-out shadow-md hover:shadow-lg\"\n              >\n                Back to Cart\n              </button>\n              <button\n                onClick={handlePlaceOrder}\n                disabled={cart.length === 0}\n                className={`py-3 px-6 rounded-lg text-lg font-semibold transition duration-300 ease-in-out shadow-md hover:shadow-lg\n                  ${cart.length === 0 ? 'bg-gray-400 text-gray-600 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}`}\n            >\n              Place Order\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  </div>\n);\n};\n\nconst SimulatedSearchEnginePage = ({ products }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    // Page view for Simulated Search Engine (this is a page, not a track event on mount)\n    if (window.analytics) {\n      window.analytics.page('Marketing', 'Simulated Search Engine Page', {\n        path: window.location.pathname + window.location.hash,\n        url: window.location.href\n      });\n    }\n  }, []);\n\n  const handleAdClick = () => {\n    const lowerCaseSearchTerm = searchTerm.toLowerCase();\n    let targetProductId = 'labubu-blind-box-series-8'; // Default Labubu product\n\n    const matchedProduct = products.find(p =>\n      p.name.toLowerCase().includes(lowerCaseSearchTerm) ||\n      p.description.toLowerCase().includes(lowerCaseSearchTerm) ||\n      p.category.toLowerCase().includes(lowerCaseSearchTerm)\n    );\n\n    if (matchedProduct) {\n      targetProductId = matchedProduct.id;\n    }\n\n    // Products Searched event (triggered by click)\n    if (window.analytics) {\n      window.analytics.track('Products Searched', {\n        query: searchTerm.trim()\n      });\n    }\n\n    // Construct the query parameters string\n    const queryParams = new URLSearchParams();\n    queryParams.append('utm_source', 'google');\n    queryParams.append('utm_medium', 'cpc');\n    queryParams.append('utm_campaign', 'labubu_launch_q3');\n    queryParams.append('utm_content', 'search_ad_banner');\n    queryParams.append('utm_term', searchTerm.trim() || 'default_search_term');\n    queryParams.append('gad_source', '1');\n    queryParams.append('gad_campaignid', '22690431292');\n    queryParams.append('gbraid', '0AAAAApZoGaVNZnuRe968aNy6x-Z4Y9TI6');\n    queryParams.append('gclid', 'CjwKCAjw1ozEBhAdEiwAn9qbzT99fJagIv7foNLlQnHysh63ZqtvIRL_hVhVDsUw_948_5Hs1WQu-BoCZCYQAvD_BwE'); // Example GCLID\n\n    const baseUrl = window.location.origin + window.location.pathname;\n    const constructedUrl = `${baseUrl}#/product/${targetProductId}?${queryParams.toString()}`;\n\n    window.location.href = constructedUrl;\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 flex flex-col items-center justify-center min-h-[60vh]\">\n      <div className=\"bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl text-center\">\n        <h2 className=\"text-4xl font-extrabold text-gray-900 mb-8\">Simulate a Search Engine Ad</h2>\n        <p className=\"text-gray-700 text-lg mb-6\">\n          Type a search query below and click \"Simulate Ad Click\" to see how UTM parameters would be passed to Brandazon.\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-8\">\n          <input\n            type=\"text\"\n            className=\"flex-grow shadow appearance-none border rounded-lg py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., Labubu, Earbuds, Monopoly\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            onKeyPress={(e) => { if (e.key === 'Enter') handleAdClick(); }}\n          />\n          <button\n            onClick={handleAdClick}\n            className=\"bg-blue-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-blue-700 transition duration-300 ease-in-out shadow-lg hover:shadow-xl\"\n          >\n            Simulate Ad Click\n          </button>\n        </div>\n        <p className=\"text-gray-500 text-sm\">\n          (This will change the URL in your browser's address bar and navigate to the product page.)\n        </p>\n      </div>\n    </div>\n  );\n};\n\n\n// --- Main App Component ---\nconst App = () => {\n  // We'll manage routing based on window.location.hash directly\n  const [currentPage, setCurrentPage] = useState('home');\n  const [selectedProductId, setSelectedProductId] = useState(null);\n  const [cart, setCart] = useState([]);\n\n  // Effect to handle initial page load and hash changes for routing and Segment page calls\n  useEffect(() => {\n    const handleNavigationAndTracking = () => {\n      const hash = window.location.hash;\n      let pageName = '';\n      let pageCategory = '';\n      let currentProductId = null; // To store product ID if on product detail page\n\n      if (hash.startsWith('#/product/')) {\n        const productIdFromHash = hash.split('?')[0].replace('#/product/', '');\n        setCurrentPage('productDetail');\n        currentProductId = productIdFromHash;\n        setSelectedProductId(productIdFromHash);\n        pageName = 'Product Detail Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/products') {\n        setCurrentPage('products');\n        setSelectedProductId(null);\n        pageName = 'All Products Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/simulatedSearch') {\n        setCurrentPage('simulatedSearch');\n        setSelectedProductId(null);\n        pageName = 'Simulated Search Engine Page';\n        pageCategory = 'Marketing';\n      } else if (hash === '#/cart') {\n        setCurrentPage('cart');\n        setSelectedProductId(null);\n        pageName = 'Cart Page';\n        pageCategory = 'E-commerce';\n      } else if (hash === '#/checkout') {\n        setCurrentPage('checkout');\n        setSelectedProductId(null);\n        pageName = 'Checkout Page';\n        pageCategory = 'E-commerce';\n      }\n      else {\n        setCurrentPage('home');\n        setSelectedProductId(null);\n        pageName = 'Home Page';\n        pageCategory = 'E-commerce';\n      }\n\n      // Segment Page call for every route change, including initial load after refresh\n      if (window.analytics) {\n        window.analytics.page(pageCategory, pageName, {\n          path: window.location.pathname + window.location.hash,\n          url: window.location.href,\n          // Add product_id to page properties if on product detail page\n          ...(currentProductId && { product_id: currentProductId })\n        });\n      }\n    };\n\n    // Set initial page and trigger Segment page call on component mount (after refresh)\n    handleNavigationAndTracking();\n\n    // Listen for hash changes for subsequent in-app navigation\n    window.addEventListener('hashchange', handleNavigationAndTracking);\n\n    // Cleanup listener\n    return () => {\n      window.removeEventListener('hashchange', handleNavigationAndTracking);\n    };\n  }, []); // Run once on mount\n\n  // Placeholder for initial user identification (e.g., on first load or after login)\n  useEffect(() => {\n    const anonymousId = localStorage.getItem('anonymousId');\n    if (!anonymousId) {\n      const newAnonymousId = `anon-${Date.now()}-${Math.floor(Math.random() * 100000)}`;\n      localStorage.setItem('anonymousId', newAnonymousId);\n      if (window.analytics) {\n        window.analytics.identify(newAnonymousId);\n      }\n    } else {\n      if (window.analytics) {\n        window.analytics.identify(anonymousId);\n      }\n    }\n\n    if (window.analytics) {\n      window.analytics.track('Application Loaded');\n    }\n\n  }, []);\n\n\n  // Internal navigation function (for internal app links)\n  const navigate = (page, productId = null) => {\n    let newHash = '';\n    switch (page) {\n      case 'home':\n        newHash = ''; // Empty hash for home\n        break;\n      case 'products':\n        newHash = '#/products';\n        break;\n      case 'simulatedSearch':\n        newHash = '#/simulatedSearch';\n        break;\n      case 'productDetail':\n        newHash = `#/product/${productId}`;\n        break;\n      case 'cart':\n        newHash = '#/cart';\n        break;\n      case 'checkout':\n        newHash = '#/checkout';\n        break;\n      default:\n        newHash = '';\n    }\n    window.location.hash = newHash; // Update hash, which will trigger handleNavigationAndTracking\n  };\n\n  const cartItemCount = cart.reduce((count, item) => count + item.quantity, 0);\n\n  return (\n    // Provide the cart context to all child components\n    <CartContext.Provider value={{ cart, setCart }}>\n      <div className=\"min-h-screen bg-gray-100 font-inter antialiased\">\n        <style>\n          {`\n            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n            body {\n              font-family: 'Inter', sans-serif;\n            }\n          `}\n        </style>\n        <Header navigate={navigate} cartItemCount={cartItemCount} />\n        <main className=\"py-8\">\n          {(() => {\n            switch (currentPage) {\n              case 'home':\n                return <HomePage navigate={navigate} />;\n              case 'products':\n                return <ProductsPage navigate={navigate} />;\n              case 'simulatedSearch':\n                return <SimulatedSearchEnginePage products={products} />; // Pass products to SimulatedSearchEnginePage\n              case 'productDetail':\n                // ProductDetailPage now reads its own productId and UTMs from the URL\n                return <ProductDetailPage productId={selectedProductId} navigate={navigate} />;\n              case 'cart':\n                return <CartPage navigate={navigate} />;\n              case 'checkout':\n                return <CheckoutPage navigate={navigate} />;\n              default:\n                return <HomePage navigate={navigate} />;\n            }\n          })()}\n        </main>\n      </div>\n    </CartContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}